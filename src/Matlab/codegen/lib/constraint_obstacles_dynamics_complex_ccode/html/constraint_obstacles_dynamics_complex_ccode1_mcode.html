<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> <span class="mxinfo " id="T1:U1"><span class="var type1" id="S2T1U3"><span class="message error" id="M4F1C">L_f_h_ang_part1</span></span></span> = constraint_obstacles_dynamics_complex_ccode(<span class="var type1" id="S3T2U6">u</span>, <span class="var type1" id="S4T1U7">t</span>, <span class="var type1" id="S5T3U8">traj_ob</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line"><span class="comment">%calculate the coefficients from the multiple static obstacles </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%20181011, add the actuator dynamics, the actuator dynamics is treated as 1-st order system, the steering angle and acc become states</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line"><span class="comment">%carefully check this file</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line"><span class="comment">%feedback states:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line"><span class="mxinfo " id="T1:U5"><span class="var type1" id="S6T1U11">xp_dot</span> = <span class="mxinfo " id="T1:U7"><span class="var type1" id="S3T2U13">u</span>(<span class="mxinfo " id="T5:U9">1</span>)</span></span>;  <span class="comment">%longitudinal speed</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line"><span class="mxinfo " id="T1:U10"><span class="var type1" id="S7T1U17">yp_dot</span> = <span class="mxinfo " id="T1:U12"><span class="var type1" id="S3T2U19">u</span>(<span class="mxinfo " id="T5:U14">2</span>)</span></span>;  <span class="comment">%lateral speed</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line"><span class="mxinfo " id="T1:U15"><span class="var type1" id="S8T1U23">psi_dot</span> = <span class="mxinfo " id="T1:U17"><span class="var type1" id="S3T2U25">u</span>(<span class="mxinfo " id="T5:U19">3</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line"><span class="mxinfo " id="T1:U20"><span class="var type1" id="S9T1U29">epsi</span> = <span class="mxinfo " id="T1:U22"><span class="var type1" id="S3T2U31">u</span>(<span class="mxinfo " id="T5:U24">4</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line"><span class="mxinfo " id="T1:U25"><span class="var type1" id="S10T1U35">ey</span>= <span class="mxinfo " id="T1:U27"><span class="var type1" id="S3T2U37">u</span>(<span class="mxinfo " id="T5:U29">5</span>)</span></span>;  <span class="comment">%lateral position</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line"><span class="mxinfo " id="T1:U30"><span class="var type1" id="S11T1U41">s</span> = <span class="mxinfo " id="T1:U32"><span class="var type1" id="S3T2U43">u</span>(<span class="mxinfo " id="T5:U34">6</span>)</span></span>;  <span class="comment">%logitudinal position </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line"><span class="comment">%20181011 add: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line"><span class="mxinfo " id="T1:U35"><span class="var type1" id="S12T1U47">steer</span> = <span class="mxinfo " id="T1:U37"><span class="var type1" id="S3T2U49">u</span>(<span class="mxinfo " id="T1:U39">7</span>)</span></span>;   <span class="comment">%steering angle </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line"><span class="mxinfo " id="T1:U40"><span class="var type1" id="S13T1U53">acc</span> = <span class="mxinfo " id="T1:U42"><span class="var type1" id="S3T2U55">u</span>(<span class="mxinfo " id="T1:U44">8</span>)</span></span>;  <span class="comment">%longitudinal acc </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line"><span class="comment">%static obstacles: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line"><span class="comment">% global no_ob;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line"><span class="keyword">global</span> <span class="var type0" id="S14T0U58">dead</span>;  <span class="comment">%once there is vilation of constraints, trigger dead,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line"><span class="comment">% global pos_ob_array_pre radius_pre;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line"><span class="mxinfo " id="T1:U45"><span class="var type1" id="S15T1U61">no_ob_input</span> = <span class="mxinfo " id="T1:U47"><span class="var type1" id="S5T3U63">traj_ob</span>.no</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line"><span class="mxinfo " id="T6:U49"><span class="var type1" id="S16T6U67">pos_ob_array_pre_input</span> = <span class="mxinfo " id="T6:U51">zeros(<span class="mxinfo " id="T1:U52">2</span>,<span class="var type1" id="S15T1U71">no_ob_input</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line"><span class="mxinfo " id="T6:U54"><span class="var type1" id="S18T6U74">vel_ob_array_pre</span> = <span class="mxinfo " id="T6:U56">zeros(<span class="mxinfo " id="T1:U57">2</span>,<span class="var type1" id="S15T1U78">no_ob_input</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line"><span class="mxinfo " id="T6:U59"><span class="var type1" id="S19T6U81">acc_ob_array</span> = <span class="mxinfo " id="T6:U61">zeros(<span class="mxinfo " id="T1:U62">2</span>,<span class="var type1" id="S15T1U85">no_ob_input</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line"><span class="mxinfo " id="T6:U64"><span class="var type1" id="S16T6U88">pos_ob_array_pre_input</span> = <span class="mxinfo " id="T4:U66"><span class="var type1" id="S5T3U90">traj_ob</span>.pos</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line"><span class="mxinfo " id="T6:U68"><span class="var type1" id="S18T6U94">vel_ob_array_pre</span> = <span class="mxinfo " id="T4:U70"><span class="var type1" id="S5T3U96">traj_ob</span>.vel</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line"><span class="mxinfo " id="T6:U72"><span class="var type1" id="S19T6U100">acc_ob_array</span> = <span class="mxinfo " id="T4:U74"><span class="var type1" id="S5T3U102">traj_ob</span>.acc</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line"><span class="mxinfo " id="T1:U76"><span class="var type1" id="S20T1U106">radius_pre</span> = <span class="mxinfo " id="T1:U78"><span class="var type1" id="S5T3U108">traj_ob</span>.rad</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line"><span class="comment">% radius = ones(no_ob,2);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line"><span class="comment">%%note that if two of the obstacles have the same x-coordinates, then the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line"><span class="comment">%%solver will let the vehicle go into the gap between the two obstacles,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line"><span class="comment">%%and if the gap is two small or even negative, then the QP problem will</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line"><span class="comment">%%become non solvable. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line"><span class="comment">%in this case, we can modify the center of the obstacle a little, so that</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line"><span class="comment">%the solver will not let the vehicle go to the gap between the two</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line"><span class="comment">%obstacles, but go to another side which is not between the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line"><span class="comment">%two obstacles. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,1) = [200+0*t; 0.0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,2) = [500; -0.0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,3) = [800; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,4) = [800;  1.5];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,5) = [1000;  0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,6) = [1200; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,7) = [1400;  0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,8) = [1400; -0.5];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,9) = [1700; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,10) = [1900; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line"><span class="comment">% pos_ob = [46.4496317612391,49.4606128179940,50.1520441588954,56.2263831741385,58.8805838768333;0.414589645301348,2.00584160428506,1.55964509106729,1.77552917183758,2.57119129022772];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line"><span class="comment">% % pos_ob(1,:) = sort(pos_ob(1,:));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line"><span class="comment">%     pos_ob_array_pre = pos_ob;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line"><span class="comment">% vel_ob_array_pre(:,1) = [ 0; 0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line"><span class="comment">% vel_ob_array_pre(:,2) = [0; 0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line"><span class="comment">%the size of the output depends on the number of the obstacles and the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63"> 63</a></span><span class="line"><span class="comment">%number of the constraints:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64"> 64</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65"> 65</a></span><span class="line"><span class="comment">%select the active obstacles, which are in the front of the vehicle, and the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66"> 66</a></span><span class="line"><span class="comment">%distance is less than a shreshold. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67"> 67</a></span><span class="line"><span class="mxinfo " id="T1:U80"><span class="var type1" id="S21T1U112">dis_shresh</span> = <span class="mxinfo " id="T1:U82">600</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68"> 68</a></span><span class="line"><span class="mxinfo " id="T6:U83"><span class="message warning" id="M1F1C"><span class="var type1" id="S22T6U116">pos_ob_array</span> = []</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69"> 69</a></span><span class="line"><span class="mxinfo " id="T6:U85"><span class="message warning" id="M2F1C"><span class="var type1" id="S23T6U121">vel_ob_array</span> =[]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70"> 70</a></span><span class="line"><span class="mxinfo " id="T7:U87"><span class="message warning" id="M3F1C"><span class="var type1" id="S24T7U126">radius_array</span> = []</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71"> 71</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S25T1U131">i</span> = <span class="mxinfo " id="T7:U90"><span class="mxinfo " id="T1:U91">1</span>:<span class="var type1" id="S15T1U134">no_ob_input</span></span> </span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72"> 72</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo " id="T8:U93"><span class="mxinfo " id="T1:U94"><span class="var type1" id="S16T6U141">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T5:U96">1</span>,<span class="var type1" id="S25T1U143">i</span>)</span>&gt;=(<span class="mxinfo " id="T1:U98"><span class="var type1" id="S11T1U146">s</span>-<span class="mxinfo " id="T1:U100">3</span></span>)</span>) &amp;&amp; (<span class="mxinfo " id="T8:U101"><span class="mxinfo " id="T1:U102">abs(<span class="mxinfo " id="T1:U103"><span class="var type1" id="S11T1U153">s</span>-<span class="mxinfo " id="T1:U105"><span class="var type1" id="S16T6U155">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T1:U107">1</span>,<span class="var type1" id="S25T1U157">i</span>)</span></span>)</span>&lt;=<span class="var type1" id="S21T1U158">dis_shresh</span></span>)  <span class="comment">%be careful, should be very careful</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73"> 73</a></span><span class="line">        <span class="mxinfo " id="T6:U110"><span class="var type1" id="S22T6U161">pos_ob_array</span> = <span class="mxinfo " id="T6:U112">[<span class="var type1" id="S22T6U164">pos_ob_array</span>, <span class="mxinfo " id="T4:U114"><span class="var type1" id="S16T6U166">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T9:U116">:</span>,<span class="var type1" id="S25T1U168">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74"> 74</a></span><span class="line">        <span class="mxinfo " id="T6:U118"><span class="var type1" id="S23T6U171">vel_ob_array</span> = <span class="mxinfo " id="T6:U120">[<span class="var type1" id="S23T6U174">vel_ob_array</span>, <span class="mxinfo " id="T4:U122"><span class="var type1" id="S18T6U176">vel_ob_array_pre</span>(<span class="mxinfo " id="T9:U124">:</span>,<span class="var type1" id="S25T1U178">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75"> 75</a></span><span class="line">        <span class="mxinfo " id="T7:U126"><span class="var type1" id="S24T7U181">radius_array</span> = <span class="mxinfo " id="T7:U128">[<span class="var type1" id="S24T7U184">radius_array</span>; <span class="mxinfo " id="T5:U130"><span class="var type1" id="S20T1U187">radius_pre</span>(<span class="var type1" id="S25T1U188">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76"> 76</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77"> 77</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78"> 78</a></span><span class="line"><span class="mxinfo " id="T1:U133"><span class="var type1" id="S27T1U191">no_ob_active</span> = <span class="mxinfo " id="T1:U135">size(<span class="var type1" id="S22T6U194">pos_ob_array</span>,2)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79"> 79</a></span><span class="line"><span class="keyword">if</span>(<span class="mxinfo " id="T8:U137"><span class="var type1" id="S27T1U200">no_ob_active</span> == <span class="mxinfo " id="T1:U139">0</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80"> 80</a></span><span class="line">    <span class="mxinfo " id="T6:U140"><span class="var type1" id="S22T6U204">pos_ob_array</span> = <span class="mxinfo " id="T4:U142"><span class="var type1" id="S16T6U206">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T9:U144">:</span>,<span class="mxinfo " id="T1:U145">end</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81"> 81</a></span><span class="line">    <span class="mxinfo " id="T6:U146"><span class="var type1" id="S23T6U212">vel_ob_array</span> = <span class="mxinfo " id="T4:U148"><span class="var type1" id="S18T6U214">vel_ob_array_pre</span>(<span class="mxinfo " id="T9:U150">:</span>,<span class="mxinfo " id="T1:U151">end</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82"> 82</a></span><span class="line">    <span class="mxinfo " id="T7:U152"><span class="var type1" id="S24T7U220">radius_array</span> = <span class="var type1" id="S20T1U222">radius_pre</span>(end)</span>;<span class="comment">%very important, cause a lot of errors </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83"> 83</a></span><span class="line">    <span class="mxinfo " id="T1:U155"><span class="var type1" id="S27T1U227">no_ob_active</span>=<span class="mxinfo " id="T1:U157">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84"> 84</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85"> 85</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86"> 86</a></span><span class="line"><span class="mxinfo " id="T7:U158"><span class="var type1" id="S30T7U231">dis_2_vehicle</span> = <span class="mxinfo " id="T7:U160">zeros(<span class="var type1" id="S27T1U234">no_ob_active</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87"> 87</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S31T1U238">i_ob</span> =<span class="mxinfo " id="T7:U163"><span class="mxinfo " id="T1:U164">1</span>:<span class="var type1" id="S27T1U241">no_ob_active</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88"> 88</a></span><span class="line"><span class="comment">%% states of the vehicle and each obstacle:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,89" id="srcline89"> 89</a></span><span class="line">    <span class="mxinfo " id="T4:U166"><span class="var type1" id="S32T4U244">pos_ob</span> = <span class="mxinfo " id="T4:U168"><span class="var type1" id="S22T6U246">pos_ob_array</span>(<span class="mxinfo " id="T9:U170">:</span>,<span class="var type1" id="S31T1U248">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,90" id="srcline90"> 90</a></span><span class="line">    <span class="mxinfo " id="T4:U172"><span class="var type1" id="S33T4U251">vel_ob</span> = <span class="mxinfo " id="T4:U174"><span class="var type1" id="S23T6U253">vel_ob_array</span>(<span class="mxinfo " id="T9:U176">:</span>,<span class="var type1" id="S31T1U255">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,91" id="srcline91"> 91</a></span><span class="line">    <span class="mxinfo " id="T4:U178"><span class="var type1" id="S34T4U258">acc_ob</span> = <span class="mxinfo " id="T4:U180"><span class="var type1" id="S19T6U260">acc_ob_array</span>(<span class="mxinfo " id="T9:U182">:</span>,<span class="var type1" id="S31T1U262">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,92" id="srcline92"> 92</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,93" id="srcline93"> 93</a></span><span class="line">    <span class="mxinfo " id="T1:U184"><span class="var type1" id="S35T1U265">pos_ob_x</span> = <span class="mxinfo " id="T1:U186"><span class="var type1" id="S32T4U267">pos_ob</span>(<span class="mxinfo " id="T1:U188">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,94" id="srcline94"> 94</a></span><span class="line">    <span class="mxinfo " id="T1:U189"><span class="var type1" id="S36T1U271">pos_ob_y</span> = <span class="mxinfo " id="T1:U191"><span class="var type1" id="S32T4U273">pos_ob</span>(<span class="mxinfo " id="T1:U193">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,95" id="srcline95"> 95</a></span><span class="line">    <span class="mxinfo " id="T1:U194"><span class="var type1" id="S37T1U277">vel_ob_x</span> = <span class="mxinfo " id="T1:U196"><span class="var type1" id="S33T4U279">vel_ob</span>(<span class="mxinfo " id="T1:U198">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,96" id="srcline96"> 96</a></span><span class="line">    <span class="mxinfo " id="T1:U199"><span class="var type1" id="S38T1U283">vel_ob_y</span> = <span class="mxinfo " id="T1:U201"><span class="var type1" id="S33T4U285">vel_ob</span>(<span class="mxinfo " id="T1:U203">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,97" id="srcline97"> 97</a></span><span class="line">    <span class="mxinfo " id="T1:U204"><span class="var type1" id="S39T1U289">acc_ob_x</span> = <span class="mxinfo " id="T1:U206"><span class="var type1" id="S34T4U291">acc_ob</span>(<span class="mxinfo " id="T1:U208">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,98" id="srcline98"> 98</a></span><span class="line">    <span class="mxinfo " id="T1:U209"><span class="var type1" id="S40T1U295">acc_ob_y</span> = <span class="mxinfo " id="T1:U211"><span class="var type1" id="S34T4U297">acc_ob</span>(<span class="mxinfo " id="T1:U213">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,99" id="srcline99"> 99</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,100" id="srcline100">100</a></span><span class="line">    <span class="mxinfo " id="T4:U214"><span class="var type1" id="S41T4U301">v_vehicle</span> = <span class="mxinfo " id="T4:U216">[<span class="mxinfo " id="T1:U217"><span class="mxinfo " id="T1:U218"><span class="var type1" id="S6T1U306">xp_dot</span>*<span class="mxinfo " id="T1:U220">cos(<span class="var type1" id="S9T1U309">epsi</span>)</span></span>-<span class="mxinfo " id="T1:U222"><span class="var type1" id="S7T1U311">yp_dot</span>*<span class="mxinfo " id="T1:U224">sin(<span class="var type1" id="S9T1U314">epsi</span>)</span></span></span>; <span class="mxinfo " id="T1:U226"><span class="mxinfo " id="T1:U227"><span class="var type1" id="S7T1U318">yp_dot</span>*<span class="mxinfo " id="T1:U229">cos(<span class="var type1" id="S9T1U321">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U231"><span class="var type1" id="S6T1U323">xp_dot</span>*<span class="mxinfo " id="T1:U233">sin(<span class="var type1" id="S9T1U326">epsi</span>)</span></span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,101" id="srcline101">101</a></span><span class="line">    <span class="mxinfo " id="T4:U235"><span class="var type1" id="S44T4U329">rel_pos</span> = <span class="mxinfo " id="T4:U237"><span class="mxinfo " id="T4:U238">[<span class="var type1" id="S11T1U333">s</span>; <span class="var type1" id="S10T1U335">ey</span>]</span> - <span class="var type1" id="S32T4U336">pos_ob</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,102" id="srcline102">102</a></span><span class="line">    <span class="mxinfo " id="T4:U242"><span class="var type1" id="S45T4U339">rel_vel</span> = <span class="mxinfo " id="T4:U244"><span class="var type1" id="S41T4U341">v_vehicle</span> - <span class="mxinfo " id="T4:U246">[<span class="var type1" id="S37T1U344">vel_ob_x</span>; <span class="var type1" id="S38T1U346">vel_ob_y</span>]</span></span></span>; <span class="comment">%assume epsi is small, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,103" id="srcline103">103</a></span><span class="line">    <span class="mxinfo " id="T1:U249"><span class="mxinfo " id="T1:U250"><span class="var type1" id="S30T7U350">dis_2_vehicle</span>(<span class="var type1" id="S31T1U351">i_ob</span>)</span> = <span class="mxinfo " id="T1:U253"><span class="mxinfo " id="T1:U254">-<span class="mxinfo " id="T1:U255"><span class="mxinfo " id="T1:U256">norm(<span class="var type1" id="S44T4U357">rel_pos</span>)</span>^2</span></span>/(<span class="mxinfo " id="T1:U258"><span class="mxinfo " id="T10:U259"><span class="var type1" id="S44T4U362">rel_pos</span>'</span>*<span class="var type1" id="S45T4U363">rel_vel</span></span>)</span></span>;  <span class="comment">%distance from the vehicle</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,104" id="srcline104">104</a></span><span class="line">    <span class="mxinfo " id="T1:U262"><span class="mxinfo " id="T1:U263"><span class="var type1" id="S30T7U367">dis_2_vehicle</span>(<span class="var type1" id="S31T1U368">i_ob</span>)</span> = <span class="mxinfo " id="T1:U266">norm(<span class="var type1" id="S44T4U371">rel_pos</span>)</span></span> ;  <span class="comment">%distance from the vehicle</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,105" id="srcline105">105</a></span><span class="line"><span class="keyword">end</span> </span></span>
<span class="srcline"><span class="lineno"><a href="1,106" id="srcline106">106</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,107" id="srcline107">107</a></span><span class="line"><span class="comment">%order the obstacles, from nearest to farest, considering the velocity: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,108" id="srcline108">108</a></span><span class="line">[<span class="var type1" id="S47T7U375">dis</span>, <span class="var type1" id="S48T7U376">i_dis</span>] =sort(<span class="var type1" id="S30T7U379">dis_2_vehicle</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,109" id="srcline109">109</a></span><span class="line"><span class="mxinfo " id="T6:U271"><span class="var type1" id="S22T6U382">pos_ob_array</span> = <span class="mxinfo " id="T6:U273"><span class="var type1" id="S22T6U384">pos_ob_array</span>(<span class="mxinfo " id="T9:U275">:</span>, <span class="var type1" id="S48T7U386">i_dis</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,110" id="srcline110">110</a></span><span class="line"><span class="mxinfo " id="T6:U277"><span class="var type1" id="S23T6U389">vel_ob_array</span> = <span class="mxinfo " id="T6:U279"><span class="var type1" id="S23T6U391">vel_ob_array</span>(<span class="mxinfo " id="T9:U281">:</span>, <span class="var type1" id="S48T7U393">i_dis</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,111" id="srcline111">111</a></span><span class="line"><span class="mxinfo " id="T7:U283"><span class="var type1" id="S24T7U396">radius_array</span> = <span class="mxinfo " id="T7:U285"><span class="var type1" id="S24T7U398">radius_array</span>( <span class="var type1" id="S48T7U399">i_dis</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,112" id="srcline112">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,113" id="srcline113">113</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,114" id="srcline114">114</a></span><span class="line"><span class="keyword">if</span> (<span class="mxinfo " id="T8:U288"><span class="var type1" id="S27T1U404">no_ob_active</span> &gt;=<span class="mxinfo " id="T1:U290">2</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,115" id="srcline115">115</a></span><span class="line">    <span class="comment">%if the x-coordinates of the first two obstacles are the same, then</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,116" id="srcline116">116</a></span><span class="line">    <span class="comment">%modified the second obstacles a little, see the comments previously </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,117" id="srcline117">117</a></span><span class="line">    <span class="keyword">if</span>(<span class="mxinfo " id="T8:U291"><span class="mxinfo " id="T1:U292"><span class="var type1" id="S22T6U411">pos_ob_array</span>(<span class="mxinfo " id="T5:U294">1</span>,<span class="mxinfo " id="T1:U295">1</span>)</span> == <span class="mxinfo " id="T1:U296"><span class="var type1" id="S22T6U415">pos_ob_array</span>(<span class="mxinfo " id="T1:U298">1</span>,<span class="mxinfo " id="T1:U299">2</span>)</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,118" id="srcline118">118</a></span><span class="line">       <span class="keyword">if</span>(<span class="mxinfo " id="T8:U300"><span class="mxinfo " id="T1:U301">abs(<span class="mxinfo " id="T1:U302"><span class="var type1" id="S22T6U425">pos_ob_array</span>(<span class="mxinfo " id="T5:U304">2</span>,<span class="mxinfo " id="T1:U305">1</span>)</span>)</span> &gt;= <span class="mxinfo " id="T1:U306">abs(<span class="mxinfo " id="T1:U307"><span class="var type1" id="S22T6U431">pos_ob_array</span>(<span class="mxinfo " id="T5:U309">2</span>,<span class="mxinfo " id="T1:U310">2</span>)</span>)</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,119" id="srcline119">119</a></span><span class="line">            <span class="mxinfo " id="T1:U311"><span class="mxinfo " id="T1:U312"><span class="var type1" id="S22T6U437">pos_ob_array</span>(<span class="mxinfo " id="T1:U314">1</span>,<span class="mxinfo " id="T1:U315">2</span>)</span> = <span class="mxinfo " id="T1:U316"><span class="mxinfo " id="T1:U317"><span class="var type1" id="S22T6U442">pos_ob_array</span>(<span class="mxinfo " id="T1:U319">1</span>,<span class="mxinfo " id="T1:U320">2</span>)</span> - <span class="mxinfo " id="T1:U321">0.01</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,120" id="srcline120">120</a></span><span class="line">       <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,121" id="srcline121">121</a></span><span class="line">           <span class="mxinfo " id="T1:U322"><span class="mxinfo " id="T1:U323"><span class="var type1" id="S22T6U450">pos_ob_array</span>(<span class="mxinfo " id="T1:U325">1</span>,<span class="mxinfo " id="T1:U326">2</span>)</span> = <span class="mxinfo " id="T1:U327"><span class="mxinfo " id="T1:U328"><span class="var type1" id="S22T6U455">pos_ob_array</span>(<span class="mxinfo " id="T1:U330">1</span>,<span class="mxinfo " id="T1:U331">2</span>)</span> + <span class="mxinfo " id="T1:U332">0.01</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,122" id="srcline122">122</a></span><span class="line">       <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,123" id="srcline123">123</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,124" id="srcline124">124</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,125" id="srcline125">125</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,126" id="srcline126">126</a></span><span class="line"><span class="mxinfo " id="T1:U333"><span class="var type1" id="S14T1U461">dead</span> = <span class="mxinfo " id="T1:U335">0</span></span>; <span class="comment">%unlock </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,127" id="srcline127">127</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,128" id="srcline128">128</a></span><span class="line"><span class="comment">%On 20180815, I found a mistake in the dynamics</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,129" id="srcline129">129</a></span><span class="line"><span class="comment">%%  for the road side constraints: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,130" id="srcline130">130</a></span><span class="line"><span class="mxinfo " id="T1:U336"><span class="var type1" id="S50T1U465">ck</span> = <span class="mxinfo " id="T1:U338">1</span></span>;  <span class="comment">%for relax cbf </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,131" id="srcline131">131</a></span><span class="line"><span class="mxinfo " id="T1:U339"><span class="var type1" id="S51T1U469">ey_pos</span> = <span class="mxinfo " id="T1:U341">3.2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,132" id="srcline132">132</a></span><span class="line"><span class="mxinfo " id="T1:U342"><span class="var type1" id="S52T1U473">ey_neg</span> = <span class="mxinfo " id="T1:U344">-<span class="mxinfo " id="T1:U345">3.2</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,133" id="srcline133">133</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,134" id="srcline134">134</a></span><span class="line"><span class="comment">% ey_pos = 4.2;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,135" id="srcline135">135</a></span><span class="line"><span class="comment">% ey_neg = -4.2; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,136" id="srcline136">136</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,137" id="srcline137">137</a></span><span class="line"><span class="mxinfo " id="T1:U346"><span class="var type1" id="S53T1U478">a_m</span> = <span class="mxinfo " id="T1:U348">4</span></span>;  <span class="comment">%maximum acc </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,138" id="srcline138">138</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,139" id="srcline139">139</a></span><span class="line"><span class="comment">%constants: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,140" id="srcline140">140</a></span><span class="line"><span class="mxinfo " id="T1:U349"><span class="var type1" id="S54T1U482">a</span> = <span class="mxinfo " id="T1:U351">1.41</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,141" id="srcline141">141</a></span><span class="line"><span class="mxinfo " id="T1:U352"><span class="var type1" id="S55T1U486">b</span> = <span class="mxinfo " id="T1:U354">1.576</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,142" id="srcline142">142</a></span><span class="line"><span class="mxinfo " id="T1:U355"><span class="var type1" id="S56T1U490">mu</span> =<span class="mxinfo " id="T1:U357">0.5</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,143" id="srcline143">143</a></span><span class="line"><span class="mxinfo " id="T1:U358"><span class="var type1" id="S57T1U494">Fzf</span> = <span class="mxinfo " id="T1:U360"><span class="mxinfo " id="T1:U361">21940</span>/<span class="mxinfo " id="T1:U362">2</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,144" id="srcline144">144</a></span><span class="line"><span class="mxinfo " id="T1:U363"><span class="var type1" id="S58T1U500">Fzr</span> = <span class="mxinfo " id="T1:U365"><span class="mxinfo " id="T1:U366">21940</span>/<span class="mxinfo " id="T1:U367">2</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,145" id="srcline145">145</a></span><span class="line"><span class="mxinfo " id="T1:U368"><span class="var type1" id="S59T1U506">cf</span> = <span class="mxinfo " id="T1:U370">65000</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,146" id="srcline146">146</a></span><span class="line"><span class="mxinfo " id="T1:U371"><span class="var type1" id="S60T1U510">cr</span> = <span class="mxinfo " id="T1:U373">65000</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,147" id="srcline147">147</a></span><span class="line"><span class="mxinfo " id="T1:U374"><span class="var type1" id="S61T1U514">m</span> = <span class="mxinfo " id="T1:U376">2194</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,148" id="srcline148">148</a></span><span class="line"><span class="mxinfo " id="T1:U377"><span class="var type1" id="S62T1U518">Iz</span> = <span class="mxinfo " id="T1:U379">4770</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,149" id="srcline149">149</a></span><span class="line"><span class="mxinfo " id="T1:U380"><span class="var type1" id="S63T1U522">psi_dot_com</span> = <span class="mxinfo " id="T1:U382">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,150" id="srcline150">150</a></span><span class="line"><span class="mxinfo " id="T1:U383"><span class="var type1" id="S64T1U526">p</span> =<span class="mxinfo " id="T1:U385"><span class="var type1" id="S62T1U528">Iz</span>/(<span class="mxinfo " id="T1:U387"><span class="var type1" id="S61T1U531">m</span>*<span class="var type1" id="S55T1U532">b</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,151" id="srcline151">151</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,152" id="srcline152">152</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,153" id="srcline153">153</a></span><span class="line"><span class="comment">%constants: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,154" id="srcline154">154</a></span><span class="line">      <span class="mxinfo " id="T1:U390"><span class="var type1" id="S50T1U535">ck</span> = <span class="mxinfo " id="T1:U392">1.0</span></span>; <span class="mxinfo " id="T1:U393"><span class="var type1" id="S51T1U539">ey_pos</span> = <span class="mxinfo " id="T1:U395">3.2</span></span>; <span class="mxinfo " id="T1:U396"><span class="var type1" id="S52T1U543">ey_neg</span> = <span class="mxinfo " id="T1:U398">-<span class="mxinfo " id="T1:U399">3.2</span></span></span>; <span class="mxinfo " id="T1:U400"><span class="var type1" id="S53T1U548">a_m</span> = <span class="mxinfo " id="T1:U402">4.0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,155" id="srcline155">155</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,156" id="srcline156">156</a></span><span class="line">		      <span class="mxinfo " id="T1:U403"><span class="var type1" id="S54T1U552">a</span> = <span class="mxinfo " id="T1:U405">1.68</span></span>; <span class="mxinfo " id="T1:U406"><span class="var type1" id="S55T1U556">b</span> = <span class="mxinfo " id="T1:U408">1.715</span></span>; <span class="mxinfo " id="T1:U409"><span class="var type1" id="S56T1U560">mu</span> = <span class="mxinfo " id="T1:U411">3.4812e+05</span></span>; <span class="mxinfo " id="T1:U412"><span class="var type1" id="S57T1U564">Fzf</span> = <span class="mxinfo " id="T1:U414"><span class="mxinfo " id="T1:U415">21940.0</span>/<span class="mxinfo " id="T1:U416">2</span></span></span>; <span class="mxinfo " id="T1:U417"><span class="var type1" id="S58T1U570">Fzr</span> = <span class="mxinfo " id="T1:U419"><span class="mxinfo " id="T1:U420">21940.0</span>/<span class="mxinfo " id="T1:U421">2</span></span></span>;     </span></span>
<span class="srcline"><span class="lineno"><a href="1,157" id="srcline157">157</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,158" id="srcline158">158</a></span><span class="line">		      <span class="mxinfo " id="T1:U422"><span class="var type1" id="S59T1U576">cf</span> = <span class="mxinfo " id="T1:U424">3.4812e+05</span></span>; <span class="mxinfo " id="T1:U425"><span class="var type1" id="S60T1U580">cr</span> = <span class="mxinfo " id="T1:U427">3.5537e+05</span></span>; <span class="mxinfo " id="T1:U428"><span class="var type1" id="S61T1U584">m</span> = <span class="mxinfo " id="T1:U430">9840.0</span></span>; <span class="mxinfo " id="T1:U431"><span class="var type1" id="S62T1U588">Iz</span> = <span class="mxinfo " id="T1:U433">41340.0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,159" id="srcline159">159</a></span><span class="line">      <span class="mxinfo " id="T1:U434"><span class="var type1" id="S63T1U592">psi_dot_com</span> = <span class="mxinfo " id="T1:U436">0.0</span></span>;  <span class="mxinfo " id="T1:U437"><span class="var type1" id="S64T1U596">p</span> = <span class="mxinfo " id="T1:U439"><span class="var type1" id="S62T1U598">Iz</span> / (<span class="mxinfo " id="T1:U441"><span class="var type1" id="S61T1U601">m</span> * <span class="var type1" id="S55T1U602">b</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,160" id="srcline160">160</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,161" id="srcline161">161</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,162" id="srcline162">162</a></span><span class="line"><span class="mxinfo " id="T1:U444"><span class="var type1" id="S65T1U605">h_sid_pos</span> = <span class="mxinfo " id="T1:U446"><span class="mxinfo " id="T1:U447"><span class="var type1" id="S51T1U608">ey_pos</span> - <span class="var type1" id="S10T1U609">ey</span></span> - <span class="mxinfo " id="T1:U450"><span class="mxinfo " id="T1:U451">(<span class="mxinfo " id="T1:U452"><span class="mxinfo " id="T1:U453"><span class="var type1" id="S7T1U615">yp_dot</span>*<span class="mxinfo " id="T1:U455">cos(<span class="var type1" id="S9T1U618">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U457"><span class="var type1" id="S6T1U620">xp_dot</span>*<span class="mxinfo " id="T1:U459">sin(<span class="var type1" id="S9T1U623">epsi</span>)</span></span></span>)^2</span>/(<span class="mxinfo " id="T1:U461">2*<span class="var type1" id="S53T1U628">a_m</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,163" id="srcline163">163</a></span><span class="line"><span class="comment">% L_f_h_sid_pos = ((yp_dot*cos(epsi) + xp_dot*sin(epsi))*(2*cf*yp_dot*cos(epsi) + 2*cr*yp_dot*cos(epsi) - a_m*m*xp_dot + 2*a*cf*psi_dot*cos(epsi) - 2*b*cr*psi_dot*cos(epsi) + m*psi_dot_com*xp_dot^2*cos(epsi) - m*psi_dot_com*xp_dot*yp_dot*sin(epsi)))/(a_m*m*xp_dot); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,164" id="srcline164">164</a></span><span class="line"><span class="comment">% L_g_h_sid_pos = [ -(2*cf*cos(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/(a_m*m), -(sin(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/a_m];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,165" id="srcline165">165</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,166" id="srcline166">166</a></span><span class="line"><span class="mxinfo " id="T1:U463"><span class="var type1" id="S66T1U631">L_f_h_sid_pos</span> = <span class="mxinfo " id="T1:U465">(<span class="mxinfo " id="T1:U466">(<span class="mxinfo " id="T1:U467"><span class="mxinfo " id="T1:U468"><span class="var type1" id="S7T1U638">yp_dot</span>*<span class="mxinfo " id="T1:U470">cos(<span class="var type1" id="S9T1U641">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U472"><span class="var type1" id="S6T1U643">xp_dot</span>*<span class="mxinfo " id="T1:U474">sin(<span class="var type1" id="S9T1U646">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U476"><span class="mxinfo " id="T1:U477"><span class="mxinfo " id="T1:U478"><span class="mxinfo " id="T1:U479"><span class="mxinfo " id="T1:U480"><span class="mxinfo " id="T1:U481"><span class="mxinfo " id="T1:U482"><span class="mxinfo " id="T1:U483"><span class="mxinfo " id="T1:U484"><span class="mxinfo " id="T1:U485">2</span>*<span class="var type1" id="S59T1U658">cf</span></span>*<span class="var type1" id="S7T1U659">yp_dot</span></span>*<span class="mxinfo " id="T1:U488">cos(<span class="var type1" id="S9T1U662">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U490"><span class="mxinfo " id="T1:U491"><span class="mxinfo " id="T1:U492"><span class="mxinfo " id="T1:U493">2</span>*<span class="var type1" id="S60T1U667">cr</span></span>*<span class="var type1" id="S7T1U668">yp_dot</span></span>*<span class="mxinfo " id="T1:U496">cos(<span class="var type1" id="S9T1U671">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U498"><span class="mxinfo " id="T1:U499"><span class="var type1" id="S53T1U674">a_m</span>*<span class="var type1" id="S61T1U675">m</span></span>*<span class="var type1" id="S6T1U676">xp_dot</span></span></span> + <span class="mxinfo " id="T1:U503"><span class="mxinfo " id="T1:U504"><span class="mxinfo " id="T1:U505"><span class="mxinfo " id="T1:U506"><span class="mxinfo " id="T1:U507">2</span>*<span class="var type1" id="S54T1U682">a</span></span>*<span class="var type1" id="S59T1U683">cf</span></span>*<span class="var type1" id="S8T1U684">psi_dot</span></span>*<span class="mxinfo " id="T1:U511">cos(<span class="var type1" id="S9T1U687">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U513"><span class="mxinfo " id="T1:U514"><span class="mxinfo " id="T1:U515"><span class="mxinfo " id="T1:U516"><span class="mxinfo " id="T1:U517">2</span>*<span class="var type1" id="S55T1U693">b</span></span>*<span class="var type1" id="S60T1U694">cr</span></span>*<span class="var type1" id="S8T1U695">psi_dot</span></span>*<span class="mxinfo " id="T1:U521">cos(<span class="var type1" id="S9T1U698">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U523"><span class="mxinfo " id="T1:U524"><span class="mxinfo " id="T1:U525"><span class="var type1" id="S61T1U702">m</span>*<span class="var type1" id="S63T1U703">psi_dot_com</span></span>*<span class="mxinfo " id="T1:U528"><span class="var type1" id="S6T1U705">xp_dot</span>^2</span></span>*<span class="mxinfo " id="T1:U530">cos(<span class="var type1" id="S9T1U709">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U532"><span class="mxinfo " id="T1:U533"><span class="mxinfo " id="T1:U534"><span class="mxinfo " id="T1:U535"><span class="var type1" id="S61T1U714">m</span>*<span class="var type1" id="S63T1U715">psi_dot_com</span></span>*<span class="var type1" id="S6T1U716">xp_dot</span></span>*<span class="var type1" id="S7T1U717">yp_dot</span></span>*<span class="mxinfo " id="T1:U540">sin(<span class="var type1" id="S9T1U720">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U542"><span class="mxinfo " id="T1:U543"><span class="var type1" id="S53T1U724">a_m</span>*<span class="var type1" id="S61T1U725">m</span></span>*<span class="var type1" id="S6T1U726">xp_dot</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,167" id="srcline167">167</a></span><span class="line"><span class="mxinfo " id="T10:U547"><span class="var type1" id="S67T10U729">L_g_h_sid_pos</span> = <span class="mxinfo " id="T10:U549">[ <span class="mxinfo " id="T1:U550"><span class="mxinfo " id="T1:U551">-(<span class="mxinfo " id="T1:U552"><span class="mxinfo " id="T1:U553"><span class="mxinfo " id="T1:U554"><span class="mxinfo " id="T1:U555">2</span>*<span class="var type1" id="S59T1U739">cf</span></span>*<span class="mxinfo " id="T1:U557">cos(<span class="var type1" id="S9T1U742">epsi</span>)</span></span>*(<span class="mxinfo " id="T1:U559"><span class="mxinfo " id="T1:U560"><span class="var type1" id="S7T1U746">yp_dot</span>*<span class="mxinfo " id="T1:U562">cos(<span class="var type1" id="S9T1U749">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U564"><span class="var type1" id="S6T1U751">xp_dot</span>*<span class="mxinfo " id="T1:U566">sin(<span class="var type1" id="S9T1U754">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U568"><span class="var type1" id="S53T1U757">a_m</span>*<span class="var type1" id="S61T1U758">m</span></span>)</span>, <span class="mxinfo " id="T1:U571"><span class="mxinfo " id="T1:U572">-(<span class="mxinfo " id="T1:U573"><span class="mxinfo " id="T1:U574">sin(<span class="var type1" id="S9T1U765">epsi</span>)</span>*(<span class="mxinfo " id="T1:U576"><span class="mxinfo " id="T1:U577"><span class="var type1" id="S7T1U769">yp_dot</span>*<span class="mxinfo " id="T1:U579">cos(<span class="var type1" id="S9T1U772">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U581"><span class="var type1" id="S6T1U774">xp_dot</span>*<span class="mxinfo " id="T1:U583">sin(<span class="var type1" id="S9T1U777">epsi</span>)</span></span></span>)</span>)</span>/<span class="var type1" id="S53T1U778">a_m</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,168" id="srcline168">168</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,169" id="srcline169">169</a></span><span class="line"><span class="mxinfo " id="T1:U586"><span class="var type1" id="S68T1U781">h_sid_neg</span> = <span class="mxinfo " id="T1:U588"><span class="mxinfo " id="T1:U589"><span class="var type1" id="S10T1U784">ey</span> - <span class="var type1" id="S52T1U785">ey_neg</span></span> - <span class="mxinfo " id="T1:U592"><span class="mxinfo " id="T1:U593">(<span class="mxinfo " id="T1:U594"><span class="mxinfo " id="T1:U595"><span class="var type1" id="S7T1U791">yp_dot</span>*<span class="mxinfo " id="T1:U597">cos(<span class="var type1" id="S9T1U794">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U599"><span class="var type1" id="S6T1U796">xp_dot</span>*<span class="mxinfo " id="T1:U601">sin(<span class="var type1" id="S9T1U799">epsi</span>)</span></span></span>)^2</span>/(<span class="mxinfo " id="T1:U603">2*<span class="var type1" id="S53T1U804">a_m</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,170" id="srcline170">170</a></span><span class="line"><span class="comment">% L_f_h_sid_neg = ((yp_dot*cos(epsi) + xp_dot*sin(epsi))*(2*cf*yp_dot*cos(epsi) + 2*cr*yp_dot*cos(epsi) + a_m*m*xp_dot + 2*a*cf*psi_dot*cos(epsi) - 2*b*cr*psi_dot*cos(epsi) + m*psi_dot_com*xp_dot^2*cos(epsi) - m*psi_dot_com*xp_dot*yp_dot*sin(epsi)))/(a_m*m*xp_dot);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,171" id="srcline171">171</a></span><span class="line"><span class="comment">% L_g_h_sid_neg = [ -(2*cf*cos(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/(a_m*m), -(sin(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/a_m];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,172" id="srcline172">172</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,173" id="srcline173">173</a></span><span class="line"><span class="mxinfo " id="T1:U605"><span class="var type1" id="S69T1U807">L_f_h_sid_neg</span> = <span class="mxinfo " id="T1:U607">(<span class="mxinfo " id="T1:U608">(<span class="mxinfo " id="T1:U609"><span class="mxinfo " id="T1:U610"><span class="var type1" id="S7T1U814">yp_dot</span>*<span class="mxinfo " id="T1:U612">cos(<span class="var type1" id="S9T1U817">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U614"><span class="var type1" id="S6T1U819">xp_dot</span>*<span class="mxinfo " id="T1:U616">sin(<span class="var type1" id="S9T1U822">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U618"><span class="mxinfo " id="T1:U619"><span class="mxinfo " id="T1:U620"><span class="mxinfo " id="T1:U621"><span class="mxinfo " id="T1:U622"><span class="mxinfo " id="T1:U623"><span class="mxinfo " id="T1:U624"><span class="mxinfo " id="T1:U625"><span class="mxinfo " id="T1:U626"><span class="mxinfo " id="T1:U627">2</span>*<span class="var type1" id="S59T1U834">cf</span></span>*<span class="var type1" id="S7T1U835">yp_dot</span></span>*<span class="mxinfo " id="T1:U630">cos(<span class="var type1" id="S9T1U838">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U632"><span class="mxinfo " id="T1:U633"><span class="mxinfo " id="T1:U634"><span class="mxinfo " id="T1:U635">2</span>*<span class="var type1" id="S60T1U843">cr</span></span>*<span class="var type1" id="S7T1U844">yp_dot</span></span>*<span class="mxinfo " id="T1:U638">cos(<span class="var type1" id="S9T1U847">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U640"><span class="mxinfo " id="T1:U641"><span class="var type1" id="S53T1U850">a_m</span>*<span class="var type1" id="S61T1U851">m</span></span>*<span class="var type1" id="S6T1U852">xp_dot</span></span></span> + <span class="mxinfo " id="T1:U645"><span class="mxinfo " id="T1:U646"><span class="mxinfo " id="T1:U647"><span class="mxinfo " id="T1:U648"><span class="mxinfo " id="T1:U649">2</span>*<span class="var type1" id="S54T1U858">a</span></span>*<span class="var type1" id="S59T1U859">cf</span></span>*<span class="var type1" id="S8T1U860">psi_dot</span></span>*<span class="mxinfo " id="T1:U653">cos(<span class="var type1" id="S9T1U863">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U655"><span class="mxinfo " id="T1:U656"><span class="mxinfo " id="T1:U657"><span class="mxinfo " id="T1:U658"><span class="mxinfo " id="T1:U659">2</span>*<span class="var type1" id="S55T1U869">b</span></span>*<span class="var type1" id="S60T1U870">cr</span></span>*<span class="var type1" id="S8T1U871">psi_dot</span></span>*<span class="mxinfo " id="T1:U663">cos(<span class="var type1" id="S9T1U874">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U665"><span class="mxinfo " id="T1:U666"><span class="mxinfo " id="T1:U667"><span class="var type1" id="S61T1U878">m</span>*<span class="var type1" id="S63T1U879">psi_dot_com</span></span>*<span class="mxinfo " id="T1:U670"><span class="var type1" id="S6T1U881">xp_dot</span>^2</span></span>*<span class="mxinfo " id="T1:U672">cos(<span class="var type1" id="S9T1U885">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U674"><span class="mxinfo " id="T1:U675"><span class="mxinfo " id="T1:U676"><span class="mxinfo " id="T1:U677"><span class="var type1" id="S61T1U890">m</span>*<span class="var type1" id="S63T1U891">psi_dot_com</span></span>*<span class="var type1" id="S6T1U892">xp_dot</span></span>*<span class="var type1" id="S7T1U893">yp_dot</span></span>*<span class="mxinfo " id="T1:U682">sin(<span class="var type1" id="S9T1U896">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U684"><span class="mxinfo " id="T1:U685"><span class="var type1" id="S53T1U900">a_m</span>*<span class="var type1" id="S61T1U901">m</span></span>*<span class="var type1" id="S6T1U902">xp_dot</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,174" id="srcline174">174</a></span><span class="line"><span class="mxinfo " id="T10:U689"><span class="var type1" id="S70T10U905">L_g_h_sid_neg</span> = <span class="mxinfo " id="T10:U691">[ <span class="mxinfo " id="T1:U692"><span class="mxinfo " id="T1:U693">-(<span class="mxinfo " id="T1:U694"><span class="mxinfo " id="T1:U695"><span class="mxinfo " id="T1:U696"><span class="mxinfo " id="T1:U697">2</span>*<span class="var type1" id="S59T1U915">cf</span></span>*<span class="mxinfo " id="T1:U699">cos(<span class="var type1" id="S9T1U918">epsi</span>)</span></span>*(<span class="mxinfo " id="T1:U701"><span class="mxinfo " id="T1:U702"><span class="var type1" id="S7T1U922">yp_dot</span>*<span class="mxinfo " id="T1:U704">cos(<span class="var type1" id="S9T1U925">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U706"><span class="var type1" id="S6T1U927">xp_dot</span>*<span class="mxinfo " id="T1:U708">sin(<span class="var type1" id="S9T1U930">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U710"><span class="var type1" id="S53T1U933">a_m</span>*<span class="var type1" id="S61T1U934">m</span></span>)</span>, <span class="mxinfo " id="T1:U713"><span class="mxinfo " id="T1:U714">-(<span class="mxinfo " id="T1:U715"><span class="mxinfo " id="T1:U716">sin(<span class="var type1" id="S9T1U941">epsi</span>)</span>*(<span class="mxinfo " id="T1:U718"><span class="mxinfo " id="T1:U719"><span class="var type1" id="S7T1U945">yp_dot</span>*<span class="mxinfo " id="T1:U721">cos(<span class="var type1" id="S9T1U948">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U723"><span class="var type1" id="S6T1U950">xp_dot</span>*<span class="mxinfo " id="T1:U725">sin(<span class="var type1" id="S9T1U953">epsi</span>)</span></span></span>)</span>)</span>/<span class="var type1" id="S53T1U954">a_m</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,175" id="srcline175">175</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,176" id="srcline176">176</a></span><span class="line"><span class="mxinfo " id="T10:U728"><span class="var type1" id="S71T10U957">A_n_side_pos</span> =  <span class="mxinfo " id="T10:U730">-<span class="var type1" id="S67T10U959">L_g_h_sid_pos</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,177" id="srcline177">177</a></span><span class="line"><span class="mxinfo " id="T1:U732"><span class="var type1" id="S72T1U962">b_n_side_pos</span> = <span class="mxinfo " id="T1:U734"><span class="var type1" id="S66T1U964">L_f_h_sid_pos</span> + <span class="mxinfo " id="T1:U736"><span class="mxinfo " id="T1:U737">0.5</span>*<span class="var type1" id="S65T1U967">h_sid_pos</span></span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,178" id="srcline178">178</a></span><span class="line"><span class="mxinfo " id="T10:U739"><span class="var type1" id="S73T10U970">A_n_side_neg</span>=  <span class="mxinfo " id="T10:U741">[-<span class="var type1" id="S70T10U974">L_g_h_sid_neg</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,179" id="srcline179">179</a></span><span class="line"><span class="mxinfo " id="T1:U743"><span class="var type1" id="S74T1U977">b_n_side_neg</span> = <span class="mxinfo " id="T1:U745"><span class="var type1" id="S69T1U979">L_f_h_sid_neg</span> + <span class="mxinfo " id="T1:U747"><span class="mxinfo " id="T1:U748">0.5</span>*<span class="var type1" id="S68T1U982">h_sid_neg</span></span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,180" id="srcline180">180</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,181" id="srcline181">181</a></span><span class="line"><span class="keyword">if</span>(<span class="mxinfo " id="T8:U750"><span class="var type1" id="S65T1U988">h_sid_pos</span>&gt;<span class="mxinfo " id="T1:U752">0</span></span>) &amp;&amp; (<span class="mxinfo " id="T8:U753">(<span class="mxinfo " id="T1:U754"><span class="mxinfo " id="T1:U755"><span class="var type1" id="S7T1U995">yp_dot</span>*<span class="mxinfo " id="T1:U757">cos(<span class="var type1" id="S9T1U998">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U759"><span class="var type1" id="S6T1U1000">xp_dot</span>*<span class="mxinfo " id="T1:U761">sin(<span class="var type1" id="S9T1U1003">epsi</span>)</span></span></span>)&lt;<span class="mxinfo " id="T1:U763">0</span></span>) <span class="comment">%if y-velocity is negative, do not need to constraint </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,182" id="srcline182">182</a></span><span class="line">    <span class="mxinfo " id="T10:U764"><span class="var type1" id="S71T10U1007">A_n_side_pos</span> =  <span class="mxinfo " id="T10:U766">[<span class="mxinfo " id="T1:U767">0</span>, <span class="mxinfo " id="T1:U768">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,183" id="srcline183">183</a></span><span class="line">    <span class="mxinfo " id="T1:U769"><span class="var type1" id="S72T1U1014">b_n_side_pos</span> = <span class="mxinfo " id="T1:U771">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,184" id="srcline184">184</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,185" id="srcline185">185</a></span><span class="line"><span class="keyword">if</span>(<span class="mxinfo " id="T8:U772"><span class="var type1" id="S68T1U1021">h_sid_neg</span>&gt;<span class="mxinfo " id="T1:U774">0</span></span>) &amp;&amp; (<span class="mxinfo " id="T8:U775">(<span class="mxinfo " id="T1:U776"><span class="mxinfo " id="T1:U777"><span class="var type1" id="S7T1U1028">yp_dot</span>*<span class="mxinfo " id="T1:U779">cos(<span class="var type1" id="S9T1U1031">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U781"><span class="var type1" id="S6T1U1033">xp_dot</span>*<span class="mxinfo " id="T1:U783">sin(<span class="var type1" id="S9T1U1036">epsi</span>)</span></span></span>)&gt;<span class="mxinfo " id="T1:U785">0</span></span>) <span class="comment">%if y-velocity is positive, do not need to constraint </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,186" id="srcline186">186</a></span><span class="line">    <span class="mxinfo " id="T10:U786"><span class="var type1" id="S73T10U1040">A_n_side_neg</span> =  <span class="mxinfo " id="T10:U788">[<span class="mxinfo " id="T1:U789">0</span>, <span class="mxinfo " id="T1:U790">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,187" id="srcline187">187</a></span><span class="line">    <span class="mxinfo " id="T1:U791"><span class="var type1" id="S74T1U1047">b_n_side_neg</span> = <span class="mxinfo " id="T1:U793">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,188" id="srcline188">188</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,189" id="srcline189">189</a></span><span class="line"><span class="keyword">if</span> (<span class="mxinfo " id="T8:U794"><span class="var type1" id="S10T1U1054">ey</span> &gt;= <span class="mxinfo " id="T1:U796">3.7</span></span>) || (<span class="mxinfo " id="T8:U797"><span class="var type1" id="S10T1U1058">ey</span>  &lt;= <span class="mxinfo " id="T1:U799">-<span class="mxinfo " id="T1:U800">3.7</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,190" id="srcline190">190</a></span><span class="line">    <span class="mxinfo " id="T1:U801"><span class="var type1" id="S14T1U1063">dead</span> = <span class="mxinfo " id="T1:U803">1</span></span>;  <span class="comment">%kill all </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,191" id="srcline191">191</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,192" id="srcline192">192</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,193" id="srcline193">193</a></span><span class="line"><span class="comment">% if (h_sid_neg &lt;=0) || (h_sid_pos  &lt;= 0)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,194" id="srcline194">194</a></span><span class="line"><span class="comment">%     dead = 1;  %kill all </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,195" id="srcline195">195</a></span><span class="line"><span class="comment">% end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,196" id="srcline196">196</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,197" id="srcline197">197</a></span><span class="line"><span class="comment">% tuning: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,198" id="srcline198">198</a></span><span class="line"><span class="comment">% A_n_side_pos = [0,  0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,199" id="srcline199">199</a></span><span class="line"><span class="comment">% b_n_side_pos = 1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,200" id="srcline200">200</a></span><span class="line"><span class="comment">% A_n_side_neg=  [0, 0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,201" id="srcline201">201</a></span><span class="line"><span class="comment">% b_n_side_neg = 1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,202" id="srcline202">202</a></span><span class="line"><span class="comment">% dead = 0;   </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,203" id="srcline203">203</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,204" id="srcline204">204</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,205" id="srcline205">205</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,206" id="srcline206">206</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S31T1U1067">i_ob</span> =<span class="mxinfo " id="T7:U805"><span class="mxinfo " id="T1:U806">1</span>:<span class="var type1" id="S27T1U1070">no_ob_active</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,207" id="srcline207">207</a></span><span class="line"><span class="comment">%% states of the vehicle and each obstacle:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,208" id="srcline208">208</a></span><span class="line">    <span class="mxinfo " id="T4:U808"><span class="var type1" id="S32T4U1073">pos_ob</span> = <span class="mxinfo " id="T4:U810"><span class="var type1" id="S22T6U1075">pos_ob_array</span>(<span class="mxinfo " id="T9:U812">:</span>,<span class="var type1" id="S31T1U1077">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,209" id="srcline209">209</a></span><span class="line">    <span class="mxinfo " id="T4:U814"><span class="var type1" id="S33T4U1080">vel_ob</span> = <span class="mxinfo " id="T4:U816"><span class="var type1" id="S23T6U1082">vel_ob_array</span>(<span class="mxinfo " id="T9:U818">:</span>,<span class="var type1" id="S31T1U1084">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,210" id="srcline210">210</a></span><span class="line">    <span class="mxinfo " id="T4:U820"><span class="var type1" id="S34T4U1087">acc_ob</span> = <span class="mxinfo " id="T4:U822"><span class="var type1" id="S19T6U1089">acc_ob_array</span>(<span class="mxinfo " id="T9:U824">:</span>,<span class="var type1" id="S31T1U1091">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,211" id="srcline211">211</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,212" id="srcline212">212</a></span><span class="line">    <span class="mxinfo " id="T1:U826"><span class="var type1" id="S35T1U1094">pos_ob_x</span> = <span class="mxinfo " id="T1:U828"><span class="var type1" id="S32T4U1096">pos_ob</span>(<span class="mxinfo " id="T5:U830">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,213" id="srcline213">213</a></span><span class="line">    <span class="mxinfo " id="T1:U831"><span class="var type1" id="S36T1U1100">pos_ob_y</span> = <span class="mxinfo " id="T1:U833"><span class="var type1" id="S32T4U1102">pos_ob</span>(<span class="mxinfo " id="T5:U835">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,214" id="srcline214">214</a></span><span class="line">    <span class="mxinfo " id="T1:U836"><span class="var type1" id="S37T1U1106">vel_ob_x</span> = <span class="mxinfo " id="T1:U838"><span class="var type1" id="S33T4U1108">vel_ob</span>(<span class="mxinfo " id="T5:U840">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,215" id="srcline215">215</a></span><span class="line">    <span class="mxinfo " id="T1:U841"><span class="var type1" id="S38T1U1112">vel_ob_y</span> = <span class="mxinfo " id="T1:U843"><span class="var type1" id="S33T4U1114">vel_ob</span>(<span class="mxinfo " id="T5:U845">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,216" id="srcline216">216</a></span><span class="line">    <span class="mxinfo " id="T1:U846"><span class="var type1" id="S39T1U1118">acc_ob_x</span> = <span class="mxinfo " id="T1:U848"><span class="var type1" id="S34T4U1120">acc_ob</span>(<span class="mxinfo " id="T1:U850">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,217" id="srcline217">217</a></span><span class="line">    <span class="mxinfo " id="T1:U851"><span class="var type1" id="S40T1U1124">acc_ob_y</span> = <span class="mxinfo " id="T1:U853"><span class="var type1" id="S34T4U1126">acc_ob</span>(<span class="mxinfo " id="T1:U855">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,218" id="srcline218">218</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,219" id="srcline219">219</a></span><span class="line">    <span class="mxinfo " id="T4:U856"><span class="var type1" id="S41T4U1130">v_vehicle</span> = <span class="mxinfo " id="T4:U858">[<span class="mxinfo " id="T1:U859"><span class="mxinfo " id="T1:U860"><span class="var type1" id="S6T1U1135">xp_dot</span>*<span class="mxinfo " id="T1:U862">cos(<span class="var type1" id="S9T1U1138">epsi</span>)</span></span>-<span class="mxinfo " id="T1:U864"><span class="var type1" id="S7T1U1140">yp_dot</span>*<span class="mxinfo " id="T1:U866">sin(<span class="var type1" id="S9T1U1143">epsi</span>)</span></span></span>; <span class="mxinfo " id="T1:U868"><span class="mxinfo " id="T1:U869"><span class="var type1" id="S7T1U1147">yp_dot</span>*<span class="mxinfo " id="T1:U871">cos(<span class="var type1" id="S9T1U1150">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U873"><span class="var type1" id="S6T1U1152">xp_dot</span>*<span class="mxinfo " id="T1:U875">sin(<span class="var type1" id="S9T1U1155">epsi</span>)</span></span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,220" id="srcline220">220</a></span><span class="line">    <span class="mxinfo " id="T4:U877"><span class="var type1" id="S44T4U1158">rel_pos</span> = <span class="mxinfo " id="T4:U879"><span class="mxinfo " id="T4:U880">[<span class="var type1" id="S11T1U1162">s</span>; <span class="var type1" id="S10T1U1164">ey</span>]</span> - <span class="var type1" id="S32T4U1165">pos_ob</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,221" id="srcline221">221</a></span><span class="line">    <span class="mxinfo " id="T4:U884"><span class="var type1" id="S45T4U1168">rel_vel</span> = <span class="mxinfo " id="T4:U886"><span class="var type1" id="S41T4U1170">v_vehicle</span> - <span class="mxinfo " id="T4:U888">[<span class="var type1" id="S37T1U1173">vel_ob_x</span>; <span class="var type1" id="S38T1U1175">vel_ob_y</span>]</span></span></span>; <span class="comment">%assume epsi is small, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,222" id="srcline222">222</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,223" id="srcline223">223</a></span><span class="line"><span class="comment">%     Ds = 1.2;  %the radius of obstacle </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,224" id="srcline224">224</a></span><span class="line">    <span class="comment">%constants: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,225" id="srcline225">225</a></span><span class="line"><span class="comment">%     a = 1.41; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,226" id="srcline226">226</a></span><span class="line"><span class="comment">%     b = 1.576; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,227" id="srcline227">227</a></span><span class="line"><span class="comment">%     mu =0.5; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,228" id="srcline228">228</a></span><span class="line"><span class="comment">%     Fzf = 21940/2; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,229" id="srcline229">229</a></span><span class="line"><span class="comment">%     Fzr = 21940/2; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,230" id="srcline230">230</a></span><span class="line"><span class="comment">%     cf = 65000; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,231" id="srcline231">231</a></span><span class="line"><span class="comment">%     cr = 65000; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,232" id="srcline232">232</a></span><span class="line"><span class="comment">%     m = 2194; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,233" id="srcline233">233</a></span><span class="line"><span class="comment">%     Iz = 4770; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,234" id="srcline234">234</a></span><span class="line"><span class="comment">%     psi_dot_com = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,235" id="srcline235">235</a></span><span class="line"><span class="comment">%     p =Iz/(m*b);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,236" id="srcline236">236</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,237" id="srcline237">237</a></span><span class="line"> <span class="comment">%% August 3th, angle constraint for obstacles, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,238" id="srcline238">238</a></span><span class="line">        <span class="comment">%constraint 1, angle constraint, test:  </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,239" id="srcline239">239</a></span><span class="line">    <span class="comment">%notice there may be virtrual number, nan, of inf, you should avoid these</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,240" id="srcline240">240</a></span><span class="line">    <span class="comment">%conditions: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,241" id="srcline241">241</a></span><span class="line"><span class="comment">%     Ds = 1.1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,242" id="srcline242">242</a></span><span class="line">    <span class="mxinfo " id="T1:U891"><span class="var type1" id="S75T1U1178">Ds</span> = <span class="mxinfo " id="T1:U893"><span class="mxinfo " id="T1:U894"><span class="var type1" id="S24T7U1181">radius_array</span>(<span class="var type1" id="S31T1U1182">i_ob</span>)</span>+<span class="mxinfo " id="T1:U897">0.5</span></span></span>; <span class="comment">%0.2</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,243" id="srcline243">243</a></span><span class="line">    <span class="mxinfo " id="T1:U898"><span class="var type1" id="S76T1U1186">norm_rel_pos</span> = <span class="mxinfo " id="T1:U900">norm(<span class="var type1" id="S44T4U1189">rel_pos</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,244" id="srcline244">244</a></span><span class="line">    <span class="mxinfo " id="T1:U902"><span class="var type1" id="S77T1U1192">cos_rel_ang</span> = <span class="mxinfo " id="T1:U904"><span class="mxinfo " id="T1:U905">(<span class="mxinfo " id="T1:U906"><span class="mxinfo " id="T10:U907">-<span class="mxinfo " id="T10:U908"><span class="var type1" id="S44T4U1199">rel_pos</span>.'</span></span>*<span class="var type1" id="S45T4U1200">rel_vel</span></span>) /<span class="var type1" id="S76T1U1201">norm_rel_pos</span></span>/<span class="mxinfo " id="T1:U912">norm(<span class="var type1" id="S45T4U1204">rel_vel</span>)</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,245" id="srcline245">245</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,246" id="srcline246">246</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo " id="T8:U914"><span class="var type1" id="S77T1U1209">cos_rel_ang</span>&gt;=<span class="mxinfo " id="T1:U916">-<span class="mxinfo " id="T1:U917">0.99</span></span></span>) </span></span>
<span class="srcline"><span class="lineno"><a href="1,247" id="srcline247">247</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T8:U918"><span class="var type1" id="S77T1U1216">cos_rel_ang</span>&gt;=<span class="mxinfo " id="T1:U920">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,248" id="srcline248">248</a></span><span class="line">            <span class="mxinfo " id="T1:U921"><span class="var type1" id="S77T1U1220">cos_rel_ang</span> = <span class="mxinfo " id="T1:U923">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,249" id="srcline249">249</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,250" id="srcline250">250</a></span><span class="line">        <span class="mxinfo " id="T1:U924"><span class="var type1" id="S78T1U1224">rel_ang</span> = <span class="mxinfo " id="T1:U926">acos(<span class="var type1" id="S77T1U1227">cos_rel_ang</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,251" id="srcline251">251</a></span><span class="line">        <span class="comment">% h_ang = rel_ang-asin(Ds/norm(rel_pos));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,252" id="srcline252">252</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,253" id="srcline253">253</a></span><span class="line">        <span class="mxinfo " id="T1:U928"><span class="var type1" id="S80T1U1230">ratio</span> = <span class="mxinfo " id="T1:U930"><span class="var type1" id="S75T1U1232">Ds</span>/<span class="var type1" id="S76T1U1233">norm_rel_pos</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,254" id="srcline254">254</a></span><span class="line">        <span class="comment">%notice if do not deal carefully, there maybe virtual number appearing. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,255" id="srcline255">255</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T8:U933"><span class="var type1" id="S80T1U1237">ratio</span>&gt;=<span class="mxinfo " id="T1:U935">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,256" id="srcline256">256</a></span><span class="line">            <span class="mxinfo " id="T1:U936"><span class="var type1" id="S80T1U1241">ratio</span> = <span class="mxinfo " id="T1:U938">0.9999999</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,257" id="srcline257">257</a></span><span class="line">            <span class="mxinfo " id="T1:U939"><span class="var type1" id="S14T1U1245">dead</span> = <span class="mxinfo " id="T1:U941">1</span></span>;  <span class="comment">%kill all </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,258" id="srcline258">258</a></span><span class="line">        <span class="keyword">end</span>    </span></span>
<span class="srcline"><span class="lineno"><a href="1,259" id="srcline259">259</a></span><span class="line"><span class="comment">%         h_ang = rel_ang - asin(ratio); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,260" id="srcline260">260</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,261" id="srcline261">261</a></span><span class="line">        <span class="comment">%very important, if this is zero, may make the qp infeasible due to the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,262" id="srcline262">262</a></span><span class="line">        <span class="comment">%zeros coefficient matrix, but the right matrix is negative </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,263" id="srcline263">263</a></span><span class="line">        <span class="comment">%sometimes, it may be NaN of inf, so this constraint actually do not work</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,264" id="srcline264">264</a></span><span class="line">        <span class="comment">%noticed on July, 18th, 2018</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,265" id="srcline265">265</a></span><span class="line">        <span class="keyword">if</span>(<span class="mxinfo " id="T8:U942"><span class="mxinfo " id="T1:U943">abs(<span class="var type1" id="S36T1U1253">pos_ob_y</span>)</span>&lt;<span class="mxinfo " id="T1:U945">1e-4</span></span>)    </span></span>
<span class="srcline"><span class="lineno"><a href="1,266" id="srcline266">266</a></span><span class="line">            <span class="mxinfo " id="T1:U946"><span class="var type1" id="S36T1U1257">pos_ob_y</span> = <span class="mxinfo " id="T1:U948"><span class="mxinfo " id="T1:U949">sign(<span class="var type1" id="S36T1U1261">pos_ob_y</span>)</span>*<span class="mxinfo " id="T1:U951">1e-4</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,267" id="srcline267">267</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,268" id="srcline268">268</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T8:U952"><span class="mxinfo " id="T1:U953">abs(<span class="var type1" id="S9T1U1269">epsi</span>)</span> &lt;= <span class="mxinfo " id="T1:U955">1e-5</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,269" id="srcline269">269</a></span><span class="line">            <span class="mxinfo " id="T1:U956"><span class="var type1" id="S9T1U1273">epsi</span> = <span class="mxinfo " id="T1:U958"><span class="mxinfo " id="T1:U959">sign(<span class="var type1" id="S9T1U1277">epsi</span>)</span>*<span class="mxinfo " id="T1:U961">1e-5</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,270" id="srcline270">270</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,271" id="srcline271">271</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,272" id="srcline272">272</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,273" id="srcline273">273</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,274" id="srcline274">274</a></span><span class="line">        <span class="mxinfo " id="T1:U962"><span class="var type1" id="S82T1U1281">L_t_h_ang_part1_tune</span> = <span class="mxinfo " id="T1:U964">-(<span class="mxinfo " id="T1:U965"><span class="mxinfo " id="T1:U966"><span class="mxinfo " id="T1:U967"><span class="mxinfo " id="T1:U968"><span class="mxinfo " id="T1:U969"><span class="mxinfo " id="T1:U970"><span class="mxinfo " id="T1:U971"><span class="mxinfo " id="T1:U972"><span class="mxinfo " id="T1:U973"><span class="mxinfo " id="T1:U974"><span class="mxinfo " id="T1:U975"><span class="mxinfo " id="T1:U976"><span class="var type1" id="S10T1U1296">ey</span> * <span class="var type1" id="S37T1U1297">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U979"><span class="var type1" id="S35T1U1299">pos_ob_x</span> * <span class="var type1" id="S38T1U1300">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U982"><span class="var type1" id="S36T1U1302">pos_ob_y</span> * <span class="var type1" id="S37T1U1303">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U985"><span class="var type1" id="S11T1U1305">s</span> * <span class="var type1" id="S38T1U1306">vel_ob_y</span></span></span>  <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,275" id="srcline275">275</a></span><span class="line">                    - <span class="mxinfo " id="T1:U988"><span class="mxinfo " id="T1:U989"><span class="var type1" id="S10T1U1309">ey</span> * <span class="var type1" id="S6T1U1310">xp_dot</span></span> * <span class="mxinfo " id="T1:U992">cos(<span class="var type1" id="S9T1U1313">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U994"><span class="mxinfo " id="T1:U995"><span class="var type1" id="S36T1U1316">pos_ob_y</span> * <span class="var type1" id="S6T1U1317">xp_dot</span></span> * <span class="mxinfo " id="T1:U998">cos(<span class="var type1" id="S9T1U1320">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1000"><span class="mxinfo " id="T1:U1001"><span class="var type1" id="S35T1U1323">pos_ob_x</span> * <span class="var type1" id="S7T1U1324">yp_dot</span></span> * <span class="mxinfo " id="T1:U1004">cos(<span class="var type1" id="S9T1U1327">epsi</span>)</span></span></span>  <span class="keyword">...</span><span class="comment"> </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,276" id="srcline276">276</a></span><span class="line">                    + <span class="mxinfo " id="T1:U1006"><span class="mxinfo " id="T1:U1007"><span class="var type1" id="S11T1U1330">s</span> * <span class="var type1" id="S7T1U1331">yp_dot</span></span> * <span class="mxinfo " id="T1:U1010">cos(<span class="var type1" id="S9T1U1334">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1012"><span class="mxinfo " id="T1:U1013"><span class="var type1" id="S10T1U1337">ey</span> * <span class="var type1" id="S7T1U1338">yp_dot</span></span> * <span class="mxinfo " id="T1:U1016">sin(<span class="var type1" id="S9T1U1341">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1018"><span class="mxinfo " id="T1:U1019"><span class="var type1" id="S35T1U1344">pos_ob_x</span> * <span class="var type1" id="S6T1U1345">xp_dot</span></span> * <span class="mxinfo " id="T1:U1022">sin(<span class="var type1" id="S9T1U1348">epsi</span>)</span></span></span> <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,277" id="srcline277">277</a></span><span class="line">                    - <span class="mxinfo " id="T1:U1024"><span class="mxinfo " id="T1:U1025"><span class="var type1" id="S36T1U1351">pos_ob_y</span> * <span class="var type1" id="S7T1U1352">yp_dot</span></span> * <span class="mxinfo " id="T1:U1028">sin(<span class="var type1" id="S9T1U1355">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1030"><span class="mxinfo " id="T1:U1031"><span class="var type1" id="S11T1U1358">s</span> * <span class="var type1" id="S6T1U1359">xp_dot</span></span> * <span class="mxinfo " id="T1:U1034">sin(<span class="var type1" id="S9T1U1362">epsi</span>)</span></span></span>)</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,278" id="srcline278">278</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,279" id="srcline279">279</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,280" id="srcline280">280</a></span><span class="line"><span class="comment">%         if (pos_ob_y == 0)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,281" id="srcline281">281</a></span><span class="line"><span class="comment">%             pos_ob_y =   1e-4;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,282" id="srcline282">282</a></span><span class="line"><span class="comment">%         end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,283" id="srcline283">283</a></span><span class="line"><span class="comment">%         if (epsi == 0 )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,284" id="srcline284">284</a></span><span class="line"><span class="comment">%             epsi =   1e-5;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,285" id="srcline285">285</a></span><span class="line"><span class="comment">%         end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,286" id="srcline286">286</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,287" id="srcline287">287</a></span><span class="line">        <span class="comment">%very important, due to calculation errors, there maybe sometimes the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,288" id="srcline288">288</a></span><span class="line">        <span class="comment">%results are virtual, should be treated carefully. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,289" id="srcline289">289</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,290" id="srcline290">290</a></span><span class="line">        <span class="comment">%notice, the longitudinal velocity is not be considered as state here </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,291" id="srcline291">291</a></span><span class="line">        <span class="comment">% L_f_h_ang = (yp_dot*cos(epsi) + xp_dot*sin(epsi))*((Ds*(ey - pos_ob_y))/((1 - Ds^2/((pos_ob_x - s)^2 + (ey - pos_ob_y)^2))^(1/2)*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)) - ((pos_ob_x - s)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2))) - cos(epsi)*(xp_dot - yp_dot)*((Ds*(pos_ob_x - s))/((1 - Ds^2/((pos_ob_x - s)^2 + (ey - pos_ob_y)^2))^(1/2)*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)) + ((ey - pos_ob_y)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2))) + ((psi_dot - psi_dot_com)*(xp_dot*yp_dot - xp_dot^2 + vel_ob_x*xp_dot*cos(epsi) + vel_ob_y*xp_dot*sin(epsi) - vel_ob_x*yp_dot*sin(epsi) - vel_ob_y*yp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - (cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(m*psi_dot*xp_dot^2 + 2*cf*yp_dot + 2*cr*yp_dot + 2*a*cf*psi_dot - 2*b*cr*psi_dot)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*xp_dot*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,292" id="srcline292">292</a></span><span class="line">        <span class="comment">% L_g_h_ang = (2*cf*cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,293" id="srcline293">293</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,294" id="srcline294">294</a></span><span class="line"><span class="comment">%         L_f_h_ang_part1 = ((psi_dot - psi_dot_com)*(xp_dot*yp_dot - xp_dot^2 + vel_ob_x*xp_dot*cos(epsi) + vel_ob_y*xp_dot*sin(epsi) - vel_ob_x*yp_dot*sin(epsi) - vel_ob_y*yp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - ((pos_ob_x - s)*(yp_dot*cos(epsi) + xp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - (cos(epsi)*(ey - pos_ob_y)*(xp_dot - yp_dot)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - (cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(m*psi_dot*xp_dot^2 + 2*cf*yp_dot + 2*cr*yp_dot + 2*a*cf*psi_dot - 2*b*cr*psi_dot)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*xp_dot*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,295" id="srcline295">295</a></span><span class="line"><span class="comment">%         L_t_h_ang_part1 = -((ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi))*(pos_ob_y*vel_ob_x^3 - pos_ob_x*vel_ob_y^3 - ey*vel_ob_x^3 + s*vel_ob_y^3 - acc_ob_x*pos_ob_x^2*vel_ob_y + acc_ob_y*pos_ob_x^2*vel_ob_x - acc_ob_x*pos_ob_y^2*vel_ob_y + acc_ob_y*pos_ob_y^2*vel_ob_x - acc_ob_x*s^2*vel_ob_y + acc_ob_y*s^2*vel_ob_x - ey*vel_ob_x*vel_ob_y^2 - ey*vel_ob_x*xp_dot^2 - pos_ob_x*vel_ob_x^2*vel_ob_y + pos_ob_y*vel_ob_x*vel_ob_y^2 - pos_ob_x*vel_ob_y*xp_dot^2 + pos_ob_y*vel_ob_x*xp_dot^2 + s*vel_ob_x^2*vel_ob_y + s*vel_ob_y*xp_dot^2 - acc_ob_x*ey^2*vel_ob_y + acc_ob_y*ey^2*vel_ob_x + 2*acc_ob_x*ey*pos_ob_y*vel_ob_y - 2*acc_ob_y*ey*pos_ob_y*vel_ob_x + 2*acc_ob_x*pos_ob_x*s*vel_ob_y - 2*acc_ob_y*pos_ob_x*s*vel_ob_x - 2*ey*vel_ob_x*yp_dot^2*cos(epsi)^2 - 2*pos_ob_x*vel_ob_y*yp_dot^2*cos(epsi)^2 + 2*pos_ob_y*vel_ob_x*yp_dot^2*cos(epsi)^2 + 2*s*vel_ob_y*yp_dot^2*cos(epsi)^2 - acc_ob_y*ey^2*xp_dot*cos(epsi) + acc_ob_x*ey^2*yp_dot*cos(epsi) + acc_ob_y*ey^2*yp_dot*cos(epsi) - acc_ob_y*pos_ob_x^2*xp_dot*cos(epsi) - acc_ob_y*pos_ob_y^2*xp_dot*cos(epsi) + acc_ob_x*pos_ob_x^2*yp_dot*cos(epsi) + acc_ob_x*pos_ob_y^2*yp_dot*cos(epsi) + acc_ob_y*pos_ob_x^2*yp_dot*cos(epsi) + acc_ob_y*pos_ob_y^2*yp_dot*cos(epsi) - acc_ob_y*s^2*xp_dot*cos(epsi) + acc_ob_x*s^2*yp_dot*cos(epsi) + acc_ob_y*s^2*yp_dot*cos(epsi) + acc_ob_x*ey^2*xp_dot*sin(epsi) + 2*ey*vel_ob_x^2*xp_dot*cos(epsi) - 2*ey*vel_ob_x^2*yp_dot*cos(epsi) + acc_ob_x*pos_ob_x^2*xp_dot*sin(epsi) + acc_ob_x*pos_ob_y^2*xp_dot*sin(epsi) + acc_ob_x*s^2*xp_dot*sin(epsi) - 2*pos_ob_y*vel_ob_x^2*xp_dot*cos(epsi) + 2*pos_ob_x*vel_ob_y^2*yp_dot*cos(epsi) + 2*pos_ob_y*vel_ob_x^2*yp_dot*cos(epsi) - 2*s*vel_ob_y^2*yp_dot*cos(epsi) + 2*pos_ob_x*vel_ob_y^2*xp_dot*sin(epsi) - 2*s*vel_ob_y^2*xp_dot*sin(epsi) - 2*s*vel_ob_x*vel_ob_y*xp_dot*cos(epsi) + 2*s*vel_ob_x*vel_ob_y*yp_dot*cos(epsi) + 2*ey*vel_ob_x*vel_ob_y*xp_dot*sin(epsi) - 2*pos_ob_y*vel_ob_x*vel_ob_y*xp_dot*sin(epsi) + 2*ey*vel_ob_x*xp_dot*yp_dot*cos(epsi)^2 + 2*pos_ob_x*vel_ob_y*xp_dot*yp_dot*cos(epsi)^2 - 2*pos_ob_y*vel_ob_x*xp_dot*yp_dot*cos(epsi)^2 - 2*s*vel_ob_y*xp_dot*yp_dot*cos(epsi)^2 - ey*vel_ob_x*xp_dot*yp_dot*sin(2*epsi) - pos_ob_x*vel_ob_y*xp_dot*yp_dot*sin(2*epsi) + pos_ob_y*vel_ob_x*xp_dot*yp_dot*sin(2*epsi) + s*vel_ob_y*xp_dot*yp_dot*sin(2*epsi) + 2*acc_ob_y*ey*pos_ob_y*xp_dot*cos(epsi) - 2*acc_ob_x*ey*pos_ob_y*yp_dot*cos(epsi) - 2*acc_ob_y*ey*pos_ob_y*yp_dot*cos(epsi) + 2*acc_ob_y*pos_ob_x*s*xp_dot*cos(epsi) - 2*acc_ob_x*pos_ob_x*s*yp_dot*cos(epsi) - 2*acc_ob_y*pos_ob_x*s*yp_dot*cos(epsi) - 2*acc_ob_x*ey*pos_ob_y*xp_dot*sin(epsi) + 2*ey*vel_ob_x*vel_ob_y*yp_dot*cos(epsi) - 2*acc_ob_x*pos_ob_x*s*xp_dot*sin(epsi) + 2*pos_ob_x*vel_ob_x*vel_ob_y*xp_dot*cos(epsi) - 2*pos_ob_x*vel_ob_x*vel_ob_y*yp_dot*cos(epsi) - 2*pos_ob_y*vel_ob_x*vel_ob_y*yp_dot*cos(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,296" id="srcline296">296</a></span><span class="line"><span class="comment">%         L_g_h_ang_part1 = (2*cf*cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,297" id="srcline297">297</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,298" id="srcline298">298</a></span><span class="line">        <span class="mxinfo " id="T1:U1036"><span class="var type1" id="S2T1U1365">L_f_h_ang_part1</span> = <span class="mxinfo " id="T1:U1038"><span class="mxinfo " id="T1:U1039"><span class="mxinfo " id="T1:U1040"><span class="mxinfo " id="T1:U1041"><span class="mxinfo " id="T1:U1042">- (<span class="mxinfo " id="T1:U1043"><span class="mxinfo " id="T1:U1044">(<span class="mxinfo " id="T1:U1045"><span class="var type1" id="S8T1U1376">psi_dot</span> - <span class="var type1" id="S63T1U1377">psi_dot_com</span></span>)*(<span class="mxinfo " id="T1:U1048"><span class="mxinfo " id="T1:U1049"><span class="mxinfo " id="T1:U1050"><span class="mxinfo " id="T1:U1051"><span class="mxinfo " id="T1:U1052"><span class="mxinfo " id="T1:U1053"><span class="var type1" id="S6T1U1385">xp_dot</span>^2</span> + <span class="mxinfo " id="T1:U1055"><span class="var type1" id="S7T1U1388">yp_dot</span>^2</span></span> - <span class="mxinfo " id="T1:U1057"><span class="mxinfo " id="T1:U1058"><span class="var type1" id="S37T1U1392">vel_ob_x</span>*<span class="var type1" id="S6T1U1393">xp_dot</span></span>*<span class="mxinfo " id="T1:U1061">cos(<span class="var type1" id="S9T1U1396">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1063"><span class="mxinfo " id="T1:U1064"><span class="var type1" id="S38T1U1399">vel_ob_y</span>*<span class="var type1" id="S7T1U1400">yp_dot</span></span>*<span class="mxinfo " id="T1:U1067">cos(<span class="var type1" id="S9T1U1403">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1069"><span class="mxinfo " id="T1:U1070"><span class="var type1" id="S38T1U1406">vel_ob_y</span>*<span class="var type1" id="S6T1U1407">xp_dot</span></span>*<span class="mxinfo " id="T1:U1073">sin(<span class="var type1" id="S9T1U1410">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1075"><span class="mxinfo " id="T1:U1076"><span class="var type1" id="S37T1U1413">vel_ob_x</span>*<span class="var type1" id="S7T1U1414">yp_dot</span></span>*<span class="mxinfo " id="T1:U1079">sin(<span class="var type1" id="S9T1U1417">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1081"><span class="mxinfo " id="T1:U1082"><span class="mxinfo " id="T1:U1083"><span class="mxinfo " id="T1:U1084"><span class="mxinfo " id="T1:U1085"><span class="mxinfo " id="T1:U1086"><span class="mxinfo " id="T1:U1087"><span class="mxinfo " id="T1:U1088"><span class="mxinfo " id="T1:U1089"><span class="mxinfo " id="T1:U1090"><span class="mxinfo " id="T1:U1091"><span class="mxinfo " id="T1:U1092"><span class="var type1" id="S10T1U1431">ey</span>*<span class="var type1" id="S37T1U1432">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1095"><span class="var type1" id="S35T1U1434">pos_ob_x</span>*<span class="var type1" id="S38T1U1435">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1098"><span class="var type1" id="S36T1U1437">pos_ob_y</span>*<span class="var type1" id="S37T1U1438">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1101"><span class="var type1" id="S11T1U1440">s</span>*<span class="var type1" id="S38T1U1441">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1104"><span class="mxinfo " id="T1:U1105"><span class="var type1" id="S10T1U1444">ey</span>*<span class="var type1" id="S6T1U1445">xp_dot</span></span>*<span class="mxinfo " id="T1:U1108">cos(<span class="var type1" id="S9T1U1448">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1110"><span class="mxinfo " id="T1:U1111"><span class="var type1" id="S36T1U1451">pos_ob_y</span>*<span class="var type1" id="S6T1U1452">xp_dot</span></span>*<span class="mxinfo " id="T1:U1114">cos(<span class="var type1" id="S9T1U1455">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1116"><span class="mxinfo " id="T1:U1117"><span class="var type1" id="S35T1U1458">pos_ob_x</span>*<span class="var type1" id="S7T1U1459">yp_dot</span></span>*<span class="mxinfo " id="T1:U1120">cos(<span class="var type1" id="S9T1U1462">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1122"><span class="mxinfo " id="T1:U1123"><span class="var type1" id="S11T1U1465">s</span>*<span class="var type1" id="S7T1U1466">yp_dot</span></span>*<span class="mxinfo " id="T1:U1126">cos(<span class="var type1" id="S9T1U1469">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1128"><span class="mxinfo " id="T1:U1129"><span class="var type1" id="S10T1U1472">ey</span>*<span class="var type1" id="S7T1U1473">yp_dot</span></span>*<span class="mxinfo " id="T1:U1132">sin(<span class="var type1" id="S9T1U1476">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1134"><span class="mxinfo " id="T1:U1135"><span class="var type1" id="S35T1U1479">pos_ob_x</span>*<span class="var type1" id="S6T1U1480">xp_dot</span></span>*<span class="mxinfo " id="T1:U1138">sin(<span class="var type1" id="S9T1U1483">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1140"><span class="mxinfo " id="T1:U1141"><span class="var type1" id="S36T1U1486">pos_ob_y</span>*<span class="var type1" id="S7T1U1487">yp_dot</span></span>*<span class="mxinfo " id="T1:U1144">sin(<span class="var type1" id="S9T1U1490">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1146"><span class="mxinfo " id="T1:U1147"><span class="var type1" id="S11T1U1493">s</span>*<span class="var type1" id="S6T1U1494">xp_dot</span></span>*<span class="mxinfo " id="T1:U1150">sin(<span class="var type1" id="S9T1U1497">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U1152"><span class="mxinfo " id="T1:U1153"><span class="mxinfo " id="T1:U1154">(<span class="mxinfo " id="T1:U1155"><span class="mxinfo " id="T1:U1156">1</span> - <span class="mxinfo " id="T1:U1157"><span class="mxinfo " id="T1:U1158">(<span class="mxinfo " id="T1:U1159"><span class="mxinfo " id="T1:U1160">(<span class="mxinfo " id="T1:U1161"><span class="var type1" id="S35T1U1512">pos_ob_x</span> - <span class="var type1" id="S11T1U1513">s</span></span>)*(<span class="mxinfo " id="T1:U1164"><span class="mxinfo " id="T1:U1165"><span class="var type1" id="S37T1U1517">vel_ob_x</span> - <span class="mxinfo " id="T1:U1167"><span class="var type1" id="S6T1U1519">xp_dot</span>*<span class="mxinfo " id="T1:U1169">cos(<span class="var type1" id="S9T1U1522">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1171"><span class="var type1" id="S7T1U1524">yp_dot</span>*<span class="mxinfo " id="T1:U1173">sin(<span class="var type1" id="S9T1U1527">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1175">(<span class="mxinfo " id="T1:U1176"><span class="var type1" id="S10T1U1531">ey</span> - <span class="var type1" id="S36T1U1532">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1179"><span class="mxinfo " id="T1:U1180"><span class="mxinfo " id="T1:U1181"><span class="var type1" id="S7T1U1537">yp_dot</span>*<span class="mxinfo " id="T1:U1183">cos(<span class="var type1" id="S9T1U1540">epsi</span>)</span></span> - <span class="var type1" id="S38T1U1541">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1186"><span class="var type1" id="S6T1U1543">xp_dot</span>*<span class="mxinfo " id="T1:U1188">sin(<span class="var type1" id="S9T1U1546">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1190">(<span class="mxinfo " id="T1:U1191"><span class="mxinfo " id="T1:U1192">(<span class="mxinfo " id="T1:U1193"><span class="var type1" id="S35T1U1555">pos_ob_x</span> - <span class="var type1" id="S11T1U1556">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1196">(<span class="mxinfo " id="T1:U1197"><span class="var type1" id="S10T1U1561">ey</span> - <span class="var type1" id="S36T1U1562">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1200"><span class="mxinfo " id="T1:U1201">(<span class="mxinfo " id="T1:U1202"><span class="mxinfo " id="T1:U1203"><span class="var type1" id="S37T1U1570">vel_ob_x</span> - <span class="mxinfo " id="T1:U1205"><span class="var type1" id="S6T1U1572">xp_dot</span>*<span class="mxinfo " id="T1:U1207">cos(<span class="var type1" id="S9T1U1575">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1209"><span class="var type1" id="S7T1U1577">yp_dot</span>*<span class="mxinfo " id="T1:U1211">sin(<span class="var type1" id="S9T1U1580">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1213">(<span class="mxinfo " id="T1:U1214"><span class="mxinfo " id="T1:U1215"><span class="mxinfo " id="T1:U1216"><span class="var type1" id="S7T1U1587">yp_dot</span>*<span class="mxinfo " id="T1:U1218">cos(<span class="var type1" id="S9T1U1590">epsi</span>)</span></span> - <span class="var type1" id="S38T1U1591">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1221"><span class="var type1" id="S6T1U1593">xp_dot</span>*<span class="mxinfo " id="T1:U1223">sin(<span class="var type1" id="S9T1U1596">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U1225">(<span class="mxinfo " id="T1:U1226"><span class="mxinfo " id="T1:U1227">(<span class="mxinfo " id="T1:U1228"><span class="var type1" id="S35T1U1608">pos_ob_x</span> - <span class="var type1" id="S11T1U1609">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1231">(<span class="mxinfo " id="T1:U1232"><span class="var type1" id="S10T1U1614">ey</span> - <span class="var type1" id="S36T1U1615">pos_ob_y</span></span>)^2</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U1235">(<span class="mxinfo " id="T1:U1236"><span class="mxinfo " id="T1:U1237">(<span class="mxinfo " id="T1:U1238"><span class="mxinfo " id="T1:U1239"><span class="var type1" id="S37T1U1628">vel_ob_x</span> - <span class="mxinfo " id="T1:U1241"><span class="var type1" id="S6T1U1630">xp_dot</span>*<span class="mxinfo " id="T1:U1243">cos(<span class="var type1" id="S9T1U1633">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1245"><span class="var type1" id="S7T1U1635">yp_dot</span>*<span class="mxinfo " id="T1:U1247">sin(<span class="var type1" id="S9T1U1638">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1249">(<span class="mxinfo " id="T1:U1250"><span class="mxinfo " id="T1:U1251"><span class="mxinfo " id="T1:U1252"><span class="var type1" id="S7T1U1645">yp_dot</span>*<span class="mxinfo " id="T1:U1254">cos(<span class="var type1" id="S9T1U1648">epsi</span>)</span></span> - <span class="var type1" id="S38T1U1649">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1257"><span class="var type1" id="S6T1U1651">xp_dot</span>*<span class="mxinfo " id="T1:U1259">sin(<span class="var type1" id="S9T1U1654">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span> - <span class="mxinfo " id="T1:U1261">(<span class="mxinfo " id="T1:U1262"><span class="mxinfo " id="T1:U1263">(<span class="mxinfo " id="T1:U1264"><span class="var type1" id="S10T1U1666">ey</span> - <span class="var type1" id="S36T1U1667">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1267"><span class="mxinfo " id="T1:U1268"><span class="var type1" id="S6T1U1671">xp_dot</span>*<span class="mxinfo " id="T1:U1270">cos(<span class="var type1" id="S9T1U1674">epsi</span>)</span></span> - <span class="mxinfo " id="T1:U1272"><span class="var type1" id="S7T1U1676">yp_dot</span>*<span class="mxinfo " id="T1:U1274">sin(<span class="var type1" id="S9T1U1679">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1276"><span class="mxinfo " id="T1:U1277"><span class="mxinfo " id="T1:U1278"><span class="mxinfo " id="T1:U1279"><span class="mxinfo " id="T1:U1280"><span class="mxinfo " id="T1:U1281"><span class="mxinfo " id="T1:U1282"><span class="mxinfo " id="T1:U1283"><span class="mxinfo " id="T1:U1284"><span class="mxinfo " id="T1:U1285"><span class="mxinfo " id="T1:U1286"><span class="mxinfo " id="T1:U1287"><span class="var type1" id="S10T1U1693">ey</span>*<span class="var type1" id="S37T1U1694">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1290"><span class="var type1" id="S35T1U1696">pos_ob_x</span>*<span class="var type1" id="S38T1U1697">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1293"><span class="var type1" id="S36T1U1699">pos_ob_y</span>*<span class="var type1" id="S37T1U1700">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1296"><span class="var type1" id="S11T1U1702">s</span>*<span class="var type1" id="S38T1U1703">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1299"><span class="mxinfo " id="T1:U1300"><span class="var type1" id="S10T1U1706">ey</span>*<span class="var type1" id="S6T1U1707">xp_dot</span></span>*<span class="mxinfo " id="T1:U1303">cos(<span class="var type1" id="S9T1U1710">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1305"><span class="mxinfo " id="T1:U1306"><span class="var type1" id="S36T1U1713">pos_ob_y</span>*<span class="var type1" id="S6T1U1714">xp_dot</span></span>*<span class="mxinfo " id="T1:U1309">cos(<span class="var type1" id="S9T1U1717">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1311"><span class="mxinfo " id="T1:U1312"><span class="var type1" id="S35T1U1720">pos_ob_x</span>*<span class="var type1" id="S7T1U1721">yp_dot</span></span>*<span class="mxinfo " id="T1:U1315">cos(<span class="var type1" id="S9T1U1724">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1317"><span class="mxinfo " id="T1:U1318"><span class="var type1" id="S11T1U1727">s</span>*<span class="var type1" id="S7T1U1728">yp_dot</span></span>*<span class="mxinfo " id="T1:U1321">cos(<span class="var type1" id="S9T1U1731">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1323"><span class="mxinfo " id="T1:U1324"><span class="var type1" id="S10T1U1734">ey</span>*<span class="var type1" id="S7T1U1735">yp_dot</span></span>*<span class="mxinfo " id="T1:U1327">sin(<span class="var type1" id="S9T1U1738">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1329"><span class="mxinfo " id="T1:U1330"><span class="var type1" id="S35T1U1741">pos_ob_x</span>*<span class="var type1" id="S6T1U1742">xp_dot</span></span>*<span class="mxinfo " id="T1:U1333">sin(<span class="var type1" id="S9T1U1745">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1335"><span class="mxinfo " id="T1:U1336"><span class="var type1" id="S36T1U1748">pos_ob_y</span>*<span class="var type1" id="S7T1U1749">yp_dot</span></span>*<span class="mxinfo " id="T1:U1339">sin(<span class="var type1" id="S9T1U1752">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1341"><span class="mxinfo " id="T1:U1342"><span class="var type1" id="S11T1U1755">s</span>*<span class="var type1" id="S6T1U1756">xp_dot</span></span>*<span class="mxinfo " id="T1:U1345">sin(<span class="var type1" id="S9T1U1759">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U1347"><span class="mxinfo " id="T1:U1348"><span class="mxinfo " id="T1:U1349">(<span class="mxinfo " id="T1:U1350"><span class="mxinfo " id="T1:U1351">1</span> - <span class="mxinfo " id="T1:U1352"><span class="mxinfo " id="T1:U1353">(<span class="mxinfo " id="T1:U1354"><span class="mxinfo " id="T1:U1355">(<span class="mxinfo " id="T1:U1356"><span class="var type1" id="S35T1U1774">pos_ob_x</span> - <span class="var type1" id="S11T1U1775">s</span></span>)*(<span class="mxinfo " id="T1:U1359"><span class="mxinfo " id="T1:U1360"><span class="var type1" id="S37T1U1779">vel_ob_x</span> - <span class="mxinfo " id="T1:U1362"><span class="var type1" id="S6T1U1781">xp_dot</span>*<span class="mxinfo " id="T1:U1364">cos(<span class="var type1" id="S9T1U1784">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1366"><span class="var type1" id="S7T1U1786">yp_dot</span>*<span class="mxinfo " id="T1:U1368">sin(<span class="var type1" id="S9T1U1789">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1370">(<span class="mxinfo " id="T1:U1371"><span class="var type1" id="S10T1U1793">ey</span> - <span class="var type1" id="S36T1U1794">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1374"><span class="mxinfo " id="T1:U1375"><span class="mxinfo " id="T1:U1376"><span class="var type1" id="S7T1U1799">yp_dot</span>*<span class="mxinfo " id="T1:U1378">cos(<span class="var type1" id="S9T1U1802">epsi</span>)</span></span> - <span class="var type1" id="S38T1U1803">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1381"><span class="var type1" id="S6T1U1805">xp_dot</span>*<span class="mxinfo " id="T1:U1383">sin(<span class="var type1" id="S9T1U1808">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1385">(<span class="mxinfo " id="T1:U1386"><span class="mxinfo " id="T1:U1387">(<span class="mxinfo " id="T1:U1388"><span class="var type1" id="S35T1U1817">pos_ob_x</span> - <span class="var type1" id="S11T1U1818">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1391">(<span class="mxinfo " id="T1:U1392"><span class="var type1" id="S10T1U1823">ey</span> - <span class="var type1" id="S36T1U1824">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1395"><span class="mxinfo " id="T1:U1396">(<span class="mxinfo " id="T1:U1397"><span class="mxinfo " id="T1:U1398"><span class="var type1" id="S37T1U1832">vel_ob_x</span> - <span class="mxinfo " id="T1:U1400"><span class="var type1" id="S6T1U1834">xp_dot</span>*<span class="mxinfo " id="T1:U1402">cos(<span class="var type1" id="S9T1U1837">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1404"><span class="var type1" id="S7T1U1839">yp_dot</span>*<span class="mxinfo " id="T1:U1406">sin(<span class="var type1" id="S9T1U1842">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1408">(<span class="mxinfo " id="T1:U1409"><span class="mxinfo " id="T1:U1410"><span class="mxinfo " id="T1:U1411"><span class="var type1" id="S7T1U1849">yp_dot</span>*<span class="mxinfo " id="T1:U1413">cos(<span class="var type1" id="S9T1U1852">epsi</span>)</span></span> - <span class="var type1" id="S38T1U1853">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1416"><span class="var type1" id="S6T1U1855">xp_dot</span>*<span class="mxinfo " id="T1:U1418">sin(<span class="var type1" id="S9T1U1858">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U1420">(<span class="mxinfo " id="T1:U1421"><span class="mxinfo " id="T1:U1422">(<span class="mxinfo " id="T1:U1423"><span class="var type1" id="S35T1U1870">pos_ob_x</span> - <span class="var type1" id="S11T1U1871">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1426">(<span class="mxinfo " id="T1:U1427"><span class="var type1" id="S10T1U1876">ey</span> - <span class="var type1" id="S36T1U1877">pos_ob_y</span></span>)^2</span></span>)^(3/2)</span></span>*<span class="mxinfo " id="T1:U1430">(<span class="mxinfo " id="T1:U1431"><span class="mxinfo " id="T1:U1432">(<span class="mxinfo " id="T1:U1433"><span class="mxinfo " id="T1:U1434"><span class="var type1" id="S37T1U1890">vel_ob_x</span> - <span class="mxinfo " id="T1:U1436"><span class="var type1" id="S6T1U1892">xp_dot</span>*<span class="mxinfo " id="T1:U1438">cos(<span class="var type1" id="S9T1U1895">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1440"><span class="var type1" id="S7T1U1897">yp_dot</span>*<span class="mxinfo " id="T1:U1442">sin(<span class="var type1" id="S9T1U1900">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1444">(<span class="mxinfo " id="T1:U1445"><span class="mxinfo " id="T1:U1446"><span class="mxinfo " id="T1:U1447"><span class="var type1" id="S7T1U1907">yp_dot</span>*<span class="mxinfo " id="T1:U1449">cos(<span class="var type1" id="S9T1U1910">epsi</span>)</span></span> - <span class="var type1" id="S38T1U1911">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1452"><span class="var type1" id="S6T1U1913">xp_dot</span>*<span class="mxinfo " id="T1:U1454">sin(<span class="var type1" id="S9T1U1916">epsi</span>)</span></span></span>)^2</span></span>)^(1/2)</span></span>)</span></span> - <span class="mxinfo " id="T1:U1456">(<span class="mxinfo " id="T1:U1457"><span class="mxinfo " id="T1:U1458">(<span class="mxinfo " id="T1:U1459"><span class="var type1" id="S35T1U1928">pos_ob_x</span> - <span class="var type1" id="S11T1U1929">s</span></span>)*(<span class="mxinfo " id="T1:U1462"><span class="mxinfo " id="T1:U1463"><span class="var type1" id="S7T1U1933">yp_dot</span>*<span class="mxinfo " id="T1:U1465">cos(<span class="var type1" id="S9T1U1936">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U1467"><span class="var type1" id="S6T1U1938">xp_dot</span>*<span class="mxinfo " id="T1:U1469">sin(<span class="var type1" id="S9T1U1941">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1471"><span class="mxinfo " id="T1:U1472"><span class="mxinfo " id="T1:U1473"><span class="mxinfo " id="T1:U1474"><span class="mxinfo " id="T1:U1475"><span class="mxinfo " id="T1:U1476"><span class="mxinfo " id="T1:U1477"><span class="mxinfo " id="T1:U1478"><span class="mxinfo " id="T1:U1479"><span class="mxinfo " id="T1:U1480"><span class="mxinfo " id="T1:U1481"><span class="mxinfo " id="T1:U1482"><span class="var type1" id="S10T1U1955">ey</span>*<span class="var type1" id="S37T1U1956">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1485"><span class="var type1" id="S35T1U1958">pos_ob_x</span>*<span class="var type1" id="S38T1U1959">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1488"><span class="var type1" id="S36T1U1961">pos_ob_y</span>*<span class="var type1" id="S37T1U1962">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1491"><span class="var type1" id="S11T1U1964">s</span>*<span class="var type1" id="S38T1U1965">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1494"><span class="mxinfo " id="T1:U1495"><span class="var type1" id="S10T1U1968">ey</span>*<span class="var type1" id="S6T1U1969">xp_dot</span></span>*<span class="mxinfo " id="T1:U1498">cos(<span class="var type1" id="S9T1U1972">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1500"><span class="mxinfo " id="T1:U1501"><span class="var type1" id="S36T1U1975">pos_ob_y</span>*<span class="var type1" id="S6T1U1976">xp_dot</span></span>*<span class="mxinfo " id="T1:U1504">cos(<span class="var type1" id="S9T1U1979">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1506"><span class="mxinfo " id="T1:U1507"><span class="var type1" id="S35T1U1982">pos_ob_x</span>*<span class="var type1" id="S7T1U1983">yp_dot</span></span>*<span class="mxinfo " id="T1:U1510">cos(<span class="var type1" id="S9T1U1986">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1512"><span class="mxinfo " id="T1:U1513"><span class="var type1" id="S11T1U1989">s</span>*<span class="var type1" id="S7T1U1990">yp_dot</span></span>*<span class="mxinfo " id="T1:U1516">cos(<span class="var type1" id="S9T1U1993">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1518"><span class="mxinfo " id="T1:U1519"><span class="var type1" id="S10T1U1996">ey</span>*<span class="var type1" id="S7T1U1997">yp_dot</span></span>*<span class="mxinfo " id="T1:U1522">sin(<span class="var type1" id="S9T1U2000">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1524"><span class="mxinfo " id="T1:U1525"><span class="var type1" id="S35T1U2003">pos_ob_x</span>*<span class="var type1" id="S6T1U2004">xp_dot</span></span>*<span class="mxinfo " id="T1:U1528">sin(<span class="var type1" id="S9T1U2007">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1530"><span class="mxinfo " id="T1:U1531"><span class="var type1" id="S36T1U2010">pos_ob_y</span>*<span class="var type1" id="S7T1U2011">yp_dot</span></span>*<span class="mxinfo " id="T1:U1534">sin(<span class="var type1" id="S9T1U2014">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1536"><span class="mxinfo " id="T1:U1537"><span class="var type1" id="S11T1U2017">s</span>*<span class="var type1" id="S6T1U2018">xp_dot</span></span>*<span class="mxinfo " id="T1:U1540">sin(<span class="var type1" id="S9T1U2021">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U1542"><span class="mxinfo " id="T1:U1543"><span class="mxinfo " id="T1:U1544">(<span class="mxinfo " id="T1:U1545"><span class="mxinfo " id="T1:U1546">1</span> - <span class="mxinfo " id="T1:U1547"><span class="mxinfo " id="T1:U1548">(<span class="mxinfo " id="T1:U1549"><span class="mxinfo " id="T1:U1550">(<span class="mxinfo " id="T1:U1551"><span class="var type1" id="S35T1U2036">pos_ob_x</span> - <span class="var type1" id="S11T1U2037">s</span></span>)*(<span class="mxinfo " id="T1:U1554"><span class="mxinfo " id="T1:U1555"><span class="var type1" id="S37T1U2041">vel_ob_x</span> - <span class="mxinfo " id="T1:U1557"><span class="var type1" id="S6T1U2043">xp_dot</span>*<span class="mxinfo " id="T1:U1559">cos(<span class="var type1" id="S9T1U2046">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1561"><span class="var type1" id="S7T1U2048">yp_dot</span>*<span class="mxinfo " id="T1:U1563">sin(<span class="var type1" id="S9T1U2051">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1565">(<span class="mxinfo " id="T1:U1566"><span class="var type1" id="S10T1U2055">ey</span> - <span class="var type1" id="S36T1U2056">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1569"><span class="mxinfo " id="T1:U1570"><span class="mxinfo " id="T1:U1571"><span class="var type1" id="S7T1U2061">yp_dot</span>*<span class="mxinfo " id="T1:U1573">cos(<span class="var type1" id="S9T1U2064">epsi</span>)</span></span> - <span class="var type1" id="S38T1U2065">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1576"><span class="var type1" id="S6T1U2067">xp_dot</span>*<span class="mxinfo " id="T1:U1578">sin(<span class="var type1" id="S9T1U2070">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1580">(<span class="mxinfo " id="T1:U1581"><span class="mxinfo " id="T1:U1582">(<span class="mxinfo " id="T1:U1583"><span class="var type1" id="S35T1U2079">pos_ob_x</span> - <span class="var type1" id="S11T1U2080">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1586">(<span class="mxinfo " id="T1:U1587"><span class="var type1" id="S10T1U2085">ey</span> - <span class="var type1" id="S36T1U2086">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1590"><span class="mxinfo " id="T1:U1591">(<span class="mxinfo " id="T1:U1592"><span class="mxinfo " id="T1:U1593"><span class="var type1" id="S37T1U2094">vel_ob_x</span> - <span class="mxinfo " id="T1:U1595"><span class="var type1" id="S6T1U2096">xp_dot</span>*<span class="mxinfo " id="T1:U1597">cos(<span class="var type1" id="S9T1U2099">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1599"><span class="var type1" id="S7T1U2101">yp_dot</span>*<span class="mxinfo " id="T1:U1601">sin(<span class="var type1" id="S9T1U2104">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1603">(<span class="mxinfo " id="T1:U1604"><span class="mxinfo " id="T1:U1605"><span class="mxinfo " id="T1:U1606"><span class="var type1" id="S7T1U2111">yp_dot</span>*<span class="mxinfo " id="T1:U1608">cos(<span class="var type1" id="S9T1U2114">epsi</span>)</span></span> - <span class="var type1" id="S38T1U2115">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1611"><span class="var type1" id="S6T1U2117">xp_dot</span>*<span class="mxinfo " id="T1:U1613">sin(<span class="var type1" id="S9T1U2120">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U1615">(<span class="mxinfo " id="T1:U1616"><span class="mxinfo " id="T1:U1617">(<span class="mxinfo " id="T1:U1618"><span class="var type1" id="S35T1U2132">pos_ob_x</span> - <span class="var type1" id="S11T1U2133">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1621">(<span class="mxinfo " id="T1:U1622"><span class="var type1" id="S10T1U2138">ey</span> - <span class="var type1" id="S36T1U2139">pos_ob_y</span></span>)^2</span></span>)^(3/2)</span></span>*<span class="mxinfo " id="T1:U1625">(<span class="mxinfo " id="T1:U1626"><span class="mxinfo " id="T1:U1627">(<span class="mxinfo " id="T1:U1628"><span class="mxinfo " id="T1:U1629"><span class="var type1" id="S37T1U2152">vel_ob_x</span> - <span class="mxinfo " id="T1:U1631"><span class="var type1" id="S6T1U2154">xp_dot</span>*<span class="mxinfo " id="T1:U1633">cos(<span class="var type1" id="S9T1U2157">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1635"><span class="var type1" id="S7T1U2159">yp_dot</span>*<span class="mxinfo " id="T1:U1637">sin(<span class="var type1" id="S9T1U2162">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1639">(<span class="mxinfo " id="T1:U1640"><span class="mxinfo " id="T1:U1641"><span class="mxinfo " id="T1:U1642"><span class="var type1" id="S7T1U2169">yp_dot</span>*<span class="mxinfo " id="T1:U1644">cos(<span class="var type1" id="S9T1U2172">epsi</span>)</span></span> - <span class="var type1" id="S38T1U2173">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1647"><span class="var type1" id="S6T1U2175">xp_dot</span>*<span class="mxinfo " id="T1:U1649">sin(<span class="var type1" id="S9T1U2178">epsi</span>)</span></span></span>)^2</span></span>)^(1/2)</span></span>)</span></span> - <span class="mxinfo " id="T1:U1651">(<span class="mxinfo " id="T1:U1652"><span class="mxinfo " id="T1:U1653">(<span class="mxinfo " id="T1:U1654"><span class="mxinfo " id="T1:U1655"><span class="mxinfo " id="T1:U1656"><span class="var type1" id="S37T1U2192">vel_ob_x</span>*<span class="mxinfo " id="T1:U1658">cos(<span class="var type1" id="S9T1U2195">epsi</span>)</span></span> - <span class="var type1" id="S6T1U2196">xp_dot</span></span> + <span class="mxinfo " id="T1:U1661"><span class="var type1" id="S38T1U2198">vel_ob_y</span>*<span class="mxinfo " id="T1:U1663">sin(<span class="var type1" id="S9T1U2201">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U1665"><span class="mxinfo " id="T1:U1666"><span class="mxinfo " id="T1:U1667"><span class="mxinfo " id="T1:U1668"><span class="mxinfo " id="T1:U1669"><span class="mxinfo " id="T1:U1670"><span class="var type1" id="S61T1U2209">m</span>*<span class="var type1" id="S8T1U2210">psi_dot</span></span>*<span class="mxinfo " id="T1:U1673"><span class="var type1" id="S6T1U2212">xp_dot</span>^2</span></span> + <span class="mxinfo " id="T1:U1675"><span class="mxinfo " id="T1:U1676"><span class="mxinfo " id="T1:U1677">2</span>*<span class="var type1" id="S59T1U2217">cf</span></span>*<span class="var type1" id="S7T1U2218">yp_dot</span></span></span> + <span class="mxinfo " id="T1:U1680"><span class="mxinfo " id="T1:U1681"><span class="mxinfo " id="T1:U1682">2</span>*<span class="var type1" id="S60T1U2222">cr</span></span>*<span class="var type1" id="S7T1U2223">yp_dot</span></span></span> + <span class="mxinfo " id="T1:U1685"><span class="mxinfo " id="T1:U1686"><span class="mxinfo " id="T1:U1687"><span class="mxinfo " id="T1:U1688">2</span>*<span class="var type1" id="S54T1U2228">a</span></span>*<span class="var type1" id="S59T1U2229">cf</span></span>*<span class="var type1" id="S8T1U2230">psi_dot</span></span></span> - <span class="mxinfo " id="T1:U1692"><span class="mxinfo " id="T1:U1693"><span class="mxinfo " id="T1:U1694"><span class="mxinfo " id="T1:U1695">2</span>*<span class="var type1" id="S55T1U2235">b</span></span>*<span class="var type1" id="S60T1U2236">cr</span></span>*<span class="var type1" id="S8T1U2237">psi_dot</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1699"><span class="mxinfo " id="T1:U1700"><span class="mxinfo " id="T1:U1701"><span class="mxinfo " id="T1:U1702"><span class="mxinfo " id="T1:U1703"><span class="mxinfo " id="T1:U1704"><span class="mxinfo " id="T1:U1705"><span class="mxinfo " id="T1:U1706"><span class="mxinfo " id="T1:U1707"><span class="mxinfo " id="T1:U1708"><span class="mxinfo " id="T1:U1709"><span class="mxinfo " id="T1:U1710"><span class="var type1" id="S10T1U2251">ey</span>*<span class="var type1" id="S37T1U2252">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1713"><span class="var type1" id="S35T1U2254">pos_ob_x</span>*<span class="var type1" id="S38T1U2255">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1716"><span class="var type1" id="S36T1U2257">pos_ob_y</span>*<span class="var type1" id="S37T1U2258">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1719"><span class="var type1" id="S11T1U2260">s</span>*<span class="var type1" id="S38T1U2261">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1722"><span class="mxinfo " id="T1:U1723"><span class="var type1" id="S10T1U2264">ey</span>*<span class="var type1" id="S6T1U2265">xp_dot</span></span>*<span class="mxinfo " id="T1:U1726">cos(<span class="var type1" id="S9T1U2268">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1728"><span class="mxinfo " id="T1:U1729"><span class="var type1" id="S36T1U2271">pos_ob_y</span>*<span class="var type1" id="S6T1U2272">xp_dot</span></span>*<span class="mxinfo " id="T1:U1732">cos(<span class="var type1" id="S9T1U2275">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1734"><span class="mxinfo " id="T1:U1735"><span class="var type1" id="S35T1U2278">pos_ob_x</span>*<span class="var type1" id="S7T1U2279">yp_dot</span></span>*<span class="mxinfo " id="T1:U1738">cos(<span class="var type1" id="S9T1U2282">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1740"><span class="mxinfo " id="T1:U1741"><span class="var type1" id="S11T1U2285">s</span>*<span class="var type1" id="S7T1U2286">yp_dot</span></span>*<span class="mxinfo " id="T1:U1744">cos(<span class="var type1" id="S9T1U2289">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1746"><span class="mxinfo " id="T1:U1747"><span class="var type1" id="S10T1U2292">ey</span>*<span class="var type1" id="S7T1U2293">yp_dot</span></span>*<span class="mxinfo " id="T1:U1750">sin(<span class="var type1" id="S9T1U2296">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1752"><span class="mxinfo " id="T1:U1753"><span class="var type1" id="S35T1U2299">pos_ob_x</span>*<span class="var type1" id="S6T1U2300">xp_dot</span></span>*<span class="mxinfo " id="T1:U1756">sin(<span class="var type1" id="S9T1U2303">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1758"><span class="mxinfo " id="T1:U1759"><span class="var type1" id="S36T1U2306">pos_ob_y</span>*<span class="var type1" id="S7T1U2307">yp_dot</span></span>*<span class="mxinfo " id="T1:U1762">sin(<span class="var type1" id="S9T1U2310">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1764"><span class="mxinfo " id="T1:U1765"><span class="var type1" id="S11T1U2313">s</span>*<span class="var type1" id="S6T1U2314">xp_dot</span></span>*<span class="mxinfo " id="T1:U1768">sin(<span class="var type1" id="S9T1U2317">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U1770"><span class="mxinfo " id="T1:U1771"><span class="mxinfo " id="T1:U1772"><span class="mxinfo " id="T1:U1773"><span class="var type1" id="S61T1U2323">m</span>*<span class="var type1" id="S6T1U2324">xp_dot</span></span>*<span class="mxinfo " id="T1:U1776">(<span class="mxinfo " id="T1:U1777"><span class="mxinfo " id="T1:U1778">1</span> - <span class="mxinfo " id="T1:U1779"><span class="mxinfo " id="T1:U1780">(<span class="mxinfo " id="T1:U1781"><span class="mxinfo " id="T1:U1782">(<span class="mxinfo " id="T1:U1783"><span class="var type1" id="S35T1U2336">pos_ob_x</span> - <span class="var type1" id="S11T1U2337">s</span></span>)*(<span class="mxinfo " id="T1:U1786"><span class="mxinfo " id="T1:U1787"><span class="var type1" id="S37T1U2341">vel_ob_x</span> - <span class="mxinfo " id="T1:U1789"><span class="var type1" id="S6T1U2343">xp_dot</span>*<span class="mxinfo " id="T1:U1791">cos(<span class="var type1" id="S9T1U2346">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1793"><span class="var type1" id="S7T1U2348">yp_dot</span>*<span class="mxinfo " id="T1:U1795">sin(<span class="var type1" id="S9T1U2351">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1797">(<span class="mxinfo " id="T1:U1798"><span class="var type1" id="S10T1U2355">ey</span> - <span class="var type1" id="S36T1U2356">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1801"><span class="mxinfo " id="T1:U1802"><span class="mxinfo " id="T1:U1803"><span class="var type1" id="S7T1U2361">yp_dot</span>*<span class="mxinfo " id="T1:U1805">cos(<span class="var type1" id="S9T1U2364">epsi</span>)</span></span> - <span class="var type1" id="S38T1U2365">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1808"><span class="var type1" id="S6T1U2367">xp_dot</span>*<span class="mxinfo " id="T1:U1810">sin(<span class="var type1" id="S9T1U2370">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1812">(<span class="mxinfo " id="T1:U1813"><span class="mxinfo " id="T1:U1814">(<span class="mxinfo " id="T1:U1815"><span class="var type1" id="S35T1U2379">pos_ob_x</span> - <span class="var type1" id="S11T1U2380">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1818">(<span class="mxinfo " id="T1:U1819"><span class="var type1" id="S10T1U2385">ey</span> - <span class="var type1" id="S36T1U2386">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1822"><span class="mxinfo " id="T1:U1823">(<span class="mxinfo " id="T1:U1824"><span class="mxinfo " id="T1:U1825"><span class="var type1" id="S37T1U2394">vel_ob_x</span> - <span class="mxinfo " id="T1:U1827"><span class="var type1" id="S6T1U2396">xp_dot</span>*<span class="mxinfo " id="T1:U1829">cos(<span class="var type1" id="S9T1U2399">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1831"><span class="var type1" id="S7T1U2401">yp_dot</span>*<span class="mxinfo " id="T1:U1833">sin(<span class="var type1" id="S9T1U2404">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1835">(<span class="mxinfo " id="T1:U1836"><span class="mxinfo " id="T1:U1837"><span class="mxinfo " id="T1:U1838"><span class="var type1" id="S7T1U2411">yp_dot</span>*<span class="mxinfo " id="T1:U1840">cos(<span class="var type1" id="S9T1U2414">epsi</span>)</span></span> - <span class="var type1" id="S38T1U2415">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1843"><span class="var type1" id="S6T1U2417">xp_dot</span>*<span class="mxinfo " id="T1:U1845">sin(<span class="var type1" id="S9T1U2420">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U1847">(<span class="mxinfo " id="T1:U1848"><span class="mxinfo " id="T1:U1849">(<span class="mxinfo " id="T1:U1850"><span class="var type1" id="S35T1U2432">pos_ob_x</span> - <span class="var type1" id="S11T1U2433">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1853">(<span class="mxinfo " id="T1:U1854"><span class="var type1" id="S10T1U2438">ey</span> - <span class="var type1" id="S36T1U2439">pos_ob_y</span></span>)^2</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U1857">(<span class="mxinfo " id="T1:U1858"><span class="mxinfo " id="T1:U1859">(<span class="mxinfo " id="T1:U1860"><span class="mxinfo " id="T1:U1861"><span class="var type1" id="S37T1U2452">vel_ob_x</span> - <span class="mxinfo " id="T1:U1863"><span class="var type1" id="S6T1U2454">xp_dot</span>*<span class="mxinfo " id="T1:U1865">cos(<span class="var type1" id="S9T1U2457">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1867"><span class="var type1" id="S7T1U2459">yp_dot</span>*<span class="mxinfo " id="T1:U1869">sin(<span class="var type1" id="S9T1U2462">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1871">(<span class="mxinfo " id="T1:U1872"><span class="mxinfo " id="T1:U1873"><span class="mxinfo " id="T1:U1874"><span class="var type1" id="S7T1U2469">yp_dot</span>*<span class="mxinfo " id="T1:U1876">cos(<span class="var type1" id="S9T1U2472">epsi</span>)</span></span> - <span class="var type1" id="S38T1U2473">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1879"><span class="var type1" id="S6T1U2475">xp_dot</span>*<span class="mxinfo " id="T1:U1881">sin(<span class="var type1" id="S9T1U2478">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,299" id="srcline299">299</a></span><span class="line">        <span class="mxinfo " id="T1:U1883"><span class="var type1" id="S83T1U2486">L_t_h_ang_part1</span> = <span class="mxinfo " id="T1:U1885"><span class="mxinfo " id="T1:U1886">-(<span class="mxinfo " id="T1:U1887">(<span class="mxinfo " id="T1:U1888"><span class="mxinfo " id="T1:U1889"><span class="mxinfo " id="T1:U1890"><span class="mxinfo " id="T1:U1891"><span class="mxinfo " id="T1:U1892"><span class="mxinfo " id="T1:U1893"><span class="mxinfo " id="T1:U1894"><span class="mxinfo " id="T1:U1895"><span class="mxinfo " id="T1:U1896"><span class="mxinfo " id="T1:U1897"><span class="mxinfo " id="T1:U1898"><span class="mxinfo " id="T1:U1899"><span class="var type1" id="S10T1U2504">ey</span>*<span class="var type1" id="S37T1U2505">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1902"><span class="var type1" id="S35T1U2507">pos_ob_x</span>*<span class="var type1" id="S38T1U2508">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1905"><span class="var type1" id="S36T1U2510">pos_ob_y</span>*<span class="var type1" id="S37T1U2511">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1908"><span class="var type1" id="S11T1U2513">s</span>*<span class="var type1" id="S38T1U2514">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1911"><span class="mxinfo " id="T1:U1912"><span class="var type1" id="S10T1U2517">ey</span>*<span class="var type1" id="S6T1U2518">xp_dot</span></span>*<span class="mxinfo " id="T1:U1915">cos(<span class="var type1" id="S9T1U2521">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1917"><span class="mxinfo " id="T1:U1918"><span class="var type1" id="S36T1U2524">pos_ob_y</span>*<span class="var type1" id="S6T1U2525">xp_dot</span></span>*<span class="mxinfo " id="T1:U1921">cos(<span class="var type1" id="S9T1U2528">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1923"><span class="mxinfo " id="T1:U1924"><span class="var type1" id="S35T1U2531">pos_ob_x</span>*<span class="var type1" id="S7T1U2532">yp_dot</span></span>*<span class="mxinfo " id="T1:U1927">cos(<span class="var type1" id="S9T1U2535">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1929"><span class="mxinfo " id="T1:U1930"><span class="var type1" id="S11T1U2538">s</span>*<span class="var type1" id="S7T1U2539">yp_dot</span></span>*<span class="mxinfo " id="T1:U1933">cos(<span class="var type1" id="S9T1U2542">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1935"><span class="mxinfo " id="T1:U1936"><span class="var type1" id="S10T1U2545">ey</span>*<span class="var type1" id="S7T1U2546">yp_dot</span></span>*<span class="mxinfo " id="T1:U1939">sin(<span class="var type1" id="S9T1U2549">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1941"><span class="mxinfo " id="T1:U1942"><span class="var type1" id="S35T1U2552">pos_ob_x</span>*<span class="var type1" id="S6T1U2553">xp_dot</span></span>*<span class="mxinfo " id="T1:U1945">sin(<span class="var type1" id="S9T1U2556">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1947"><span class="mxinfo " id="T1:U1948"><span class="var type1" id="S36T1U2559">pos_ob_y</span>*<span class="var type1" id="S7T1U2560">yp_dot</span></span>*<span class="mxinfo " id="T1:U1951">sin(<span class="var type1" id="S9T1U2563">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1953"><span class="mxinfo " id="T1:U1954"><span class="var type1" id="S11T1U2566">s</span>*<span class="var type1" id="S6T1U2567">xp_dot</span></span>*<span class="mxinfo " id="T1:U1957">sin(<span class="var type1" id="S9T1U2570">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U1959"><span class="mxinfo " id="T1:U1960"><span class="mxinfo " id="T1:U1961"><span class="mxinfo " id="T1:U1962"><span class="mxinfo " id="T1:U1963"><span class="mxinfo " id="T1:U1964"><span class="mxinfo " id="T1:U1965"><span class="mxinfo " id="T1:U1966"><span class="mxinfo " id="T1:U1967"><span class="mxinfo " id="T1:U1968"><span class="mxinfo " id="T1:U1969"><span class="mxinfo " id="T1:U1970"><span class="mxinfo " id="T1:U1971"><span class="mxinfo " id="T1:U1972"><span class="mxinfo " id="T1:U1973"><span class="mxinfo " id="T1:U1974"><span class="mxinfo " id="T1:U1975"><span class="mxinfo " id="T1:U1976"><span class="mxinfo " id="T1:U1977"><span class="mxinfo " id="T1:U1978"><span class="mxinfo " id="T1:U1979"><span class="mxinfo " id="T1:U1980"><span class="mxinfo " id="T1:U1981"><span class="mxinfo " id="T1:U1982"><span class="mxinfo " id="T1:U1983"><span class="mxinfo " id="T1:U1984"><span class="mxinfo " id="T1:U1985"><span class="mxinfo " id="T1:U1986"><span class="mxinfo " id="T1:U1987"><span class="mxinfo " id="T1:U1988"><span class="mxinfo " id="T1:U1989"><span class="mxinfo " id="T1:U1990"><span class="mxinfo " id="T1:U1991"><span class="mxinfo " id="T1:U1992"><span class="mxinfo " id="T1:U1993"><span class="mxinfo " id="T1:U1994"><span class="mxinfo " id="T1:U1995"><span class="mxinfo " id="T1:U1996"><span class="mxinfo " id="T1:U1997"><span class="mxinfo " id="T1:U1998"><span class="mxinfo " id="T1:U1999"><span class="mxinfo " id="T1:U2000"><span class="mxinfo " id="T1:U2001"><span class="mxinfo " id="T1:U2002"><span class="mxinfo " id="T1:U2003"><span class="mxinfo " id="T1:U2004"><span class="mxinfo " id="T1:U2005"><span class="mxinfo " id="T1:U2006"><span class="mxinfo " id="T1:U2007"><span class="mxinfo " id="T1:U2008"><span class="mxinfo " id="T1:U2009"><span class="mxinfo " id="T1:U2010"><span class="mxinfo " id="T1:U2011"><span class="mxinfo " id="T1:U2012"><span class="mxinfo " id="T1:U2013"><span class="mxinfo " id="T1:U2014"><span class="mxinfo " id="T1:U2015"><span class="mxinfo " id="T1:U2016"><span class="mxinfo " id="T1:U2017"><span class="mxinfo " id="T1:U2018"><span class="mxinfo " id="T1:U2019"><span class="mxinfo " id="T1:U2020"><span class="mxinfo " id="T1:U2021"><span class="mxinfo " id="T1:U2022"><span class="mxinfo " id="T1:U2023"><span class="mxinfo " id="T1:U2024"><span class="mxinfo " id="T1:U2025"><span class="mxinfo " id="T1:U2026"><span class="var type1" id="S36T1U2640">pos_ob_y</span>*<span class="mxinfo " id="T1:U2028"><span class="var type1" id="S37T1U2642">vel_ob_x</span>^3</span></span> - <span class="mxinfo " id="T1:U2030"><span class="var type1" id="S35T1U2645">pos_ob_x</span>*<span class="mxinfo " id="T1:U2032"><span class="var type1" id="S38T1U2647">vel_ob_y</span>^3</span></span></span> - <span class="mxinfo " id="T1:U2034"><span class="var type1" id="S10T1U2650">ey</span>*<span class="mxinfo " id="T1:U2036"><span class="var type1" id="S37T1U2652">vel_ob_x</span>^3</span></span></span> + <span class="mxinfo " id="T1:U2038"><span class="var type1" id="S11T1U2655">s</span>*<span class="mxinfo " id="T1:U2040"><span class="var type1" id="S38T1U2657">vel_ob_y</span>^3</span></span></span> - <span class="mxinfo " id="T1:U2042"><span class="mxinfo " id="T1:U2043"><span class="var type1" id="S39T1U2661">acc_ob_x</span>*<span class="mxinfo " id="T1:U2045"><span class="var type1" id="S35T1U2663">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S38T1U2665">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2048"><span class="mxinfo " id="T1:U2049"><span class="var type1" id="S40T1U2668">acc_ob_y</span>*<span class="mxinfo " id="T1:U2051"><span class="var type1" id="S35T1U2670">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S37T1U2672">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2054"><span class="mxinfo " id="T1:U2055"><span class="var type1" id="S39T1U2675">acc_ob_x</span>*<span class="mxinfo " id="T1:U2057"><span class="var type1" id="S36T1U2677">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S38T1U2679">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2060"><span class="mxinfo " id="T1:U2061"><span class="var type1" id="S40T1U2682">acc_ob_y</span>*<span class="mxinfo " id="T1:U2063"><span class="var type1" id="S36T1U2684">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S37T1U2686">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2066"><span class="mxinfo " id="T1:U2067"><span class="var type1" id="S39T1U2689">acc_ob_x</span>*<span class="mxinfo " id="T1:U2069"><span class="var type1" id="S11T1U2691">s</span>^2</span></span>*<span class="var type1" id="S38T1U2693">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2072"><span class="mxinfo " id="T1:U2073"><span class="var type1" id="S40T1U2696">acc_ob_y</span>*<span class="mxinfo " id="T1:U2075"><span class="var type1" id="S11T1U2698">s</span>^2</span></span>*<span class="var type1" id="S37T1U2700">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2078"><span class="mxinfo " id="T1:U2079"><span class="var type1" id="S10T1U2703">ey</span>*<span class="var type1" id="S37T1U2704">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2082"><span class="var type1" id="S38T1U2706">vel_ob_y</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2084"><span class="mxinfo " id="T1:U2085"><span class="var type1" id="S10T1U2710">ey</span>*<span class="var type1" id="S37T1U2711">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2088"><span class="var type1" id="S6T1U2713">xp_dot</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2090"><span class="mxinfo " id="T1:U2091"><span class="var type1" id="S10T1U2717">ey</span>*<span class="var type1" id="S37T1U2718">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2094"><span class="var type1" id="S7T1U2720">yp_dot</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2096"><span class="mxinfo " id="T1:U2097"><span class="var type1" id="S35T1U2724">pos_ob_x</span>*<span class="mxinfo " id="T1:U2099"><span class="var type1" id="S37T1U2726">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S38T1U2728">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2102"><span class="mxinfo " id="T1:U2103"><span class="var type1" id="S36T1U2731">pos_ob_y</span>*<span class="var type1" id="S37T1U2732">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2106"><span class="var type1" id="S38T1U2734">vel_ob_y</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2108"><span class="mxinfo " id="T1:U2109"><span class="var type1" id="S35T1U2738">pos_ob_x</span>*<span class="var type1" id="S38T1U2739">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2112"><span class="var type1" id="S6T1U2741">xp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2114"><span class="mxinfo " id="T1:U2115"><span class="var type1" id="S36T1U2745">pos_ob_y</span>*<span class="var type1" id="S37T1U2746">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2118"><span class="var type1" id="S6T1U2748">xp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2120"><span class="mxinfo " id="T1:U2121"><span class="var type1" id="S11T1U2752">s</span>*<span class="mxinfo " id="T1:U2123"><span class="var type1" id="S37T1U2754">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S38T1U2756">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2126"><span class="mxinfo " id="T1:U2127"><span class="var type1" id="S35T1U2759">pos_ob_x</span>*<span class="var type1" id="S38T1U2760">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2130"><span class="var type1" id="S7T1U2762">yp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2132"><span class="mxinfo " id="T1:U2133"><span class="var type1" id="S36T1U2766">pos_ob_y</span>*<span class="var type1" id="S37T1U2767">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2136"><span class="var type1" id="S7T1U2769">yp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2138"><span class="mxinfo " id="T1:U2139"><span class="var type1" id="S11T1U2773">s</span>*<span class="var type1" id="S38T1U2774">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2142"><span class="var type1" id="S6T1U2776">xp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2144"><span class="mxinfo " id="T1:U2145"><span class="var type1" id="S11T1U2780">s</span>*<span class="var type1" id="S38T1U2781">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2148"><span class="var type1" id="S7T1U2783">yp_dot</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2150"><span class="mxinfo " id="T1:U2151"><span class="var type1" id="S39T1U2787">acc_ob_x</span>*<span class="mxinfo " id="T1:U2153"><span class="var type1" id="S10T1U2789">ey</span>^2</span></span>*<span class="var type1" id="S38T1U2791">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2156"><span class="mxinfo " id="T1:U2157"><span class="var type1" id="S40T1U2794">acc_ob_y</span>*<span class="mxinfo " id="T1:U2159"><span class="var type1" id="S10T1U2796">ey</span>^2</span></span>*<span class="var type1" id="S37T1U2798">vel_ob_x</span></span></span> + <span class="mxinfo " id="T1:U2162"><span class="mxinfo " id="T1:U2163"><span class="mxinfo " id="T1:U2164"><span class="mxinfo " id="T1:U2165"><span class="mxinfo " id="T1:U2166">2</span>*<span class="var type1" id="S39T1U2804">acc_ob_x</span></span>*<span class="var type1" id="S10T1U2805">ey</span></span>*<span class="var type1" id="S36T1U2806">pos_ob_y</span></span>*<span class="var type1" id="S38T1U2807">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2171"><span class="mxinfo " id="T1:U2172"><span class="mxinfo " id="T1:U2173"><span class="mxinfo " id="T1:U2174"><span class="mxinfo " id="T1:U2175">2</span>*<span class="var type1" id="S40T1U2813">acc_ob_y</span></span>*<span class="var type1" id="S10T1U2814">ey</span></span>*<span class="var type1" id="S36T1U2815">pos_ob_y</span></span>*<span class="var type1" id="S37T1U2816">vel_ob_x</span></span></span> + <span class="mxinfo " id="T1:U2180"><span class="mxinfo " id="T1:U2181"><span class="mxinfo " id="T1:U2182"><span class="mxinfo " id="T1:U2183"><span class="mxinfo " id="T1:U2184">2</span>*<span class="var type1" id="S39T1U2822">acc_ob_x</span></span>*<span class="var type1" id="S35T1U2823">pos_ob_x</span></span>*<span class="var type1" id="S11T1U2824">s</span></span>*<span class="var type1" id="S38T1U2825">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2189"><span class="mxinfo " id="T1:U2190"><span class="mxinfo " id="T1:U2191"><span class="mxinfo " id="T1:U2192"><span class="mxinfo " id="T1:U2193">2</span>*<span class="var type1" id="S40T1U2831">acc_ob_y</span></span>*<span class="var type1" id="S35T1U2832">pos_ob_x</span></span>*<span class="var type1" id="S11T1U2833">s</span></span>*<span class="var type1" id="S37T1U2834">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2198"><span class="mxinfo " id="T1:U2199"><span class="mxinfo " id="T1:U2200"><span class="var type1" id="S40T1U2838">acc_ob_y</span>*<span class="mxinfo " id="T1:U2202"><span class="var type1" id="S10T1U2840">ey</span>^2</span></span>*<span class="var type1" id="S6T1U2842">xp_dot</span></span>*<span class="mxinfo " id="T1:U2205">cos(<span class="var type1" id="S9T1U2845">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2207"><span class="mxinfo " id="T1:U2208"><span class="mxinfo " id="T1:U2209"><span class="var type1" id="S39T1U2849">acc_ob_x</span>*<span class="mxinfo " id="T1:U2211"><span class="var type1" id="S10T1U2851">ey</span>^2</span></span>*<span class="var type1" id="S7T1U2853">yp_dot</span></span>*<span class="mxinfo " id="T1:U2214">cos(<span class="var type1" id="S9T1U2856">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2216"><span class="mxinfo " id="T1:U2217"><span class="mxinfo " id="T1:U2218"><span class="var type1" id="S40T1U2860">acc_ob_y</span>*<span class="mxinfo " id="T1:U2220"><span class="var type1" id="S35T1U2862">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U2864">xp_dot</span></span>*<span class="mxinfo " id="T1:U2223">cos(<span class="var type1" id="S9T1U2867">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2225"><span class="mxinfo " id="T1:U2226"><span class="mxinfo " id="T1:U2227"><span class="var type1" id="S40T1U2871">acc_ob_y</span>*<span class="mxinfo " id="T1:U2229"><span class="var type1" id="S36T1U2873">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U2875">xp_dot</span></span>*<span class="mxinfo " id="T1:U2232">cos(<span class="var type1" id="S9T1U2878">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2234"><span class="mxinfo " id="T1:U2235"><span class="mxinfo " id="T1:U2236"><span class="var type1" id="S39T1U2882">acc_ob_x</span>*<span class="mxinfo " id="T1:U2238"><span class="var type1" id="S35T1U2884">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U2886">yp_dot</span></span>*<span class="mxinfo " id="T1:U2241">cos(<span class="var type1" id="S9T1U2889">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2243"><span class="mxinfo " id="T1:U2244"><span class="mxinfo " id="T1:U2245"><span class="var type1" id="S39T1U2893">acc_ob_x</span>*<span class="mxinfo " id="T1:U2247"><span class="var type1" id="S36T1U2895">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U2897">yp_dot</span></span>*<span class="mxinfo " id="T1:U2250">cos(<span class="var type1" id="S9T1U2900">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2252"><span class="mxinfo " id="T1:U2253"><span class="mxinfo " id="T1:U2254"><span class="var type1" id="S40T1U2904">acc_ob_y</span>*<span class="mxinfo " id="T1:U2256"><span class="var type1" id="S11T1U2906">s</span>^2</span></span>*<span class="var type1" id="S6T1U2908">xp_dot</span></span>*<span class="mxinfo " id="T1:U2259">cos(<span class="var type1" id="S9T1U2911">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2261"><span class="mxinfo " id="T1:U2262"><span class="mxinfo " id="T1:U2263"><span class="var type1" id="S39T1U2915">acc_ob_x</span>*<span class="mxinfo " id="T1:U2265"><span class="var type1" id="S11T1U2917">s</span>^2</span></span>*<span class="var type1" id="S7T1U2919">yp_dot</span></span>*<span class="mxinfo " id="T1:U2268">cos(<span class="var type1" id="S9T1U2922">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2270"><span class="mxinfo " id="T1:U2271"><span class="mxinfo " id="T1:U2272"><span class="var type1" id="S39T1U2926">acc_ob_x</span>*<span class="mxinfo " id="T1:U2274"><span class="var type1" id="S10T1U2928">ey</span>^2</span></span>*<span class="var type1" id="S6T1U2930">xp_dot</span></span>*<span class="mxinfo " id="T1:U2277">sin(<span class="var type1" id="S9T1U2933">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2279"><span class="mxinfo " id="T1:U2280"><span class="mxinfo " id="T1:U2281"><span class="var type1" id="S40T1U2937">acc_ob_y</span>*<span class="mxinfo " id="T1:U2283"><span class="var type1" id="S10T1U2939">ey</span>^2</span></span>*<span class="var type1" id="S7T1U2941">yp_dot</span></span>*<span class="mxinfo " id="T1:U2286">sin(<span class="var type1" id="S9T1U2944">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2288"><span class="mxinfo " id="T1:U2289"><span class="mxinfo " id="T1:U2290"><span class="mxinfo " id="T1:U2291"><span class="mxinfo " id="T1:U2292">2</span>*<span class="var type1" id="S10T1U2950">ey</span></span>*<span class="mxinfo " id="T1:U2294"><span class="var type1" id="S37T1U2952">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U2954">xp_dot</span></span>*<span class="mxinfo " id="T1:U2297">cos(<span class="var type1" id="S9T1U2957">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2299"><span class="mxinfo " id="T1:U2300"><span class="mxinfo " id="T1:U2301"><span class="var type1" id="S39T1U2961">acc_ob_x</span>*<span class="mxinfo " id="T1:U2303"><span class="var type1" id="S35T1U2963">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U2965">xp_dot</span></span>*<span class="mxinfo " id="T1:U2306">sin(<span class="var type1" id="S9T1U2968">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2308"><span class="mxinfo " id="T1:U2309"><span class="mxinfo " id="T1:U2310"><span class="var type1" id="S39T1U2972">acc_ob_x</span>*<span class="mxinfo " id="T1:U2312"><span class="var type1" id="S36T1U2974">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U2976">xp_dot</span></span>*<span class="mxinfo " id="T1:U2315">sin(<span class="var type1" id="S9T1U2979">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2317"><span class="mxinfo " id="T1:U2318"><span class="mxinfo " id="T1:U2319"><span class="var type1" id="S40T1U2983">acc_ob_y</span>*<span class="mxinfo " id="T1:U2321"><span class="var type1" id="S35T1U2985">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U2987">yp_dot</span></span>*<span class="mxinfo " id="T1:U2324">sin(<span class="var type1" id="S9T1U2990">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2326"><span class="mxinfo " id="T1:U2327"><span class="mxinfo " id="T1:U2328"><span class="var type1" id="S40T1U2994">acc_ob_y</span>*<span class="mxinfo " id="T1:U2330"><span class="var type1" id="S36T1U2996">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U2998">yp_dot</span></span>*<span class="mxinfo " id="T1:U2333">sin(<span class="var type1" id="S9T1U3001">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2335"><span class="mxinfo " id="T1:U2336"><span class="mxinfo " id="T1:U2337"><span class="var type1" id="S39T1U3005">acc_ob_x</span>*<span class="mxinfo " id="T1:U2339"><span class="var type1" id="S11T1U3007">s</span>^2</span></span>*<span class="var type1" id="S6T1U3009">xp_dot</span></span>*<span class="mxinfo " id="T1:U2342">sin(<span class="var type1" id="S9T1U3012">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2344"><span class="mxinfo " id="T1:U2345"><span class="mxinfo " id="T1:U2346"><span class="var type1" id="S40T1U3016">acc_ob_y</span>*<span class="mxinfo " id="T1:U2348"><span class="var type1" id="S11T1U3018">s</span>^2</span></span>*<span class="var type1" id="S7T1U3020">yp_dot</span></span>*<span class="mxinfo " id="T1:U2351">sin(<span class="var type1" id="S9T1U3023">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2353"><span class="mxinfo " id="T1:U2354"><span class="mxinfo " id="T1:U2355"><span class="mxinfo " id="T1:U2356"><span class="mxinfo " id="T1:U2357">2</span>*<span class="var type1" id="S36T1U3029">pos_ob_y</span></span>*<span class="mxinfo " id="T1:U2359"><span class="var type1" id="S37T1U3031">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U3033">xp_dot</span></span>*<span class="mxinfo " id="T1:U2362">cos(<span class="var type1" id="S9T1U3036">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2364"><span class="mxinfo " id="T1:U2365"><span class="mxinfo " id="T1:U2366"><span class="mxinfo " id="T1:U2367"><span class="mxinfo " id="T1:U2368">2</span>*<span class="var type1" id="S35T1U3042">pos_ob_x</span></span>*<span class="mxinfo " id="T1:U2370"><span class="var type1" id="S38T1U3044">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U3046">yp_dot</span></span>*<span class="mxinfo " id="T1:U2373">cos(<span class="var type1" id="S9T1U3049">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2375"><span class="mxinfo " id="T1:U2376"><span class="mxinfo " id="T1:U2377"><span class="mxinfo " id="T1:U2378"><span class="mxinfo " id="T1:U2379">2</span>*<span class="var type1" id="S11T1U3055">s</span></span>*<span class="mxinfo " id="T1:U2381"><span class="var type1" id="S38T1U3057">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U3059">yp_dot</span></span>*<span class="mxinfo " id="T1:U2384">cos(<span class="var type1" id="S9T1U3062">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2386"><span class="mxinfo " id="T1:U2387"><span class="mxinfo " id="T1:U2388"><span class="mxinfo " id="T1:U2389"><span class="mxinfo " id="T1:U2390">2</span>*<span class="var type1" id="S10T1U3068">ey</span></span>*<span class="mxinfo " id="T1:U2392"><span class="var type1" id="S37T1U3070">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U3072">yp_dot</span></span>*<span class="mxinfo " id="T1:U2395">sin(<span class="var type1" id="S9T1U3075">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2397"><span class="mxinfo " id="T1:U2398"><span class="mxinfo " id="T1:U2399"><span class="mxinfo " id="T1:U2400"><span class="mxinfo " id="T1:U2401">2</span>*<span class="var type1" id="S35T1U3081">pos_ob_x</span></span>*<span class="mxinfo " id="T1:U2403"><span class="var type1" id="S38T1U3083">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U3085">xp_dot</span></span>*<span class="mxinfo " id="T1:U2406">sin(<span class="var type1" id="S9T1U3088">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2408"><span class="mxinfo " id="T1:U2409"><span class="mxinfo " id="T1:U2410"><span class="mxinfo " id="T1:U2411"><span class="mxinfo " id="T1:U2412">2</span>*<span class="var type1" id="S36T1U3094">pos_ob_y</span></span>*<span class="mxinfo " id="T1:U2414"><span class="var type1" id="S37T1U3096">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U3098">yp_dot</span></span>*<span class="mxinfo " id="T1:U2417">sin(<span class="var type1" id="S9T1U3101">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2419"><span class="mxinfo " id="T1:U2420"><span class="mxinfo " id="T1:U2421"><span class="mxinfo " id="T1:U2422"><span class="mxinfo " id="T1:U2423">2</span>*<span class="var type1" id="S11T1U3107">s</span></span>*<span class="mxinfo " id="T1:U2425"><span class="var type1" id="S38T1U3109">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U3111">xp_dot</span></span>*<span class="mxinfo " id="T1:U2428">sin(<span class="var type1" id="S9T1U3114">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2430"><span class="mxinfo " id="T1:U2431"><span class="mxinfo " id="T1:U2432"><span class="mxinfo " id="T1:U2433"><span class="mxinfo " id="T1:U2434"><span class="mxinfo " id="T1:U2435">2</span>*<span class="var type1" id="S11T1U3121">s</span></span>*<span class="var type1" id="S37T1U3122">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3123">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3124">xp_dot</span></span>*<span class="mxinfo " id="T1:U2440">cos(<span class="var type1" id="S9T1U3127">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2442"><span class="mxinfo " id="T1:U2443"><span class="mxinfo " id="T1:U2444"><span class="mxinfo " id="T1:U2445"><span class="mxinfo " id="T1:U2446"><span class="mxinfo " id="T1:U2447">2</span>*<span class="var type1" id="S10T1U3134">ey</span></span>*<span class="var type1" id="S37T1U3135">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3136">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3137">xp_dot</span></span>*<span class="mxinfo " id="T1:U2452">sin(<span class="var type1" id="S9T1U3140">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2454"><span class="mxinfo " id="T1:U2455"><span class="mxinfo " id="T1:U2456"><span class="mxinfo " id="T1:U2457"><span class="mxinfo " id="T1:U2458"><span class="mxinfo " id="T1:U2459">2</span>*<span class="var type1" id="S36T1U3147">pos_ob_y</span></span>*<span class="var type1" id="S37T1U3148">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3149">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3150">xp_dot</span></span>*<span class="mxinfo " id="T1:U2464">sin(<span class="var type1" id="S9T1U3153">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2466"><span class="mxinfo " id="T1:U2467"><span class="mxinfo " id="T1:U2468"><span class="mxinfo " id="T1:U2469"><span class="mxinfo " id="T1:U2470"><span class="mxinfo " id="T1:U2471">2</span>*<span class="var type1" id="S35T1U3160">pos_ob_x</span></span>*<span class="var type1" id="S37T1U3161">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3162">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3163">yp_dot</span></span>*<span class="mxinfo " id="T1:U2476">sin(<span class="var type1" id="S9T1U3166">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2478"><span class="mxinfo " id="T1:U2479"><span class="mxinfo " id="T1:U2480"><span class="mxinfo " id="T1:U2481"><span class="mxinfo " id="T1:U2482"><span class="mxinfo " id="T1:U2483">2</span>*<span class="var type1" id="S11T1U3173">s</span></span>*<span class="var type1" id="S37T1U3174">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3175">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3176">yp_dot</span></span>*<span class="mxinfo " id="T1:U2488">sin(<span class="var type1" id="S9T1U3179">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2490"><span class="mxinfo " id="T1:U2491"><span class="mxinfo " id="T1:U2492"><span class="mxinfo " id="T1:U2493"><span class="mxinfo " id="T1:U2494"><span class="mxinfo " id="T1:U2495">2</span>*<span class="var type1" id="S40T1U3186">acc_ob_y</span></span>*<span class="var type1" id="S10T1U3187">ey</span></span>*<span class="var type1" id="S36T1U3188">pos_ob_y</span></span>*<span class="var type1" id="S6T1U3189">xp_dot</span></span>*<span class="mxinfo " id="T1:U2500">cos(<span class="var type1" id="S9T1U3192">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2502"><span class="mxinfo " id="T1:U2503"><span class="mxinfo " id="T1:U2504"><span class="mxinfo " id="T1:U2505"><span class="mxinfo " id="T1:U2506"><span class="mxinfo " id="T1:U2507">2</span>*<span class="var type1" id="S39T1U3199">acc_ob_x</span></span>*<span class="var type1" id="S10T1U3200">ey</span></span>*<span class="var type1" id="S36T1U3201">pos_ob_y</span></span>*<span class="var type1" id="S7T1U3202">yp_dot</span></span>*<span class="mxinfo " id="T1:U2512">cos(<span class="var type1" id="S9T1U3205">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2514"><span class="mxinfo " id="T1:U2515"><span class="mxinfo " id="T1:U2516"><span class="mxinfo " id="T1:U2517"><span class="mxinfo " id="T1:U2518"><span class="mxinfo " id="T1:U2519">2</span>*<span class="var type1" id="S40T1U3212">acc_ob_y</span></span>*<span class="var type1" id="S35T1U3213">pos_ob_x</span></span>*<span class="var type1" id="S11T1U3214">s</span></span>*<span class="var type1" id="S6T1U3215">xp_dot</span></span>*<span class="mxinfo " id="T1:U2524">cos(<span class="var type1" id="S9T1U3218">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2526"><span class="mxinfo " id="T1:U2527"><span class="mxinfo " id="T1:U2528"><span class="mxinfo " id="T1:U2529"><span class="mxinfo " id="T1:U2530"><span class="mxinfo " id="T1:U2531">2</span>*<span class="var type1" id="S39T1U3225">acc_ob_x</span></span>*<span class="var type1" id="S35T1U3226">pos_ob_x</span></span>*<span class="var type1" id="S11T1U3227">s</span></span>*<span class="var type1" id="S7T1U3228">yp_dot</span></span>*<span class="mxinfo " id="T1:U2536">cos(<span class="var type1" id="S9T1U3231">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2538"><span class="mxinfo " id="T1:U2539"><span class="mxinfo " id="T1:U2540"><span class="mxinfo " id="T1:U2541"><span class="mxinfo " id="T1:U2542"><span class="mxinfo " id="T1:U2543">2</span>*<span class="var type1" id="S39T1U3238">acc_ob_x</span></span>*<span class="var type1" id="S10T1U3239">ey</span></span>*<span class="var type1" id="S36T1U3240">pos_ob_y</span></span>*<span class="var type1" id="S6T1U3241">xp_dot</span></span>*<span class="mxinfo " id="T1:U2548">sin(<span class="var type1" id="S9T1U3244">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2550"><span class="mxinfo " id="T1:U2551"><span class="mxinfo " id="T1:U2552"><span class="mxinfo " id="T1:U2553"><span class="mxinfo " id="T1:U2554"><span class="mxinfo " id="T1:U2555">2</span>*<span class="var type1" id="S40T1U3251">acc_ob_y</span></span>*<span class="var type1" id="S10T1U3252">ey</span></span>*<span class="var type1" id="S36T1U3253">pos_ob_y</span></span>*<span class="var type1" id="S7T1U3254">yp_dot</span></span>*<span class="mxinfo " id="T1:U2560">sin(<span class="var type1" id="S9T1U3257">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2562"><span class="mxinfo " id="T1:U2563"><span class="mxinfo " id="T1:U2564"><span class="mxinfo " id="T1:U2565"><span class="mxinfo " id="T1:U2566"><span class="mxinfo " id="T1:U2567">2</span>*<span class="var type1" id="S10T1U3264">ey</span></span>*<span class="var type1" id="S37T1U3265">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3266">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3267">yp_dot</span></span>*<span class="mxinfo " id="T1:U2572">cos(<span class="var type1" id="S9T1U3270">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2574"><span class="mxinfo " id="T1:U2575"><span class="mxinfo " id="T1:U2576"><span class="mxinfo " id="T1:U2577"><span class="mxinfo " id="T1:U2578"><span class="mxinfo " id="T1:U2579">2</span>*<span class="var type1" id="S39T1U3277">acc_ob_x</span></span>*<span class="var type1" id="S35T1U3278">pos_ob_x</span></span>*<span class="var type1" id="S11T1U3279">s</span></span>*<span class="var type1" id="S6T1U3280">xp_dot</span></span>*<span class="mxinfo " id="T1:U2584">sin(<span class="var type1" id="S9T1U3283">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2586"><span class="mxinfo " id="T1:U2587"><span class="mxinfo " id="T1:U2588"><span class="mxinfo " id="T1:U2589"><span class="mxinfo " id="T1:U2590"><span class="mxinfo " id="T1:U2591">2</span>*<span class="var type1" id="S40T1U3290">acc_ob_y</span></span>*<span class="var type1" id="S35T1U3291">pos_ob_x</span></span>*<span class="var type1" id="S11T1U3292">s</span></span>*<span class="var type1" id="S7T1U3293">yp_dot</span></span>*<span class="mxinfo " id="T1:U2596">sin(<span class="var type1" id="S9T1U3296">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2598"><span class="mxinfo " id="T1:U2599"><span class="mxinfo " id="T1:U2600"><span class="mxinfo " id="T1:U2601"><span class="mxinfo " id="T1:U2602"><span class="mxinfo " id="T1:U2603">2</span>*<span class="var type1" id="S35T1U3303">pos_ob_x</span></span>*<span class="var type1" id="S37T1U3304">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3305">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3306">xp_dot</span></span>*<span class="mxinfo " id="T1:U2608">cos(<span class="var type1" id="S9T1U3309">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2610"><span class="mxinfo " id="T1:U2611"><span class="mxinfo " id="T1:U2612"><span class="mxinfo " id="T1:U2613"><span class="mxinfo " id="T1:U2614"><span class="mxinfo " id="T1:U2615">2</span>*<span class="var type1" id="S36T1U3316">pos_ob_y</span></span>*<span class="var type1" id="S37T1U3317">vel_ob_x</span></span>*<span class="var type1" id="S38T1U3318">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3319">yp_dot</span></span>*<span class="mxinfo " id="T1:U2620">cos(<span class="var type1" id="S9T1U3322">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U2622"><span class="mxinfo " id="T1:U2623"><span class="mxinfo " id="T1:U2624">(<span class="mxinfo " id="T1:U2625"><span class="mxinfo " id="T1:U2626">1</span> - <span class="mxinfo " id="T1:U2627"><span class="mxinfo " id="T1:U2628">(<span class="mxinfo " id="T1:U2629"><span class="mxinfo " id="T1:U2630">(<span class="mxinfo " id="T1:U2631"><span class="var type1" id="S35T1U3337">pos_ob_x</span> - <span class="var type1" id="S11T1U3338">s</span></span>)*(<span class="mxinfo " id="T1:U2634"><span class="mxinfo " id="T1:U2635"><span class="var type1" id="S37T1U3342">vel_ob_x</span> - <span class="mxinfo " id="T1:U2637"><span class="var type1" id="S6T1U3344">xp_dot</span>*<span class="mxinfo " id="T1:U2639">cos(<span class="var type1" id="S9T1U3347">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2641"><span class="var type1" id="S7T1U3349">yp_dot</span>*<span class="mxinfo " id="T1:U2643">sin(<span class="var type1" id="S9T1U3352">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U2645">(<span class="mxinfo " id="T1:U2646"><span class="var type1" id="S10T1U3356">ey</span> - <span class="var type1" id="S36T1U3357">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U2649"><span class="mxinfo " id="T1:U2650"><span class="mxinfo " id="T1:U2651"><span class="var type1" id="S7T1U3362">yp_dot</span>*<span class="mxinfo " id="T1:U2653">cos(<span class="var type1" id="S9T1U3365">epsi</span>)</span></span> - <span class="var type1" id="S38T1U3366">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2656"><span class="var type1" id="S6T1U3368">xp_dot</span>*<span class="mxinfo " id="T1:U2658">sin(<span class="var type1" id="S9T1U3371">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U2660">(<span class="mxinfo " id="T1:U2661"><span class="mxinfo " id="T1:U2662">(<span class="mxinfo " id="T1:U2663"><span class="var type1" id="S35T1U3380">pos_ob_x</span> - <span class="var type1" id="S11T1U3381">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2666">(<span class="mxinfo " id="T1:U2667"><span class="var type1" id="S10T1U3386">ey</span> - <span class="var type1" id="S36T1U3387">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U2670"><span class="mxinfo " id="T1:U2671">(<span class="mxinfo " id="T1:U2672"><span class="mxinfo " id="T1:U2673"><span class="var type1" id="S37T1U3395">vel_ob_x</span> - <span class="mxinfo " id="T1:U2675"><span class="var type1" id="S6T1U3397">xp_dot</span>*<span class="mxinfo " id="T1:U2677">cos(<span class="var type1" id="S9T1U3400">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2679"><span class="var type1" id="S7T1U3402">yp_dot</span>*<span class="mxinfo " id="T1:U2681">sin(<span class="var type1" id="S9T1U3405">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2683">(<span class="mxinfo " id="T1:U2684"><span class="mxinfo " id="T1:U2685"><span class="mxinfo " id="T1:U2686"><span class="var type1" id="S7T1U3412">yp_dot</span>*<span class="mxinfo " id="T1:U2688">cos(<span class="var type1" id="S9T1U3415">epsi</span>)</span></span> - <span class="var type1" id="S38T1U3416">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2691"><span class="var type1" id="S6T1U3418">xp_dot</span>*<span class="mxinfo " id="T1:U2693">sin(<span class="var type1" id="S9T1U3421">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U2695">(<span class="mxinfo " id="T1:U2696"><span class="mxinfo " id="T1:U2697">(<span class="mxinfo " id="T1:U2698"><span class="var type1" id="S35T1U3433">pos_ob_x</span> - <span class="var type1" id="S11T1U3434">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2701">(<span class="mxinfo " id="T1:U2702"><span class="var type1" id="S10T1U3439">ey</span> - <span class="var type1" id="S36T1U3440">pos_ob_y</span></span>)^2</span></span>)^(3/2)</span></span>*<span class="mxinfo " id="T1:U2705">(<span class="mxinfo " id="T1:U2706"><span class="mxinfo " id="T1:U2707">(<span class="mxinfo " id="T1:U2708"><span class="mxinfo " id="T1:U2709"><span class="var type1" id="S37T1U3453">vel_ob_x</span> - <span class="mxinfo " id="T1:U2711"><span class="var type1" id="S6T1U3455">xp_dot</span>*<span class="mxinfo " id="T1:U2713">cos(<span class="var type1" id="S9T1U3458">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2715"><span class="var type1" id="S7T1U3460">yp_dot</span>*<span class="mxinfo " id="T1:U2717">sin(<span class="var type1" id="S9T1U3463">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2719">(<span class="mxinfo " id="T1:U2720"><span class="mxinfo " id="T1:U2721"><span class="mxinfo " id="T1:U2722"><span class="var type1" id="S7T1U3470">yp_dot</span>*<span class="mxinfo " id="T1:U2724">cos(<span class="var type1" id="S9T1U3473">epsi</span>)</span></span> - <span class="var type1" id="S38T1U3474">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2727"><span class="var type1" id="S6T1U3476">xp_dot</span>*<span class="mxinfo " id="T1:U2729">sin(<span class="var type1" id="S9T1U3479">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,300" id="srcline300">300</a></span><span class="line">        <span class="mxinfo " id="T1:U2731"><span class="var type1" id="S84T1U3487">L_g_h_ang_part1</span> = <span class="mxinfo " id="T1:U2733">(<span class="mxinfo " id="T1:U2734"><span class="mxinfo " id="T1:U2735"><span class="mxinfo " id="T1:U2736"><span class="mxinfo " id="T1:U2737">2</span>*<span class="var type1" id="S59T1U3494">cf</span></span>*(<span class="mxinfo " id="T1:U2739"><span class="mxinfo " id="T1:U2740"><span class="mxinfo " id="T1:U2741"><span class="var type1" id="S37T1U3499">vel_ob_x</span>*<span class="mxinfo " id="T1:U2743">cos(<span class="var type1" id="S9T1U3502">epsi</span>)</span></span> - <span class="var type1" id="S6T1U3503">xp_dot</span></span> + <span class="mxinfo " id="T1:U2746"><span class="var type1" id="S38T1U3505">vel_ob_y</span>*<span class="mxinfo " id="T1:U2748">sin(<span class="var type1" id="S9T1U3508">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U2750"><span class="mxinfo " id="T1:U2751"><span class="mxinfo " id="T1:U2752"><span class="mxinfo " id="T1:U2753"><span class="mxinfo " id="T1:U2754"><span class="mxinfo " id="T1:U2755"><span class="mxinfo " id="T1:U2756"><span class="mxinfo " id="T1:U2757"><span class="mxinfo " id="T1:U2758"><span class="mxinfo " id="T1:U2759"><span class="mxinfo " id="T1:U2760"><span class="mxinfo " id="T1:U2761"><span class="var type1" id="S10T1U3522">ey</span>*<span class="var type1" id="S37T1U3523">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U2764"><span class="var type1" id="S35T1U3525">pos_ob_x</span>*<span class="var type1" id="S38T1U3526">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2767"><span class="var type1" id="S36T1U3528">pos_ob_y</span>*<span class="var type1" id="S37T1U3529">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2770"><span class="var type1" id="S11T1U3531">s</span>*<span class="var type1" id="S38T1U3532">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2773"><span class="mxinfo " id="T1:U2774"><span class="var type1" id="S10T1U3535">ey</span>*<span class="var type1" id="S6T1U3536">xp_dot</span></span>*<span class="mxinfo " id="T1:U2777">cos(<span class="var type1" id="S9T1U3539">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2779"><span class="mxinfo " id="T1:U2780"><span class="var type1" id="S36T1U3542">pos_ob_y</span>*<span class="var type1" id="S6T1U3543">xp_dot</span></span>*<span class="mxinfo " id="T1:U2783">cos(<span class="var type1" id="S9T1U3546">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2785"><span class="mxinfo " id="T1:U2786"><span class="var type1" id="S35T1U3549">pos_ob_x</span>*<span class="var type1" id="S7T1U3550">yp_dot</span></span>*<span class="mxinfo " id="T1:U2789">cos(<span class="var type1" id="S9T1U3553">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2791"><span class="mxinfo " id="T1:U2792"><span class="var type1" id="S11T1U3556">s</span>*<span class="var type1" id="S7T1U3557">yp_dot</span></span>*<span class="mxinfo " id="T1:U2795">cos(<span class="var type1" id="S9T1U3560">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2797"><span class="mxinfo " id="T1:U2798"><span class="var type1" id="S10T1U3563">ey</span>*<span class="var type1" id="S7T1U3564">yp_dot</span></span>*<span class="mxinfo " id="T1:U2801">sin(<span class="var type1" id="S9T1U3567">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2803"><span class="mxinfo " id="T1:U2804"><span class="var type1" id="S35T1U3570">pos_ob_x</span>*<span class="var type1" id="S6T1U3571">xp_dot</span></span>*<span class="mxinfo " id="T1:U2807">sin(<span class="var type1" id="S9T1U3574">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2809"><span class="mxinfo " id="T1:U2810"><span class="var type1" id="S36T1U3577">pos_ob_y</span>*<span class="var type1" id="S7T1U3578">yp_dot</span></span>*<span class="mxinfo " id="T1:U2813">sin(<span class="var type1" id="S9T1U3581">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2815"><span class="mxinfo " id="T1:U2816"><span class="var type1" id="S11T1U3584">s</span>*<span class="var type1" id="S6T1U3585">xp_dot</span></span>*<span class="mxinfo " id="T1:U2819">sin(<span class="var type1" id="S9T1U3588">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U2821"><span class="mxinfo " id="T1:U2822"><span class="mxinfo " id="T1:U2823"><span class="var type1" id="S61T1U3593">m</span>*<span class="mxinfo " id="T1:U2825">(<span class="mxinfo " id="T1:U2826"><span class="mxinfo " id="T1:U2827">1</span> - <span class="mxinfo " id="T1:U2828"><span class="mxinfo " id="T1:U2829">(<span class="mxinfo " id="T1:U2830"><span class="mxinfo " id="T1:U2831">(<span class="mxinfo " id="T1:U2832"><span class="var type1" id="S35T1U3605">pos_ob_x</span> - <span class="var type1" id="S11T1U3606">s</span></span>)*(<span class="mxinfo " id="T1:U2835"><span class="mxinfo " id="T1:U2836"><span class="var type1" id="S37T1U3610">vel_ob_x</span> - <span class="mxinfo " id="T1:U2838"><span class="var type1" id="S6T1U3612">xp_dot</span>*<span class="mxinfo " id="T1:U2840">cos(<span class="var type1" id="S9T1U3615">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2842"><span class="var type1" id="S7T1U3617">yp_dot</span>*<span class="mxinfo " id="T1:U2844">sin(<span class="var type1" id="S9T1U3620">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U2846">(<span class="mxinfo " id="T1:U2847"><span class="var type1" id="S10T1U3624">ey</span> - <span class="var type1" id="S36T1U3625">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U2850"><span class="mxinfo " id="T1:U2851"><span class="mxinfo " id="T1:U2852"><span class="var type1" id="S7T1U3630">yp_dot</span>*<span class="mxinfo " id="T1:U2854">cos(<span class="var type1" id="S9T1U3633">epsi</span>)</span></span> - <span class="var type1" id="S38T1U3634">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2857"><span class="var type1" id="S6T1U3636">xp_dot</span>*<span class="mxinfo " id="T1:U2859">sin(<span class="var type1" id="S9T1U3639">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U2861">(<span class="mxinfo " id="T1:U2862"><span class="mxinfo " id="T1:U2863">(<span class="mxinfo " id="T1:U2864"><span class="var type1" id="S35T1U3648">pos_ob_x</span> - <span class="var type1" id="S11T1U3649">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2867">(<span class="mxinfo " id="T1:U2868"><span class="var type1" id="S10T1U3654">ey</span> - <span class="var type1" id="S36T1U3655">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U2871"><span class="mxinfo " id="T1:U2872">(<span class="mxinfo " id="T1:U2873"><span class="mxinfo " id="T1:U2874"><span class="var type1" id="S37T1U3663">vel_ob_x</span> - <span class="mxinfo " id="T1:U2876"><span class="var type1" id="S6T1U3665">xp_dot</span>*<span class="mxinfo " id="T1:U2878">cos(<span class="var type1" id="S9T1U3668">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2880"><span class="var type1" id="S7T1U3670">yp_dot</span>*<span class="mxinfo " id="T1:U2882">sin(<span class="var type1" id="S9T1U3673">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2884">(<span class="mxinfo " id="T1:U2885"><span class="mxinfo " id="T1:U2886"><span class="mxinfo " id="T1:U2887"><span class="var type1" id="S7T1U3680">yp_dot</span>*<span class="mxinfo " id="T1:U2889">cos(<span class="var type1" id="S9T1U3683">epsi</span>)</span></span> - <span class="var type1" id="S38T1U3684">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2892"><span class="var type1" id="S6T1U3686">xp_dot</span>*<span class="mxinfo " id="T1:U2894">sin(<span class="var type1" id="S9T1U3689">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U2896">(<span class="mxinfo " id="T1:U2897"><span class="mxinfo " id="T1:U2898">(<span class="mxinfo " id="T1:U2899"><span class="var type1" id="S35T1U3701">pos_ob_x</span> - <span class="var type1" id="S11T1U3702">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2902">(<span class="mxinfo " id="T1:U2903"><span class="var type1" id="S10T1U3707">ey</span> - <span class="var type1" id="S36T1U3708">pos_ob_y</span></span>)^2</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U2906">(<span class="mxinfo " id="T1:U2907"><span class="mxinfo " id="T1:U2908">(<span class="mxinfo " id="T1:U2909"><span class="mxinfo " id="T1:U2910"><span class="var type1" id="S37T1U3721">vel_ob_x</span> - <span class="mxinfo " id="T1:U2912"><span class="var type1" id="S6T1U3723">xp_dot</span>*<span class="mxinfo " id="T1:U2914">cos(<span class="var type1" id="S9T1U3726">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2916"><span class="var type1" id="S7T1U3728">yp_dot</span>*<span class="mxinfo " id="T1:U2918">sin(<span class="var type1" id="S9T1U3731">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2920">(<span class="mxinfo " id="T1:U2921"><span class="mxinfo " id="T1:U2922"><span class="mxinfo " id="T1:U2923"><span class="var type1" id="S7T1U3738">yp_dot</span>*<span class="mxinfo " id="T1:U2925">cos(<span class="var type1" id="S9T1U3741">epsi</span>)</span></span> - <span class="var type1" id="S38T1U3742">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2928"><span class="var type1" id="S6T1U3744">xp_dot</span>*<span class="mxinfo " id="T1:U2930">sin(<span class="var type1" id="S9T1U3747">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,301" id="srcline301">301</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,302" id="srcline302">302</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,303" id="srcline303">303</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,304" id="srcline304">304</a></span><span class="line"><span class="comment">%% output, notice the define of the output variables: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,305" id="srcline305">305</a></span><span class="line">   <span class="comment">%out = L_f_h_ang_part1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,306" id="srcline306">306</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,307" id="srcline307">307</a></span><span class="line"><span class="comment">%     %test:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,308" id="srcline308">308</a></span><span class="line"><span class="comment">%     out(i_ob).h_angle_moving= NaN;  %cannot be 0?</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,309" id="srcline309">309</a></span><span class="line"><span class="comment">%     out(i_ob).A_n_angle_moving  = A_n_anglemoving; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,310" id="srcline310">310</a></span><span class="line"><span class="comment">%     out(i_ob).B_n_angle_moving = B_n_anglemoving;    </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,311" id="srcline311">311</a></span><span class="line"><span class="comment">%     out(i_ob).h_angle_fix =  h_ang; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,312" id="srcline312">312</a></span><span class="line"><span class="comment">%     out(i_ob).A_n_angle_fix=  A_n_angle_fix; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,313" id="srcline313">313</a></span><span class="line"><span class="comment">%     out(i_ob).B_n_angle_fix = b_n_angle_fix;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,314" id="srcline314">314</a></span><span class="line"><span class="comment">%     out(i_ob).h_dis = h_vel; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,315" id="srcline315">315</a></span><span class="line"><span class="comment">%     out(i_ob).A_n_dis = A_n_vel; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,316" id="srcline316">316</a></span><span class="line"><span class="comment">%     out(i_ob).B_n_dis = b_n_vel; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,317" id="srcline317">317</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,318" id="srcline318">318</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,319" id="srcline319">319</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,320" id="srcline320">320</a></span><span class="line"></span></span>
</pre>
