<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T1U3">s</span> = constraint_obstacles_dynamics_complex_ccode(<span class="var type1" id="S3T2U6">u</span>, <span class="var type1" id="S4T1U7">t</span>, <span class="var type1" id="S5T3U8">traj_ob</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line"><span class="comment">%calculate the coefficients from the multiple static obstacles </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%20181011, add the actuator dynamics, the actuator dynamics is treated as 1-st order system, the steering angle and acc become states</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line"><span class="comment">%carefully check this file</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line"><span class="comment">%feedback states:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line"><span class="mxinfo " id="T1:U5"><span class="var type1" id="S6T1U11">xp_dot</span> = <span class="mxinfo " id="T1:U7"><span class="var type1" id="S3T2U13">u</span>(<span class="mxinfo " id="T5:U9">1</span>)</span></span>;  <span class="comment">%longitudinal speed</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line"><span class="mxinfo " id="T1:U10"><span class="var type1" id="S7T1U17">yp_dot</span> = <span class="mxinfo " id="T1:U12"><span class="var type1" id="S3T2U19">u</span>(<span class="mxinfo " id="T5:U14">2</span>)</span></span>;  <span class="comment">%lateral speed</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line"><span class="mxinfo " id="T1:U15"><span class="var type1" id="S8T1U23">psi_dot</span> = <span class="mxinfo " id="T1:U17"><span class="var type1" id="S3T2U25">u</span>(<span class="mxinfo " id="T5:U19">3</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line"><span class="mxinfo " id="T1:U20"><span class="var type1" id="S9T1U29">epsi</span> = <span class="mxinfo " id="T1:U22"><span class="var type1" id="S3T2U31">u</span>(<span class="mxinfo " id="T5:U24">4</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line"><span class="mxinfo " id="T1:U25"><span class="var type1" id="S10T1U35">ey</span>= <span class="mxinfo " id="T1:U27"><span class="var type1" id="S3T2U37">u</span>(<span class="mxinfo " id="T5:U29">5</span>)</span></span>;  <span class="comment">%lateral position</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line"><span class="mxinfo " id="T1:U30"><span class="var type1" id="S2T1U41">s</span> = <span class="mxinfo " id="T1:U32"><span class="var type1" id="S3T2U43">u</span>(<span class="mxinfo " id="T5:U34">6</span>)</span></span>;  <span class="comment">%logitudinal position </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line"><span class="comment">%20181011 add: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line"><span class="mxinfo " id="T1:U35"><span class="var type1" id="S11T1U47">steer</span> = <span class="mxinfo " id="T1:U37"><span class="var type1" id="S3T2U49">u</span>(<span class="mxinfo " id="T1:U39">7</span>)</span></span>;   <span class="comment">%steering angle </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line"><span class="mxinfo " id="T1:U40"><span class="var type1" id="S12T1U53">acc</span> = <span class="mxinfo " id="T1:U42"><span class="var type1" id="S3T2U55">u</span>(<span class="mxinfo " id="T1:U44">8</span>)</span></span>;  <span class="comment">%longitudinal acc </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line"><span class="comment">%static obstacles: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line"><span class="comment">% global no_ob;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line"><span class="keyword">global</span> <span class="var type0" id="S13T0U58">dead</span>;  <span class="comment">%once there is vilation of constraints, trigger dead,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line"><span class="comment">% global pos_ob_array_pre radius_pre;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line"><span class="mxinfo " id="T1:U45"><span class="var type1" id="S14T1U61">no_ob_input</span> = <span class="mxinfo " id="T1:U47"><span class="var type1" id="S5T3U63">traj_ob</span>.no</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line"><span class="mxinfo " id="T6:U49"><span class="var type1" id="S15T6U67">pos_ob_array_pre_input</span> = <span class="mxinfo " id="T6:U51">zeros(<span class="mxinfo " id="T1:U52">2</span>,<span class="var type1" id="S14T1U71">no_ob_input</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line"><span class="mxinfo " id="T6:U54"><span class="var type1" id="S17T6U74">vel_ob_array_pre</span> = <span class="mxinfo " id="T6:U56">zeros(<span class="mxinfo " id="T1:U57">2</span>,<span class="var type1" id="S14T1U78">no_ob_input</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line"><span class="mxinfo " id="T6:U59"><span class="var type1" id="S18T6U81">acc_ob_array</span> = <span class="mxinfo " id="T6:U61">zeros(<span class="mxinfo " id="T1:U62">2</span>,<span class="var type1" id="S14T1U85">no_ob_input</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line"><span class="mxinfo " id="T6:U64"><span class="var type1" id="S15T6U88">pos_ob_array_pre_input</span> = <span class="mxinfo " id="T4:U66"><span class="var type1" id="S5T3U90">traj_ob</span>.pos</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line"><span class="mxinfo " id="T6:U68"><span class="var type1" id="S17T6U94">vel_ob_array_pre</span> = <span class="mxinfo " id="T4:U70"><span class="var type1" id="S5T3U96">traj_ob</span>.vel</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line"><span class="mxinfo " id="T6:U72"><span class="var type1" id="S18T6U100">acc_ob_array</span> = <span class="mxinfo " id="T4:U74"><span class="var type1" id="S5T3U102">traj_ob</span>.acc</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line"><span class="mxinfo " id="T1:U76"><span class="var type1" id="S19T1U106">radius_pre</span> = <span class="mxinfo " id="T1:U78"><span class="var type1" id="S5T3U108">traj_ob</span>.rad</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line"><span class="comment">% radius = ones(no_ob,2);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line"><span class="comment">%%note that if two of the obstacles have the same x-coordinates, then the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line"><span class="comment">%%solver will let the vehicle go into the gap between the two obstacles,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line"><span class="comment">%%and if the gap is two small or even negative, then the QP problem will</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line"><span class="comment">%%become non solvable. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line"><span class="comment">%in this case, we can modify the center of the obstacle a little, so that</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line"><span class="comment">%the solver will not let the vehicle go to the gap between the two</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line"><span class="comment">%obstacles, but go to another side which is not between the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line"><span class="comment">%two obstacles. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,1) = [200+0*t; 0.0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,2) = [500; -0.0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,3) = [800; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,4) = [800;  1.5];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,5) = [1000;  0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,6) = [1200; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,7) = [1400;  0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,8) = [1400; -0.5];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,9) = [1700; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line"><span class="comment">% pos_ob_array_pre(:,10) = [1900; -0.1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line"><span class="comment">% pos_ob = [46.4496317612391,49.4606128179940,50.1520441588954,56.2263831741385,58.8805838768333;0.414589645301348,2.00584160428506,1.55964509106729,1.77552917183758,2.57119129022772];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line"><span class="comment">% % pos_ob(1,:) = sort(pos_ob(1,:));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line"><span class="comment">%     pos_ob_array_pre = pos_ob;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line"><span class="comment">% vel_ob_array_pre(:,1) = [ 0; 0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line"><span class="comment">% vel_ob_array_pre(:,2) = [0; 0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line"><span class="comment">%the size of the output depends on the number of the obstacles and the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63"> 63</a></span><span class="line"><span class="comment">%number of the constraints:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64"> 64</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65"> 65</a></span><span class="line"><span class="comment">%select the active obstacles, which are in the front of the vehicle, and the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66"> 66</a></span><span class="line"><span class="comment">%distance is less than a shreshold. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67"> 67</a></span><span class="line"><span class="mxinfo " id="T1:U80"><span class="var type1" id="S20T1U112">dis_shresh</span> = <span class="mxinfo " id="T1:U82">600</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68"> 68</a></span><span class="line"><span class="mxinfo " id="T6:U83"><span class="message warning" id="M1F1C"><span class="var type1" id="S21T6U116">pos_ob_array</span> = []</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69"> 69</a></span><span class="line"><span class="mxinfo " id="T6:U85"><span class="message warning" id="M2F1C"><span class="var type1" id="S22T6U121">vel_ob_array</span> =[]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70"> 70</a></span><span class="line"><span class="mxinfo " id="T7:U87"><span class="message warning" id="M3F1C"><span class="var type1" id="S23T7U126">radius_array</span> = []</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71"> 71</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S24T1U131">i</span> = <span class="mxinfo " id="T1:U90">1</span>:<span class="var type1" id="S14T1U134">no_ob_input</span> </span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72"> 72</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo " id="T8:U92"><span class="mxinfo " id="T1:U93"><span class="var type1" id="S15T6U141">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T5:U95">1</span>,<span class="var type1" id="S24T1U143">i</span>)</span>&gt;=(<span class="mxinfo " id="T1:U97"><span class="var type1" id="S2T1U146">s</span>-<span class="mxinfo " id="T1:U99">3</span></span>)</span>) &amp;&amp; (<span class="mxinfo " id="T8:U100"><span class="mxinfo " id="T1:U101">abs(<span class="mxinfo " id="T1:U102"><span class="var type1" id="S2T1U153">s</span>-<span class="mxinfo " id="T1:U104"><span class="var type1" id="S15T6U155">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T1:U106">1</span>,<span class="var type1" id="S24T1U157">i</span>)</span></span>)</span>&lt;=<span class="var type1" id="S20T1U158">dis_shresh</span></span>)  <span class="comment">%be careful, should be very careful</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73"> 73</a></span><span class="line">        <span class="mxinfo " id="T6:U109"><span class="var type1" id="S21T6U161">pos_ob_array</span> = <span class="mxinfo " id="T6:U111">[<span class="var type1" id="S21T6U164">pos_ob_array</span>, <span class="mxinfo " id="T4:U113"><span class="var type1" id="S15T6U166">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T9:U115">:</span>,<span class="var type1" id="S24T1U168">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74"> 74</a></span><span class="line">        <span class="mxinfo " id="T6:U117"><span class="var type1" id="S22T6U171">vel_ob_array</span> = <span class="mxinfo " id="T6:U119">[<span class="var type1" id="S22T6U174">vel_ob_array</span>, <span class="mxinfo " id="T4:U121"><span class="var type1" id="S17T6U176">vel_ob_array_pre</span>(<span class="mxinfo " id="T9:U123">:</span>,<span class="var type1" id="S24T1U178">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75"> 75</a></span><span class="line">        <span class="mxinfo " id="T7:U125"><span class="var type1" id="S23T7U181">radius_array</span> = <span class="mxinfo " id="T7:U127">[<span class="var type1" id="S23T7U184">radius_array</span>; <span class="mxinfo " id="T5:U129"><span class="var type1" id="S19T1U187">radius_pre</span>(<span class="var type1" id="S24T1U188">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76"> 76</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77"> 77</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78"> 78</a></span><span class="line"><span class="mxinfo " id="T1:U132"><span class="var type1" id="S26T1U191">no_ob_active</span> = <span class="mxinfo " id="T1:U134">size(<span class="var type1" id="S21T6U194">pos_ob_array</span>,2)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79"> 79</a></span><span class="line"><span class="keyword">if</span>(<span class="mxinfo " id="T8:U136"><span class="var type1" id="S26T1U200">no_ob_active</span> == <span class="mxinfo " id="T1:U138">0</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80"> 80</a></span><span class="line">    <span class="mxinfo " id="T6:U139"><span class="var type1" id="S21T6U204">pos_ob_array</span> = <span class="mxinfo " id="T4:U141"><span class="var type1" id="S15T6U206">pos_ob_array_pre_input</span>(<span class="mxinfo " id="T9:U143">:</span>,<span class="mxinfo " id="T1:U144">end</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81"> 81</a></span><span class="line">    <span class="mxinfo " id="T6:U145"><span class="var type1" id="S22T6U212">vel_ob_array</span> = <span class="mxinfo " id="T4:U147"><span class="var type1" id="S17T6U214">vel_ob_array_pre</span>(<span class="mxinfo " id="T9:U149">:</span>,<span class="mxinfo " id="T1:U150">end</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82"> 82</a></span><span class="line">    <span class="mxinfo " id="T7:U151"><span class="var type1" id="S23T7U220">radius_array</span> = <span class="var type1" id="S19T1U222">radius_pre</span>(end)</span>;<span class="comment">%very important, cause a lot of errors </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83"> 83</a></span><span class="line">    <span class="mxinfo " id="T1:U154"><span class="var type1" id="S26T1U227">no_ob_active</span>=<span class="mxinfo " id="T1:U156">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84"> 84</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85"> 85</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86"> 86</a></span><span class="line"><span class="mxinfo " id="T7:U157"><span class="var type1" id="S29T7U231">dis_2_vehicle</span> = <span class="mxinfo " id="T7:U159">zeros(<span class="var type1" id="S26T1U234">no_ob_active</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87"> 87</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S30T1U238">i_ob</span> =<span class="mxinfo " id="T1:U162">1</span>:<span class="var type1" id="S26T1U241">no_ob_active</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88"> 88</a></span><span class="line"><span class="comment">%% states of the vehicle and each obstacle:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,89" id="srcline89"> 89</a></span><span class="line">    <span class="mxinfo " id="T4:U164"><span class="var type1" id="S31T4U244">pos_ob</span> = <span class="mxinfo " id="T4:U166"><span class="var type1" id="S21T6U246">pos_ob_array</span>(<span class="mxinfo " id="T9:U168">:</span>,<span class="var type1" id="S30T1U248">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,90" id="srcline90"> 90</a></span><span class="line">    <span class="mxinfo " id="T4:U170"><span class="var type1" id="S32T4U251">vel_ob</span> = <span class="mxinfo " id="T4:U172"><span class="var type1" id="S22T6U253">vel_ob_array</span>(<span class="mxinfo " id="T9:U174">:</span>,<span class="var type1" id="S30T1U255">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,91" id="srcline91"> 91</a></span><span class="line">    <span class="mxinfo " id="T4:U176"><span class="var type1" id="S33T4U258">acc_ob</span> = <span class="mxinfo " id="T4:U178"><span class="var type1" id="S18T6U260">acc_ob_array</span>(<span class="mxinfo " id="T9:U180">:</span>,<span class="var type1" id="S30T1U262">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,92" id="srcline92"> 92</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,93" id="srcline93"> 93</a></span><span class="line">    <span class="mxinfo " id="T1:U182"><span class="var type1" id="S34T1U265">pos_ob_x</span> = <span class="mxinfo " id="T1:U184"><span class="var type1" id="S31T4U267">pos_ob</span>(<span class="mxinfo " id="T1:U186">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,94" id="srcline94"> 94</a></span><span class="line">    <span class="mxinfo " id="T1:U187"><span class="var type1" id="S35T1U271">pos_ob_y</span> = <span class="mxinfo " id="T1:U189"><span class="var type1" id="S31T4U273">pos_ob</span>(<span class="mxinfo " id="T1:U191">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,95" id="srcline95"> 95</a></span><span class="line">    <span class="mxinfo " id="T1:U192"><span class="var type1" id="S36T1U277">vel_ob_x</span> = <span class="mxinfo " id="T1:U194"><span class="var type1" id="S32T4U279">vel_ob</span>(<span class="mxinfo " id="T1:U196">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,96" id="srcline96"> 96</a></span><span class="line">    <span class="mxinfo " id="T1:U197"><span class="var type1" id="S37T1U283">vel_ob_y</span> = <span class="mxinfo " id="T1:U199"><span class="var type1" id="S32T4U285">vel_ob</span>(<span class="mxinfo " id="T1:U201">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,97" id="srcline97"> 97</a></span><span class="line">    <span class="mxinfo " id="T1:U202"><span class="var type1" id="S38T1U289">acc_ob_x</span> = <span class="mxinfo " id="T1:U204"><span class="var type1" id="S33T4U291">acc_ob</span>(<span class="mxinfo " id="T1:U206">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,98" id="srcline98"> 98</a></span><span class="line">    <span class="mxinfo " id="T1:U207"><span class="var type1" id="S39T1U295">acc_ob_y</span> = <span class="mxinfo " id="T1:U209"><span class="var type1" id="S33T4U297">acc_ob</span>(<span class="mxinfo " id="T1:U211">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,99" id="srcline99"> 99</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,100" id="srcline100">100</a></span><span class="line">    <span class="mxinfo " id="T4:U212"><span class="var type1" id="S40T4U301">v_vehicle</span> = <span class="mxinfo " id="T4:U214">[<span class="mxinfo " id="T1:U215"><span class="mxinfo " id="T1:U216"><span class="var type1" id="S6T1U306">xp_dot</span>*<span class="mxinfo " id="T1:U218">cos(<span class="var type1" id="S9T1U309">epsi</span>)</span></span>-<span class="mxinfo " id="T1:U220"><span class="var type1" id="S7T1U311">yp_dot</span>*<span class="mxinfo " id="T1:U222">sin(<span class="var type1" id="S9T1U314">epsi</span>)</span></span></span>; <span class="mxinfo " id="T1:U224"><span class="mxinfo " id="T1:U225"><span class="var type1" id="S7T1U318">yp_dot</span>*<span class="mxinfo " id="T1:U227">cos(<span class="var type1" id="S9T1U321">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U229"><span class="var type1" id="S6T1U323">xp_dot</span>*<span class="mxinfo " id="T1:U231">sin(<span class="var type1" id="S9T1U326">epsi</span>)</span></span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,101" id="srcline101">101</a></span><span class="line">    <span class="mxinfo " id="T4:U233"><span class="var type1" id="S43T4U329">rel_pos</span> = <span class="mxinfo " id="T4:U235"><span class="mxinfo " id="T4:U236">[<span class="var type1" id="S2T1U333">s</span>; <span class="var type1" id="S10T1U335">ey</span>]</span> - <span class="var type1" id="S31T4U336">pos_ob</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,102" id="srcline102">102</a></span><span class="line">    <span class="mxinfo " id="T4:U240"><span class="var type1" id="S44T4U339">rel_vel</span> = <span class="mxinfo " id="T4:U242"><span class="var type1" id="S40T4U341">v_vehicle</span> - <span class="mxinfo " id="T4:U244">[<span class="var type1" id="S36T1U344">vel_ob_x</span>; <span class="var type1" id="S37T1U346">vel_ob_y</span>]</span></span></span>; <span class="comment">%assume epsi is small, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,103" id="srcline103">103</a></span><span class="line">    <span class="mxinfo " id="T1:U247"><span class="mxinfo " id="T1:U248"><span class="var type1" id="S29T7U350">dis_2_vehicle</span>(<span class="var type1" id="S30T1U351">i_ob</span>)</span> = <span class="mxinfo " id="T1:U251"><span class="mxinfo " id="T1:U252">-<span class="mxinfo " id="T1:U253"><span class="mxinfo " id="T1:U254">norm(<span class="var type1" id="S43T4U357">rel_pos</span>)</span>^2</span></span>/(<span class="mxinfo " id="T1:U256"><span class="mxinfo " id="T10:U257"><span class="var type1" id="S43T4U362">rel_pos</span>'</span>*<span class="var type1" id="S44T4U363">rel_vel</span></span>)</span></span>;  <span class="comment">%distance from the vehicle</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,104" id="srcline104">104</a></span><span class="line">    <span class="mxinfo " id="T1:U260"><span class="mxinfo " id="T1:U261"><span class="var type1" id="S29T7U367">dis_2_vehicle</span>(<span class="var type1" id="S30T1U368">i_ob</span>)</span> = <span class="mxinfo " id="T1:U264">norm(<span class="var type1" id="S43T4U371">rel_pos</span>)</span></span> ;  <span class="comment">%distance from the vehicle</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,105" id="srcline105">105</a></span><span class="line"><span class="keyword">end</span> </span></span>
<span class="srcline"><span class="lineno"><a href="1,106" id="srcline106">106</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,107" id="srcline107">107</a></span><span class="line"><span class="comment">%order the obstacles, from nearest to farest, considering the velocity: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,108" id="srcline108">108</a></span><span class="line">[<span class="var type1" id="S46T7U375">dis</span>, <span class="var type1" id="S47T7U376">i_dis</span>] =sort(<span class="var type1" id="S29T7U379">dis_2_vehicle</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,109" id="srcline109">109</a></span><span class="line"><span class="mxinfo " id="T6:U269"><span class="var type1" id="S21T6U382">pos_ob_array</span> = <span class="mxinfo " id="T6:U271"><span class="var type1" id="S21T6U384">pos_ob_array</span>(<span class="mxinfo " id="T9:U273">:</span>, <span class="var type1" id="S47T7U386">i_dis</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,110" id="srcline110">110</a></span><span class="line"><span class="mxinfo " id="T6:U275"><span class="var type1" id="S22T6U389">vel_ob_array</span> = <span class="mxinfo " id="T6:U277"><span class="var type1" id="S22T6U391">vel_ob_array</span>(<span class="mxinfo " id="T9:U279">:</span>, <span class="var type1" id="S47T7U393">i_dis</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,111" id="srcline111">111</a></span><span class="line"><span class="mxinfo " id="T7:U281"><span class="var type1" id="S23T7U396">radius_array</span> = <span class="mxinfo " id="T7:U283"><span class="var type1" id="S23T7U398">radius_array</span>( <span class="var type1" id="S47T7U399">i_dis</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,112" id="srcline112">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,113" id="srcline113">113</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,114" id="srcline114">114</a></span><span class="line"><span class="keyword">if</span> (<span class="mxinfo " id="T8:U286"><span class="var type1" id="S26T1U404">no_ob_active</span> &gt;=<span class="mxinfo " id="T1:U288">2</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,115" id="srcline115">115</a></span><span class="line">    <span class="comment">%if the x-coordinates of the first two obstacles are the same, then</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,116" id="srcline116">116</a></span><span class="line">    <span class="comment">%modified the second obstacles a little, see the comments previously </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,117" id="srcline117">117</a></span><span class="line">    <span class="keyword">if</span>(<span class="mxinfo " id="T8:U289"><span class="mxinfo " id="T1:U290"><span class="var type1" id="S21T6U411">pos_ob_array</span>(<span class="mxinfo " id="T5:U292">1</span>,<span class="mxinfo " id="T1:U293">1</span>)</span> == <span class="mxinfo " id="T1:U294"><span class="var type1" id="S21T6U415">pos_ob_array</span>(<span class="mxinfo " id="T1:U296">1</span>,<span class="mxinfo " id="T1:U297">2</span>)</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,118" id="srcline118">118</a></span><span class="line">       <span class="keyword">if</span>(<span class="mxinfo " id="T8:U298"><span class="mxinfo " id="T1:U299">abs(<span class="mxinfo " id="T1:U300"><span class="var type1" id="S21T6U425">pos_ob_array</span>(<span class="mxinfo " id="T5:U302">2</span>,<span class="mxinfo " id="T1:U303">1</span>)</span>)</span> &gt;= <span class="mxinfo " id="T1:U304">abs(<span class="mxinfo " id="T1:U305"><span class="var type1" id="S21T6U431">pos_ob_array</span>(<span class="mxinfo " id="T5:U307">2</span>,<span class="mxinfo " id="T1:U308">2</span>)</span>)</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,119" id="srcline119">119</a></span><span class="line">            <span class="mxinfo " id="T1:U309"><span class="mxinfo " id="T1:U310"><span class="var type1" id="S21T6U437">pos_ob_array</span>(<span class="mxinfo " id="T1:U312">1</span>,<span class="mxinfo " id="T1:U313">2</span>)</span> = <span class="mxinfo " id="T1:U314"><span class="mxinfo " id="T1:U315"><span class="var type1" id="S21T6U442">pos_ob_array</span>(<span class="mxinfo " id="T1:U317">1</span>,<span class="mxinfo " id="T1:U318">2</span>)</span> - <span class="mxinfo " id="T1:U319">0.01</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,120" id="srcline120">120</a></span><span class="line">       <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,121" id="srcline121">121</a></span><span class="line">           <span class="mxinfo " id="T1:U320"><span class="mxinfo " id="T1:U321"><span class="var type1" id="S21T6U450">pos_ob_array</span>(<span class="mxinfo " id="T1:U323">1</span>,<span class="mxinfo " id="T1:U324">2</span>)</span> = <span class="mxinfo " id="T1:U325"><span class="mxinfo " id="T1:U326"><span class="var type1" id="S21T6U455">pos_ob_array</span>(<span class="mxinfo " id="T1:U328">1</span>,<span class="mxinfo " id="T1:U329">2</span>)</span> + <span class="mxinfo " id="T1:U330">0.01</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,122" id="srcline122">122</a></span><span class="line">       <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,123" id="srcline123">123</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,124" id="srcline124">124</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,125" id="srcline125">125</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,126" id="srcline126">126</a></span><span class="line"><span class="mxinfo " id="T1:U331"><span class="var type1" id="S13T1U461">dead</span> = <span class="mxinfo " id="T1:U333">0</span></span>; <span class="comment">%unlock </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,127" id="srcline127">127</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,128" id="srcline128">128</a></span><span class="line"><span class="comment">%On 20180815, I found a mistake in the dynamics</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,129" id="srcline129">129</a></span><span class="line"><span class="comment">%%  for the road side constraints: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,130" id="srcline130">130</a></span><span class="line"><span class="mxinfo " id="T1:U334"><span class="var type1" id="S49T1U465">ck</span> = <span class="mxinfo " id="T1:U336">1</span></span>;  <span class="comment">%for relax cbf </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,131" id="srcline131">131</a></span><span class="line"><span class="mxinfo " id="T1:U337"><span class="var type1" id="S50T1U469">ey_pos</span> = <span class="mxinfo " id="T1:U339">3.2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,132" id="srcline132">132</a></span><span class="line"><span class="mxinfo " id="T1:U340"><span class="var type1" id="S51T1U473">ey_neg</span> = <span class="mxinfo " id="T1:U342">-<span class="mxinfo " id="T1:U343">3.2</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,133" id="srcline133">133</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,134" id="srcline134">134</a></span><span class="line"><span class="comment">% ey_pos = 4.2;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,135" id="srcline135">135</a></span><span class="line"><span class="comment">% ey_neg = -4.2; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,136" id="srcline136">136</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,137" id="srcline137">137</a></span><span class="line"><span class="mxinfo " id="T1:U344"><span class="var type1" id="S52T1U478">a_m</span> = <span class="mxinfo " id="T1:U346">4</span></span>;  <span class="comment">%maximum acc </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,138" id="srcline138">138</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,139" id="srcline139">139</a></span><span class="line"><span class="comment">%constants: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,140" id="srcline140">140</a></span><span class="line"><span class="mxinfo " id="T1:U347"><span class="var type1" id="S53T1U482">a</span> = <span class="mxinfo " id="T1:U349">1.41</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,141" id="srcline141">141</a></span><span class="line"><span class="mxinfo " id="T1:U350"><span class="var type1" id="S54T1U486">b</span> = <span class="mxinfo " id="T1:U352">1.576</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,142" id="srcline142">142</a></span><span class="line"><span class="mxinfo " id="T1:U353"><span class="var type1" id="S55T1U490">mu</span> =<span class="mxinfo " id="T1:U355">0.5</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,143" id="srcline143">143</a></span><span class="line"><span class="mxinfo " id="T1:U356"><span class="var type1" id="S56T1U494">Fzf</span> = <span class="mxinfo " id="T1:U358"><span class="mxinfo " id="T1:U359">21940</span>/<span class="mxinfo " id="T1:U360">2</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,144" id="srcline144">144</a></span><span class="line"><span class="mxinfo " id="T1:U361"><span class="var type1" id="S57T1U500">Fzr</span> = <span class="mxinfo " id="T1:U363"><span class="mxinfo " id="T1:U364">21940</span>/<span class="mxinfo " id="T1:U365">2</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,145" id="srcline145">145</a></span><span class="line"><span class="mxinfo " id="T1:U366"><span class="var type1" id="S58T1U506">cf</span> = <span class="mxinfo " id="T1:U368">65000</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,146" id="srcline146">146</a></span><span class="line"><span class="mxinfo " id="T1:U369"><span class="var type1" id="S59T1U510">cr</span> = <span class="mxinfo " id="T1:U371">65000</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,147" id="srcline147">147</a></span><span class="line"><span class="mxinfo " id="T1:U372"><span class="var type1" id="S60T1U514">m</span> = <span class="mxinfo " id="T1:U374">2194</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,148" id="srcline148">148</a></span><span class="line"><span class="mxinfo " id="T1:U375"><span class="var type1" id="S61T1U518">Iz</span> = <span class="mxinfo " id="T1:U377">4770</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,149" id="srcline149">149</a></span><span class="line"><span class="mxinfo " id="T1:U378"><span class="var type1" id="S62T1U522">psi_dot_com</span> = <span class="mxinfo " id="T1:U380">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,150" id="srcline150">150</a></span><span class="line"><span class="mxinfo " id="T1:U381"><span class="var type1" id="S63T1U526">p</span> =<span class="mxinfo " id="T1:U383"><span class="var type1" id="S61T1U528">Iz</span>/(<span class="mxinfo " id="T1:U385"><span class="var type1" id="S60T1U531">m</span>*<span class="var type1" id="S54T1U532">b</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,151" id="srcline151">151</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,152" id="srcline152">152</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,153" id="srcline153">153</a></span><span class="line"><span class="comment">%constants: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,154" id="srcline154">154</a></span><span class="line">      <span class="mxinfo " id="T1:U388"><span class="var type1" id="S49T1U535">ck</span> = <span class="mxinfo " id="T1:U390">1.0</span></span>; <span class="mxinfo " id="T1:U391"><span class="var type1" id="S50T1U539">ey_pos</span> = <span class="mxinfo " id="T1:U393">3.2</span></span>; <span class="mxinfo " id="T1:U394"><span class="var type1" id="S51T1U543">ey_neg</span> = <span class="mxinfo " id="T1:U396">-<span class="mxinfo " id="T1:U397">3.2</span></span></span>; <span class="mxinfo " id="T1:U398"><span class="var type1" id="S52T1U548">a_m</span> = <span class="mxinfo " id="T1:U400">4.0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,155" id="srcline155">155</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,156" id="srcline156">156</a></span><span class="line">		      <span class="mxinfo " id="T1:U401"><span class="var type1" id="S53T1U552">a</span> = <span class="mxinfo " id="T1:U403">1.68</span></span>; <span class="mxinfo " id="T1:U404"><span class="var type1" id="S54T1U556">b</span> = <span class="mxinfo " id="T1:U406">1.715</span></span>; <span class="mxinfo " id="T1:U407"><span class="var type1" id="S55T1U560">mu</span> = <span class="mxinfo " id="T1:U409">3.4812e+05</span></span>; <span class="mxinfo " id="T1:U410"><span class="var type1" id="S56T1U564">Fzf</span> = <span class="mxinfo " id="T1:U412"><span class="mxinfo " id="T1:U413">21940.0</span>/<span class="mxinfo " id="T1:U414">2</span></span></span>; <span class="mxinfo " id="T1:U415"><span class="var type1" id="S57T1U570">Fzr</span> = <span class="mxinfo " id="T1:U417"><span class="mxinfo " id="T1:U418">21940.0</span>/<span class="mxinfo " id="T1:U419">2</span></span></span>;     </span></span>
<span class="srcline"><span class="lineno"><a href="1,157" id="srcline157">157</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,158" id="srcline158">158</a></span><span class="line">		      <span class="mxinfo " id="T1:U420"><span class="var type1" id="S58T1U576">cf</span> = <span class="mxinfo " id="T1:U422">3.4812e+05</span></span>; <span class="mxinfo " id="T1:U423"><span class="var type1" id="S59T1U580">cr</span> = <span class="mxinfo " id="T1:U425">3.5537e+05</span></span>; <span class="mxinfo " id="T1:U426"><span class="var type1" id="S60T1U584">m</span> = <span class="mxinfo " id="T1:U428">9840.0</span></span>; <span class="mxinfo " id="T1:U429"><span class="var type1" id="S61T1U588">Iz</span> = <span class="mxinfo " id="T1:U431">41340.0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,159" id="srcline159">159</a></span><span class="line">      <span class="mxinfo " id="T1:U432"><span class="var type1" id="S62T1U592">psi_dot_com</span> = <span class="mxinfo " id="T1:U434">0.0</span></span>;  <span class="mxinfo " id="T1:U435"><span class="var type1" id="S63T1U596">p</span> = <span class="mxinfo " id="T1:U437"><span class="var type1" id="S61T1U598">Iz</span> / (<span class="mxinfo " id="T1:U439"><span class="var type1" id="S60T1U601">m</span> * <span class="var type1" id="S54T1U602">b</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,160" id="srcline160">160</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,161" id="srcline161">161</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,162" id="srcline162">162</a></span><span class="line"><span class="mxinfo " id="T1:U442"><span class="var type1" id="S64T1U605">h_sid_pos</span> = <span class="mxinfo " id="T1:U444"><span class="mxinfo " id="T1:U445"><span class="var type1" id="S50T1U608">ey_pos</span> - <span class="var type1" id="S10T1U609">ey</span></span> - <span class="mxinfo " id="T1:U448"><span class="mxinfo " id="T1:U449">(<span class="mxinfo " id="T1:U450"><span class="mxinfo " id="T1:U451"><span class="var type1" id="S7T1U615">yp_dot</span>*<span class="mxinfo " id="T1:U453">cos(<span class="var type1" id="S9T1U618">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U455"><span class="var type1" id="S6T1U620">xp_dot</span>*<span class="mxinfo " id="T1:U457">sin(<span class="var type1" id="S9T1U623">epsi</span>)</span></span></span>)^2</span>/(<span class="mxinfo " id="T1:U459">2*<span class="var type1" id="S52T1U628">a_m</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,163" id="srcline163">163</a></span><span class="line"><span class="comment">% L_f_h_sid_pos = ((yp_dot*cos(epsi) + xp_dot*sin(epsi))*(2*cf*yp_dot*cos(epsi) + 2*cr*yp_dot*cos(epsi) - a_m*m*xp_dot + 2*a*cf*psi_dot*cos(epsi) - 2*b*cr*psi_dot*cos(epsi) + m*psi_dot_com*xp_dot^2*cos(epsi) - m*psi_dot_com*xp_dot*yp_dot*sin(epsi)))/(a_m*m*xp_dot); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,164" id="srcline164">164</a></span><span class="line"><span class="comment">% L_g_h_sid_pos = [ -(2*cf*cos(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/(a_m*m), -(sin(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/a_m];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,165" id="srcline165">165</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,166" id="srcline166">166</a></span><span class="line"><span class="mxinfo " id="T1:U461"><span class="var type1" id="S65T1U631">L_f_h_sid_pos</span> = <span class="mxinfo " id="T1:U463">(<span class="mxinfo " id="T1:U464">(<span class="mxinfo " id="T1:U465"><span class="mxinfo " id="T1:U466"><span class="var type1" id="S7T1U638">yp_dot</span>*<span class="mxinfo " id="T1:U468">cos(<span class="var type1" id="S9T1U641">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U470"><span class="var type1" id="S6T1U643">xp_dot</span>*<span class="mxinfo " id="T1:U472">sin(<span class="var type1" id="S9T1U646">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U474"><span class="mxinfo " id="T1:U475"><span class="mxinfo " id="T1:U476"><span class="mxinfo " id="T1:U477"><span class="mxinfo " id="T1:U478"><span class="mxinfo " id="T1:U479"><span class="mxinfo " id="T1:U480"><span class="mxinfo " id="T1:U481"><span class="mxinfo " id="T1:U482"><span class="mxinfo " id="T1:U483">2</span>*<span class="var type1" id="S58T1U658">cf</span></span>*<span class="var type1" id="S7T1U659">yp_dot</span></span>*<span class="mxinfo " id="T1:U486">cos(<span class="var type1" id="S9T1U662">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U488"><span class="mxinfo " id="T1:U489"><span class="mxinfo " id="T1:U490"><span class="mxinfo " id="T1:U491">2</span>*<span class="var type1" id="S59T1U667">cr</span></span>*<span class="var type1" id="S7T1U668">yp_dot</span></span>*<span class="mxinfo " id="T1:U494">cos(<span class="var type1" id="S9T1U671">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U496"><span class="mxinfo " id="T1:U497"><span class="var type1" id="S52T1U674">a_m</span>*<span class="var type1" id="S60T1U675">m</span></span>*<span class="var type1" id="S6T1U676">xp_dot</span></span></span> + <span class="mxinfo " id="T1:U501"><span class="mxinfo " id="T1:U502"><span class="mxinfo " id="T1:U503"><span class="mxinfo " id="T1:U504"><span class="mxinfo " id="T1:U505">2</span>*<span class="var type1" id="S53T1U682">a</span></span>*<span class="var type1" id="S58T1U683">cf</span></span>*<span class="var type1" id="S8T1U684">psi_dot</span></span>*<span class="mxinfo " id="T1:U509">cos(<span class="var type1" id="S9T1U687">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U511"><span class="mxinfo " id="T1:U512"><span class="mxinfo " id="T1:U513"><span class="mxinfo " id="T1:U514"><span class="mxinfo " id="T1:U515">2</span>*<span class="var type1" id="S54T1U693">b</span></span>*<span class="var type1" id="S59T1U694">cr</span></span>*<span class="var type1" id="S8T1U695">psi_dot</span></span>*<span class="mxinfo " id="T1:U519">cos(<span class="var type1" id="S9T1U698">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U521"><span class="mxinfo " id="T1:U522"><span class="mxinfo " id="T1:U523"><span class="var type1" id="S60T1U702">m</span>*<span class="var type1" id="S62T1U703">psi_dot_com</span></span>*<span class="mxinfo " id="T1:U526"><span class="var type1" id="S6T1U705">xp_dot</span>^2</span></span>*<span class="mxinfo " id="T1:U528">cos(<span class="var type1" id="S9T1U709">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U530"><span class="mxinfo " id="T1:U531"><span class="mxinfo " id="T1:U532"><span class="mxinfo " id="T1:U533"><span class="var type1" id="S60T1U714">m</span>*<span class="var type1" id="S62T1U715">psi_dot_com</span></span>*<span class="var type1" id="S6T1U716">xp_dot</span></span>*<span class="var type1" id="S7T1U717">yp_dot</span></span>*<span class="mxinfo " id="T1:U538">sin(<span class="var type1" id="S9T1U720">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U540"><span class="mxinfo " id="T1:U541"><span class="var type1" id="S52T1U724">a_m</span>*<span class="var type1" id="S60T1U725">m</span></span>*<span class="var type1" id="S6T1U726">xp_dot</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,167" id="srcline167">167</a></span><span class="line"><span class="mxinfo " id="T10:U545"><span class="var type1" id="S66T10U729">L_g_h_sid_pos</span> = <span class="mxinfo " id="T10:U547">[ <span class="mxinfo " id="T1:U548"><span class="mxinfo " id="T1:U549">-(<span class="mxinfo " id="T1:U550"><span class="mxinfo " id="T1:U551"><span class="mxinfo " id="T1:U552"><span class="mxinfo " id="T1:U553">2</span>*<span class="var type1" id="S58T1U739">cf</span></span>*<span class="mxinfo " id="T1:U555">cos(<span class="var type1" id="S9T1U742">epsi</span>)</span></span>*(<span class="mxinfo " id="T1:U557"><span class="mxinfo " id="T1:U558"><span class="var type1" id="S7T1U746">yp_dot</span>*<span class="mxinfo " id="T1:U560">cos(<span class="var type1" id="S9T1U749">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U562"><span class="var type1" id="S6T1U751">xp_dot</span>*<span class="mxinfo " id="T1:U564">sin(<span class="var type1" id="S9T1U754">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U566"><span class="var type1" id="S52T1U757">a_m</span>*<span class="var type1" id="S60T1U758">m</span></span>)</span>, <span class="mxinfo " id="T1:U569"><span class="mxinfo " id="T1:U570">-(<span class="mxinfo " id="T1:U571"><span class="mxinfo " id="T1:U572">sin(<span class="var type1" id="S9T1U765">epsi</span>)</span>*(<span class="mxinfo " id="T1:U574"><span class="mxinfo " id="T1:U575"><span class="var type1" id="S7T1U769">yp_dot</span>*<span class="mxinfo " id="T1:U577">cos(<span class="var type1" id="S9T1U772">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U579"><span class="var type1" id="S6T1U774">xp_dot</span>*<span class="mxinfo " id="T1:U581">sin(<span class="var type1" id="S9T1U777">epsi</span>)</span></span></span>)</span>)</span>/<span class="var type1" id="S52T1U778">a_m</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,168" id="srcline168">168</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,169" id="srcline169">169</a></span><span class="line"><span class="mxinfo " id="T1:U584"><span class="var type1" id="S67T1U781">h_sid_neg</span> = <span class="mxinfo " id="T1:U586"><span class="mxinfo " id="T1:U587"><span class="var type1" id="S10T1U784">ey</span> - <span class="var type1" id="S51T1U785">ey_neg</span></span> - <span class="mxinfo " id="T1:U590"><span class="mxinfo " id="T1:U591">(<span class="mxinfo " id="T1:U592"><span class="mxinfo " id="T1:U593"><span class="var type1" id="S7T1U791">yp_dot</span>*<span class="mxinfo " id="T1:U595">cos(<span class="var type1" id="S9T1U794">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U597"><span class="var type1" id="S6T1U796">xp_dot</span>*<span class="mxinfo " id="T1:U599">sin(<span class="var type1" id="S9T1U799">epsi</span>)</span></span></span>)^2</span>/(<span class="mxinfo " id="T1:U601">2*<span class="var type1" id="S52T1U804">a_m</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,170" id="srcline170">170</a></span><span class="line"><span class="comment">% L_f_h_sid_neg = ((yp_dot*cos(epsi) + xp_dot*sin(epsi))*(2*cf*yp_dot*cos(epsi) + 2*cr*yp_dot*cos(epsi) + a_m*m*xp_dot + 2*a*cf*psi_dot*cos(epsi) - 2*b*cr*psi_dot*cos(epsi) + m*psi_dot_com*xp_dot^2*cos(epsi) - m*psi_dot_com*xp_dot*yp_dot*sin(epsi)))/(a_m*m*xp_dot);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,171" id="srcline171">171</a></span><span class="line"><span class="comment">% L_g_h_sid_neg = [ -(2*cf*cos(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/(a_m*m), -(sin(epsi)*(yp_dot*cos(epsi) + xp_dot*sin(epsi)))/a_m];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,172" id="srcline172">172</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,173" id="srcline173">173</a></span><span class="line"><span class="mxinfo " id="T1:U603"><span class="var type1" id="S68T1U807">L_f_h_sid_neg</span> = <span class="mxinfo " id="T1:U605">(<span class="mxinfo " id="T1:U606">(<span class="mxinfo " id="T1:U607"><span class="mxinfo " id="T1:U608"><span class="var type1" id="S7T1U814">yp_dot</span>*<span class="mxinfo " id="T1:U610">cos(<span class="var type1" id="S9T1U817">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U612"><span class="var type1" id="S6T1U819">xp_dot</span>*<span class="mxinfo " id="T1:U614">sin(<span class="var type1" id="S9T1U822">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U616"><span class="mxinfo " id="T1:U617"><span class="mxinfo " id="T1:U618"><span class="mxinfo " id="T1:U619"><span class="mxinfo " id="T1:U620"><span class="mxinfo " id="T1:U621"><span class="mxinfo " id="T1:U622"><span class="mxinfo " id="T1:U623"><span class="mxinfo " id="T1:U624"><span class="mxinfo " id="T1:U625">2</span>*<span class="var type1" id="S58T1U834">cf</span></span>*<span class="var type1" id="S7T1U835">yp_dot</span></span>*<span class="mxinfo " id="T1:U628">cos(<span class="var type1" id="S9T1U838">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U630"><span class="mxinfo " id="T1:U631"><span class="mxinfo " id="T1:U632"><span class="mxinfo " id="T1:U633">2</span>*<span class="var type1" id="S59T1U843">cr</span></span>*<span class="var type1" id="S7T1U844">yp_dot</span></span>*<span class="mxinfo " id="T1:U636">cos(<span class="var type1" id="S9T1U847">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U638"><span class="mxinfo " id="T1:U639"><span class="var type1" id="S52T1U850">a_m</span>*<span class="var type1" id="S60T1U851">m</span></span>*<span class="var type1" id="S6T1U852">xp_dot</span></span></span> + <span class="mxinfo " id="T1:U643"><span class="mxinfo " id="T1:U644"><span class="mxinfo " id="T1:U645"><span class="mxinfo " id="T1:U646"><span class="mxinfo " id="T1:U647">2</span>*<span class="var type1" id="S53T1U858">a</span></span>*<span class="var type1" id="S58T1U859">cf</span></span>*<span class="var type1" id="S8T1U860">psi_dot</span></span>*<span class="mxinfo " id="T1:U651">cos(<span class="var type1" id="S9T1U863">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U653"><span class="mxinfo " id="T1:U654"><span class="mxinfo " id="T1:U655"><span class="mxinfo " id="T1:U656"><span class="mxinfo " id="T1:U657">2</span>*<span class="var type1" id="S54T1U869">b</span></span>*<span class="var type1" id="S59T1U870">cr</span></span>*<span class="var type1" id="S8T1U871">psi_dot</span></span>*<span class="mxinfo " id="T1:U661">cos(<span class="var type1" id="S9T1U874">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U663"><span class="mxinfo " id="T1:U664"><span class="mxinfo " id="T1:U665"><span class="var type1" id="S60T1U878">m</span>*<span class="var type1" id="S62T1U879">psi_dot_com</span></span>*<span class="mxinfo " id="T1:U668"><span class="var type1" id="S6T1U881">xp_dot</span>^2</span></span>*<span class="mxinfo " id="T1:U670">cos(<span class="var type1" id="S9T1U885">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U672"><span class="mxinfo " id="T1:U673"><span class="mxinfo " id="T1:U674"><span class="mxinfo " id="T1:U675"><span class="var type1" id="S60T1U890">m</span>*<span class="var type1" id="S62T1U891">psi_dot_com</span></span>*<span class="var type1" id="S6T1U892">xp_dot</span></span>*<span class="var type1" id="S7T1U893">yp_dot</span></span>*<span class="mxinfo " id="T1:U680">sin(<span class="var type1" id="S9T1U896">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U682"><span class="mxinfo " id="T1:U683"><span class="var type1" id="S52T1U900">a_m</span>*<span class="var type1" id="S60T1U901">m</span></span>*<span class="var type1" id="S6T1U902">xp_dot</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,174" id="srcline174">174</a></span><span class="line"><span class="mxinfo " id="T10:U687"><span class="var type1" id="S69T10U905">L_g_h_sid_neg</span> = <span class="mxinfo " id="T10:U689">[ <span class="mxinfo " id="T1:U690"><span class="mxinfo " id="T1:U691">-(<span class="mxinfo " id="T1:U692"><span class="mxinfo " id="T1:U693"><span class="mxinfo " id="T1:U694"><span class="mxinfo " id="T1:U695">2</span>*<span class="var type1" id="S58T1U915">cf</span></span>*<span class="mxinfo " id="T1:U697">cos(<span class="var type1" id="S9T1U918">epsi</span>)</span></span>*(<span class="mxinfo " id="T1:U699"><span class="mxinfo " id="T1:U700"><span class="var type1" id="S7T1U922">yp_dot</span>*<span class="mxinfo " id="T1:U702">cos(<span class="var type1" id="S9T1U925">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U704"><span class="var type1" id="S6T1U927">xp_dot</span>*<span class="mxinfo " id="T1:U706">sin(<span class="var type1" id="S9T1U930">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U708"><span class="var type1" id="S52T1U933">a_m</span>*<span class="var type1" id="S60T1U934">m</span></span>)</span>, <span class="mxinfo " id="T1:U711"><span class="mxinfo " id="T1:U712">-(<span class="mxinfo " id="T1:U713"><span class="mxinfo " id="T1:U714">sin(<span class="var type1" id="S9T1U941">epsi</span>)</span>*(<span class="mxinfo " id="T1:U716"><span class="mxinfo " id="T1:U717"><span class="var type1" id="S7T1U945">yp_dot</span>*<span class="mxinfo " id="T1:U719">cos(<span class="var type1" id="S9T1U948">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U721"><span class="var type1" id="S6T1U950">xp_dot</span>*<span class="mxinfo " id="T1:U723">sin(<span class="var type1" id="S9T1U953">epsi</span>)</span></span></span>)</span>)</span>/<span class="var type1" id="S52T1U954">a_m</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,175" id="srcline175">175</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,176" id="srcline176">176</a></span><span class="line"><span class="mxinfo " id="T10:U726"><span class="var type1" id="S70T10U957">A_n_side_pos</span> =  <span class="mxinfo " id="T10:U728">-<span class="var type1" id="S66T10U959">L_g_h_sid_pos</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,177" id="srcline177">177</a></span><span class="line"><span class="mxinfo " id="T1:U730"><span class="var type1" id="S71T1U962">b_n_side_pos</span> = <span class="mxinfo " id="T1:U732"><span class="var type1" id="S65T1U964">L_f_h_sid_pos</span> + <span class="mxinfo " id="T1:U734"><span class="mxinfo " id="T1:U735">0.5</span>*<span class="var type1" id="S64T1U967">h_sid_pos</span></span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,178" id="srcline178">178</a></span><span class="line"><span class="mxinfo " id="T10:U737"><span class="var type1" id="S72T10U970">A_n_side_neg</span>=  <span class="mxinfo " id="T10:U739">[-<span class="var type1" id="S69T10U974">L_g_h_sid_neg</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,179" id="srcline179">179</a></span><span class="line"><span class="mxinfo " id="T1:U741"><span class="var type1" id="S73T1U977">b_n_side_neg</span> = <span class="mxinfo " id="T1:U743"><span class="var type1" id="S68T1U979">L_f_h_sid_neg</span> + <span class="mxinfo " id="T1:U745"><span class="mxinfo " id="T1:U746">0.5</span>*<span class="var type1" id="S67T1U982">h_sid_neg</span></span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,180" id="srcline180">180</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,181" id="srcline181">181</a></span><span class="line"><span class="keyword">if</span>(<span class="mxinfo " id="T8:U748"><span class="var type1" id="S64T1U988">h_sid_pos</span>&gt;<span class="mxinfo " id="T1:U750">0</span></span>) &amp;&amp; (<span class="mxinfo " id="T8:U751">(<span class="mxinfo " id="T1:U752"><span class="mxinfo " id="T1:U753"><span class="var type1" id="S7T1U995">yp_dot</span>*<span class="mxinfo " id="T1:U755">cos(<span class="var type1" id="S9T1U998">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U757"><span class="var type1" id="S6T1U1000">xp_dot</span>*<span class="mxinfo " id="T1:U759">sin(<span class="var type1" id="S9T1U1003">epsi</span>)</span></span></span>)&lt;<span class="mxinfo " id="T1:U761">0</span></span>) <span class="comment">%if y-velocity is negative, do not need to constraint </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,182" id="srcline182">182</a></span><span class="line">    <span class="mxinfo " id="T10:U762"><span class="var type1" id="S70T10U1007">A_n_side_pos</span> =  <span class="mxinfo " id="T10:U764">[<span class="mxinfo " id="T1:U765">0</span>, <span class="mxinfo " id="T1:U766">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,183" id="srcline183">183</a></span><span class="line">    <span class="mxinfo " id="T1:U767"><span class="var type1" id="S71T1U1014">b_n_side_pos</span> = <span class="mxinfo " id="T1:U769">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,184" id="srcline184">184</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,185" id="srcline185">185</a></span><span class="line"><span class="keyword">if</span>(<span class="mxinfo " id="T8:U770"><span class="var type1" id="S67T1U1021">h_sid_neg</span>&gt;<span class="mxinfo " id="T1:U772">0</span></span>) &amp;&amp; (<span class="mxinfo " id="T8:U773">(<span class="mxinfo " id="T1:U774"><span class="mxinfo " id="T1:U775"><span class="var type1" id="S7T1U1028">yp_dot</span>*<span class="mxinfo " id="T1:U777">cos(<span class="var type1" id="S9T1U1031">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U779"><span class="var type1" id="S6T1U1033">xp_dot</span>*<span class="mxinfo " id="T1:U781">sin(<span class="var type1" id="S9T1U1036">epsi</span>)</span></span></span>)&gt;<span class="mxinfo " id="T1:U783">0</span></span>) <span class="comment">%if y-velocity is positive, do not need to constraint </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,186" id="srcline186">186</a></span><span class="line">    <span class="mxinfo " id="T10:U784"><span class="var type1" id="S72T10U1040">A_n_side_neg</span> =  <span class="mxinfo " id="T10:U786">[<span class="mxinfo " id="T1:U787">0</span>, <span class="mxinfo " id="T1:U788">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,187" id="srcline187">187</a></span><span class="line">    <span class="mxinfo " id="T1:U789"><span class="var type1" id="S73T1U1047">b_n_side_neg</span> = <span class="mxinfo " id="T1:U791">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,188" id="srcline188">188</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,189" id="srcline189">189</a></span><span class="line"><span class="keyword">if</span> (<span class="mxinfo " id="T8:U792"><span class="var type1" id="S10T1U1054">ey</span> &gt;= <span class="mxinfo " id="T1:U794">3.7</span></span>) || (<span class="mxinfo " id="T8:U795"><span class="var type1" id="S10T1U1058">ey</span>  &lt;= <span class="mxinfo " id="T1:U797">-<span class="mxinfo " id="T1:U798">3.7</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,190" id="srcline190">190</a></span><span class="line">    <span class="mxinfo " id="T1:U799"><span class="var type1" id="S13T1U1063">dead</span> = <span class="mxinfo " id="T1:U801">1</span></span>;  <span class="comment">%kill all </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,191" id="srcline191">191</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,192" id="srcline192">192</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,193" id="srcline193">193</a></span><span class="line"><span class="comment">% if (h_sid_neg &lt;=0) || (h_sid_pos  &lt;= 0)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,194" id="srcline194">194</a></span><span class="line"><span class="comment">%     dead = 1;  %kill all </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,195" id="srcline195">195</a></span><span class="line"><span class="comment">% end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,196" id="srcline196">196</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,197" id="srcline197">197</a></span><span class="line"><span class="comment">% tuning: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,198" id="srcline198">198</a></span><span class="line"><span class="comment">% A_n_side_pos = [0,  0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,199" id="srcline199">199</a></span><span class="line"><span class="comment">% b_n_side_pos = 1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,200" id="srcline200">200</a></span><span class="line"><span class="comment">% A_n_side_neg=  [0, 0];</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,201" id="srcline201">201</a></span><span class="line"><span class="comment">% b_n_side_neg = 1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,202" id="srcline202">202</a></span><span class="line"><span class="comment">% dead = 0;   </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,203" id="srcline203">203</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,204" id="srcline204">204</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,205" id="srcline205">205</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,206" id="srcline206">206</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S30T1U1067">i_ob</span> =<span class="mxinfo " id="T1:U803">1</span>:<span class="var type1" id="S26T1U1070">no_ob_active</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,207" id="srcline207">207</a></span><span class="line"><span class="comment">%% states of the vehicle and each obstacle:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,208" id="srcline208">208</a></span><span class="line">    <span class="mxinfo " id="T4:U805"><span class="var type1" id="S31T4U1073">pos_ob</span> = <span class="mxinfo " id="T4:U807"><span class="var type1" id="S21T6U1075">pos_ob_array</span>(<span class="mxinfo " id="T9:U809">:</span>,<span class="var type1" id="S30T1U1077">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,209" id="srcline209">209</a></span><span class="line">    <span class="mxinfo " id="T4:U811"><span class="var type1" id="S32T4U1080">vel_ob</span> = <span class="mxinfo " id="T4:U813"><span class="var type1" id="S22T6U1082">vel_ob_array</span>(<span class="mxinfo " id="T9:U815">:</span>,<span class="var type1" id="S30T1U1084">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,210" id="srcline210">210</a></span><span class="line">    <span class="mxinfo " id="T4:U817"><span class="var type1" id="S33T4U1087">acc_ob</span> = <span class="mxinfo " id="T4:U819"><span class="var type1" id="S18T6U1089">acc_ob_array</span>(<span class="mxinfo " id="T9:U821">:</span>,<span class="var type1" id="S30T1U1091">i_ob</span>)</span></span>;  </span></span>
<span class="srcline"><span class="lineno"><a href="1,211" id="srcline211">211</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,212" id="srcline212">212</a></span><span class="line">    <span class="mxinfo " id="T1:U823"><span class="var type1" id="S34T1U1094">pos_ob_x</span> = <span class="mxinfo " id="T1:U825"><span class="var type1" id="S31T4U1096">pos_ob</span>(<span class="mxinfo " id="T5:U827">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,213" id="srcline213">213</a></span><span class="line">    <span class="mxinfo " id="T1:U828"><span class="var type1" id="S35T1U1100">pos_ob_y</span> = <span class="mxinfo " id="T1:U830"><span class="var type1" id="S31T4U1102">pos_ob</span>(<span class="mxinfo " id="T5:U832">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,214" id="srcline214">214</a></span><span class="line">    <span class="mxinfo " id="T1:U833"><span class="var type1" id="S36T1U1106">vel_ob_x</span> = <span class="mxinfo " id="T1:U835"><span class="var type1" id="S32T4U1108">vel_ob</span>(<span class="mxinfo " id="T5:U837">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,215" id="srcline215">215</a></span><span class="line">    <span class="mxinfo " id="T1:U838"><span class="var type1" id="S37T1U1112">vel_ob_y</span> = <span class="mxinfo " id="T1:U840"><span class="var type1" id="S32T4U1114">vel_ob</span>(<span class="mxinfo " id="T5:U842">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,216" id="srcline216">216</a></span><span class="line">    <span class="mxinfo " id="T1:U843"><span class="var type1" id="S38T1U1118">acc_ob_x</span> = <span class="mxinfo " id="T1:U845"><span class="var type1" id="S33T4U1120">acc_ob</span>(<span class="mxinfo " id="T1:U847">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,217" id="srcline217">217</a></span><span class="line">    <span class="mxinfo " id="T1:U848"><span class="var type1" id="S39T1U1124">acc_ob_y</span> = <span class="mxinfo " id="T1:U850"><span class="var type1" id="S33T4U1126">acc_ob</span>(<span class="mxinfo " id="T1:U852">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,218" id="srcline218">218</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,219" id="srcline219">219</a></span><span class="line">    <span class="mxinfo " id="T4:U853"><span class="var type1" id="S40T4U1130">v_vehicle</span> = <span class="mxinfo " id="T4:U855">[<span class="mxinfo " id="T1:U856"><span class="mxinfo " id="T1:U857"><span class="var type1" id="S6T1U1135">xp_dot</span>*<span class="mxinfo " id="T1:U859">cos(<span class="var type1" id="S9T1U1138">epsi</span>)</span></span>-<span class="mxinfo " id="T1:U861"><span class="var type1" id="S7T1U1140">yp_dot</span>*<span class="mxinfo " id="T1:U863">sin(<span class="var type1" id="S9T1U1143">epsi</span>)</span></span></span>; <span class="mxinfo " id="T1:U865"><span class="mxinfo " id="T1:U866"><span class="var type1" id="S7T1U1147">yp_dot</span>*<span class="mxinfo " id="T1:U868">cos(<span class="var type1" id="S9T1U1150">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U870"><span class="var type1" id="S6T1U1152">xp_dot</span>*<span class="mxinfo " id="T1:U872">sin(<span class="var type1" id="S9T1U1155">epsi</span>)</span></span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,220" id="srcline220">220</a></span><span class="line">    <span class="mxinfo " id="T4:U874"><span class="var type1" id="S43T4U1158">rel_pos</span> = <span class="mxinfo " id="T4:U876"><span class="mxinfo " id="T4:U877">[<span class="var type1" id="S2T1U1162">s</span>; <span class="var type1" id="S10T1U1164">ey</span>]</span> - <span class="var type1" id="S31T4U1165">pos_ob</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,221" id="srcline221">221</a></span><span class="line">    <span class="mxinfo " id="T4:U881"><span class="var type1" id="S44T4U1168">rel_vel</span> = <span class="mxinfo " id="T4:U883"><span class="var type1" id="S40T4U1170">v_vehicle</span> - <span class="mxinfo " id="T4:U885">[<span class="var type1" id="S36T1U1173">vel_ob_x</span>; <span class="var type1" id="S37T1U1175">vel_ob_y</span>]</span></span></span>; <span class="comment">%assume epsi is small, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,222" id="srcline222">222</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,223" id="srcline223">223</a></span><span class="line"><span class="comment">%     Ds = 1.2;  %the radius of obstacle </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,224" id="srcline224">224</a></span><span class="line">    <span class="comment">%constants: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,225" id="srcline225">225</a></span><span class="line"><span class="comment">%     a = 1.41; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,226" id="srcline226">226</a></span><span class="line"><span class="comment">%     b = 1.576; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,227" id="srcline227">227</a></span><span class="line"><span class="comment">%     mu =0.5; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,228" id="srcline228">228</a></span><span class="line"><span class="comment">%     Fzf = 21940/2; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,229" id="srcline229">229</a></span><span class="line"><span class="comment">%     Fzr = 21940/2; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,230" id="srcline230">230</a></span><span class="line"><span class="comment">%     cf = 65000; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,231" id="srcline231">231</a></span><span class="line"><span class="comment">%     cr = 65000; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,232" id="srcline232">232</a></span><span class="line"><span class="comment">%     m = 2194; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,233" id="srcline233">233</a></span><span class="line"><span class="comment">%     Iz = 4770; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,234" id="srcline234">234</a></span><span class="line"><span class="comment">%     psi_dot_com = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,235" id="srcline235">235</a></span><span class="line"><span class="comment">%     p =Iz/(m*b);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,236" id="srcline236">236</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,237" id="srcline237">237</a></span><span class="line"> <span class="comment">%% August 3th, angle constraint for obstacles, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,238" id="srcline238">238</a></span><span class="line">        <span class="comment">%constraint 1, angle constraint, test:  </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,239" id="srcline239">239</a></span><span class="line">    <span class="comment">%notice there may be virtrual number, nan, of inf, you should avoid these</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,240" id="srcline240">240</a></span><span class="line">    <span class="comment">%conditions: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,241" id="srcline241">241</a></span><span class="line"><span class="comment">%     Ds = 1.1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,242" id="srcline242">242</a></span><span class="line">    <span class="mxinfo " id="T1:U888"><span class="var type1" id="S74T1U1178">Ds</span> = <span class="mxinfo " id="T1:U890"><span class="mxinfo " id="T1:U891"><span class="var type1" id="S23T7U1181">radius_array</span>(<span class="var type1" id="S30T1U1182">i_ob</span>)</span>+<span class="mxinfo " id="T1:U894">0.5</span></span></span>; <span class="comment">%0.2</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,243" id="srcline243">243</a></span><span class="line">    <span class="mxinfo " id="T1:U895"><span class="var type1" id="S75T1U1186">norm_rel_pos</span> = <span class="mxinfo " id="T1:U897">norm(<span class="var type1" id="S43T4U1189">rel_pos</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,244" id="srcline244">244</a></span><span class="line">    <span class="mxinfo " id="T1:U899"><span class="var type1" id="S76T1U1192">cos_rel_ang</span> = <span class="mxinfo " id="T1:U901"><span class="mxinfo " id="T1:U902">(<span class="mxinfo " id="T1:U903"><span class="mxinfo " id="T10:U904">-<span class="mxinfo " id="T10:U905"><span class="var type1" id="S43T4U1199">rel_pos</span>.'</span></span>*<span class="var type1" id="S44T4U1200">rel_vel</span></span>) /<span class="var type1" id="S75T1U1201">norm_rel_pos</span></span>/<span class="mxinfo " id="T1:U909">norm(<span class="var type1" id="S44T4U1204">rel_vel</span>)</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,245" id="srcline245">245</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,246" id="srcline246">246</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo " id="T8:U911"><span class="var type1" id="S76T1U1209">cos_rel_ang</span>&gt;=<span class="mxinfo " id="T1:U913">-<span class="mxinfo " id="T1:U914">0.99</span></span></span>) </span></span>
<span class="srcline"><span class="lineno"><a href="1,247" id="srcline247">247</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T8:U915"><span class="var type1" id="S76T1U1216">cos_rel_ang</span>&gt;=<span class="mxinfo " id="T1:U917">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,248" id="srcline248">248</a></span><span class="line">            <span class="mxinfo " id="T1:U918"><span class="var type1" id="S76T1U1220">cos_rel_ang</span> = <span class="mxinfo " id="T1:U920">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,249" id="srcline249">249</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,250" id="srcline250">250</a></span><span class="line">        <span class="mxinfo " id="T1:U921"><span class="var type1" id="S77T1U1224">rel_ang</span> = <span class="mxinfo " id="T1:U923">acos(<span class="var type1" id="S76T1U1227">cos_rel_ang</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,251" id="srcline251">251</a></span><span class="line">        <span class="comment">% h_ang = rel_ang-asin(Ds/norm(rel_pos));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,252" id="srcline252">252</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,253" id="srcline253">253</a></span><span class="line">        <span class="mxinfo " id="T1:U925"><span class="var type1" id="S79T1U1230">ratio</span> = <span class="mxinfo " id="T1:U927"><span class="var type1" id="S74T1U1232">Ds</span>/<span class="var type1" id="S75T1U1233">norm_rel_pos</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,254" id="srcline254">254</a></span><span class="line">        <span class="comment">%notice if do not deal carefully, there maybe virtual number appearing. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,255" id="srcline255">255</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T8:U930"><span class="var type1" id="S79T1U1237">ratio</span>&gt;=<span class="mxinfo " id="T1:U932">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,256" id="srcline256">256</a></span><span class="line">            <span class="mxinfo " id="T1:U933"><span class="var type1" id="S79T1U1241">ratio</span> = <span class="mxinfo " id="T1:U935">0.9999999</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,257" id="srcline257">257</a></span><span class="line">            <span class="mxinfo " id="T1:U936"><span class="var type1" id="S13T1U1245">dead</span> = <span class="mxinfo " id="T1:U938">1</span></span>;  <span class="comment">%kill all </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,258" id="srcline258">258</a></span><span class="line">        <span class="keyword">end</span>    </span></span>
<span class="srcline"><span class="lineno"><a href="1,259" id="srcline259">259</a></span><span class="line"><span class="comment">%         h_ang = rel_ang - asin(ratio); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,260" id="srcline260">260</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,261" id="srcline261">261</a></span><span class="line">        <span class="comment">%very important, if this is zero, may make the qp infeasible due to the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,262" id="srcline262">262</a></span><span class="line">        <span class="comment">%zeros coefficient matrix, but the right matrix is negative </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,263" id="srcline263">263</a></span><span class="line">        <span class="comment">%sometimes, it may be NaN of inf, so this constraint actually do not work</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,264" id="srcline264">264</a></span><span class="line">        <span class="comment">%noticed on July, 18th, 2018</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,265" id="srcline265">265</a></span><span class="line">        <span class="keyword">if</span>(<span class="mxinfo " id="T8:U939"><span class="mxinfo " id="T1:U940">abs(<span class="var type1" id="S35T1U1253">pos_ob_y</span>)</span>&lt;<span class="mxinfo " id="T1:U942">1e-4</span></span>)    </span></span>
<span class="srcline"><span class="lineno"><a href="1,266" id="srcline266">266</a></span><span class="line">            <span class="mxinfo " id="T1:U943"><span class="var type1" id="S35T1U1257">pos_ob_y</span> = <span class="mxinfo " id="T1:U945"><span class="mxinfo " id="T1:U946">sign(<span class="var type1" id="S35T1U1261">pos_ob_y</span>)</span>*<span class="mxinfo " id="T1:U948">1e-4</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,267" id="srcline267">267</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,268" id="srcline268">268</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T8:U949"><span class="mxinfo " id="T1:U950">abs(<span class="var type1" id="S9T1U1269">epsi</span>)</span> &lt;= <span class="mxinfo " id="T1:U952">1e-5</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,269" id="srcline269">269</a></span><span class="line">            <span class="mxinfo " id="T1:U953"><span class="var type1" id="S9T1U1273">epsi</span> = <span class="mxinfo " id="T1:U955"><span class="mxinfo " id="T1:U956">sign(<span class="var type1" id="S9T1U1277">epsi</span>)</span>*<span class="mxinfo " id="T1:U958">1e-5</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,270" id="srcline270">270</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,271" id="srcline271">271</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,272" id="srcline272">272</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,273" id="srcline273">273</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,274" id="srcline274">274</a></span><span class="line">        <span class="mxinfo " id="T1:U959"><span class="var type1" id="S81T1U1281">L_t_h_ang_part1_tune</span> = <span class="mxinfo " id="T1:U961">-(<span class="mxinfo " id="T1:U962"><span class="mxinfo " id="T1:U963"><span class="mxinfo " id="T1:U964"><span class="mxinfo " id="T1:U965"><span class="mxinfo " id="T1:U966"><span class="mxinfo " id="T1:U967"><span class="mxinfo " id="T1:U968"><span class="mxinfo " id="T1:U969"><span class="mxinfo " id="T1:U970"><span class="mxinfo " id="T1:U971"><span class="mxinfo " id="T1:U972"><span class="mxinfo " id="T1:U973"><span class="var type1" id="S10T1U1296">ey</span> * <span class="var type1" id="S36T1U1297">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U976"><span class="var type1" id="S34T1U1299">pos_ob_x</span> * <span class="var type1" id="S37T1U1300">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U979"><span class="var type1" id="S35T1U1302">pos_ob_y</span> * <span class="var type1" id="S36T1U1303">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U982"><span class="var type1" id="S2T1U1305">s</span> * <span class="var type1" id="S37T1U1306">vel_ob_y</span></span></span>  <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,275" id="srcline275">275</a></span><span class="line">                    - <span class="mxinfo " id="T1:U985"><span class="mxinfo " id="T1:U986"><span class="var type1" id="S10T1U1309">ey</span> * <span class="var type1" id="S6T1U1310">xp_dot</span></span> * <span class="mxinfo " id="T1:U989">cos(<span class="var type1" id="S9T1U1313">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U991"><span class="mxinfo " id="T1:U992"><span class="var type1" id="S35T1U1316">pos_ob_y</span> * <span class="var type1" id="S6T1U1317">xp_dot</span></span> * <span class="mxinfo " id="T1:U995">cos(<span class="var type1" id="S9T1U1320">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U997"><span class="mxinfo " id="T1:U998"><span class="var type1" id="S34T1U1323">pos_ob_x</span> * <span class="var type1" id="S7T1U1324">yp_dot</span></span> * <span class="mxinfo " id="T1:U1001">cos(<span class="var type1" id="S9T1U1327">epsi</span>)</span></span></span>  <span class="keyword">...</span><span class="comment"> </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,276" id="srcline276">276</a></span><span class="line">                    + <span class="mxinfo " id="T1:U1003"><span class="mxinfo " id="T1:U1004"><span class="var type1" id="S2T1U1330">s</span> * <span class="var type1" id="S7T1U1331">yp_dot</span></span> * <span class="mxinfo " id="T1:U1007">cos(<span class="var type1" id="S9T1U1334">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1009"><span class="mxinfo " id="T1:U1010"><span class="var type1" id="S10T1U1337">ey</span> * <span class="var type1" id="S7T1U1338">yp_dot</span></span> * <span class="mxinfo " id="T1:U1013">sin(<span class="var type1" id="S9T1U1341">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1015"><span class="mxinfo " id="T1:U1016"><span class="var type1" id="S34T1U1344">pos_ob_x</span> * <span class="var type1" id="S6T1U1345">xp_dot</span></span> * <span class="mxinfo " id="T1:U1019">sin(<span class="var type1" id="S9T1U1348">epsi</span>)</span></span></span> <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,277" id="srcline277">277</a></span><span class="line">                    - <span class="mxinfo " id="T1:U1021"><span class="mxinfo " id="T1:U1022"><span class="var type1" id="S35T1U1351">pos_ob_y</span> * <span class="var type1" id="S7T1U1352">yp_dot</span></span> * <span class="mxinfo " id="T1:U1025">sin(<span class="var type1" id="S9T1U1355">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1027"><span class="mxinfo " id="T1:U1028"><span class="var type1" id="S2T1U1358">s</span> * <span class="var type1" id="S6T1U1359">xp_dot</span></span> * <span class="mxinfo " id="T1:U1031">sin(<span class="var type1" id="S9T1U1362">epsi</span>)</span></span></span>)</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,278" id="srcline278">278</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,279" id="srcline279">279</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,280" id="srcline280">280</a></span><span class="line"><span class="comment">%         if (pos_ob_y == 0)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,281" id="srcline281">281</a></span><span class="line"><span class="comment">%             pos_ob_y =   1e-4;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,282" id="srcline282">282</a></span><span class="line"><span class="comment">%         end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,283" id="srcline283">283</a></span><span class="line"><span class="comment">%         if (epsi == 0 )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,284" id="srcline284">284</a></span><span class="line"><span class="comment">%             epsi =   1e-5;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,285" id="srcline285">285</a></span><span class="line"><span class="comment">%         end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,286" id="srcline286">286</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,287" id="srcline287">287</a></span><span class="line">        <span class="comment">%very important, due to calculation errors, there maybe sometimes the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,288" id="srcline288">288</a></span><span class="line">        <span class="comment">%results are virtual, should be treated carefully. </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,289" id="srcline289">289</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,290" id="srcline290">290</a></span><span class="line">        <span class="comment">%notice, the longitudinal velocity is not be considered as state here </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,291" id="srcline291">291</a></span><span class="line">        <span class="comment">% L_f_h_ang = (yp_dot*cos(epsi) + xp_dot*sin(epsi))*((Ds*(ey - pos_ob_y))/((1 - Ds^2/((pos_ob_x - s)^2 + (ey - pos_ob_y)^2))^(1/2)*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)) - ((pos_ob_x - s)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2))) - cos(epsi)*(xp_dot - yp_dot)*((Ds*(pos_ob_x - s))/((1 - Ds^2/((pos_ob_x - s)^2 + (ey - pos_ob_y)^2))^(1/2)*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)) + ((ey - pos_ob_y)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2))) + ((psi_dot - psi_dot_com)*(xp_dot*yp_dot - xp_dot^2 + vel_ob_x*xp_dot*cos(epsi) + vel_ob_y*xp_dot*sin(epsi) - vel_ob_x*yp_dot*sin(epsi) - vel_ob_y*yp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - (cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(m*psi_dot*xp_dot^2 + 2*cf*yp_dot + 2*cr*yp_dot + 2*a*cf*psi_dot - 2*b*cr*psi_dot)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*xp_dot*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,292" id="srcline292">292</a></span><span class="line">        <span class="comment">% L_g_h_ang = (2*cf*cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,293" id="srcline293">293</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,294" id="srcline294">294</a></span><span class="line"><span class="comment">%         L_f_h_ang_part1 = ((psi_dot - psi_dot_com)*(xp_dot*yp_dot - xp_dot^2 + vel_ob_x*xp_dot*cos(epsi) + vel_ob_y*xp_dot*sin(epsi) - vel_ob_x*yp_dot*sin(epsi) - vel_ob_y*yp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - ((pos_ob_x - s)*(yp_dot*cos(epsi) + xp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - (cos(epsi)*(ey - pos_ob_y)*(xp_dot - yp_dot)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(1/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)) - (cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(m*psi_dot*xp_dot^2 + 2*cf*yp_dot + 2*cr*yp_dot + 2*a*cf*psi_dot - 2*b*cr*psi_dot)*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*xp_dot*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,295" id="srcline295">295</a></span><span class="line"><span class="comment">%         L_t_h_ang_part1 = -((ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi))*(pos_ob_y*vel_ob_x^3 - pos_ob_x*vel_ob_y^3 - ey*vel_ob_x^3 + s*vel_ob_y^3 - acc_ob_x*pos_ob_x^2*vel_ob_y + acc_ob_y*pos_ob_x^2*vel_ob_x - acc_ob_x*pos_ob_y^2*vel_ob_y + acc_ob_y*pos_ob_y^2*vel_ob_x - acc_ob_x*s^2*vel_ob_y + acc_ob_y*s^2*vel_ob_x - ey*vel_ob_x*vel_ob_y^2 - ey*vel_ob_x*xp_dot^2 - pos_ob_x*vel_ob_x^2*vel_ob_y + pos_ob_y*vel_ob_x*vel_ob_y^2 - pos_ob_x*vel_ob_y*xp_dot^2 + pos_ob_y*vel_ob_x*xp_dot^2 + s*vel_ob_x^2*vel_ob_y + s*vel_ob_y*xp_dot^2 - acc_ob_x*ey^2*vel_ob_y + acc_ob_y*ey^2*vel_ob_x + 2*acc_ob_x*ey*pos_ob_y*vel_ob_y - 2*acc_ob_y*ey*pos_ob_y*vel_ob_x + 2*acc_ob_x*pos_ob_x*s*vel_ob_y - 2*acc_ob_y*pos_ob_x*s*vel_ob_x - 2*ey*vel_ob_x*yp_dot^2*cos(epsi)^2 - 2*pos_ob_x*vel_ob_y*yp_dot^2*cos(epsi)^2 + 2*pos_ob_y*vel_ob_x*yp_dot^2*cos(epsi)^2 + 2*s*vel_ob_y*yp_dot^2*cos(epsi)^2 - acc_ob_y*ey^2*xp_dot*cos(epsi) + acc_ob_x*ey^2*yp_dot*cos(epsi) + acc_ob_y*ey^2*yp_dot*cos(epsi) - acc_ob_y*pos_ob_x^2*xp_dot*cos(epsi) - acc_ob_y*pos_ob_y^2*xp_dot*cos(epsi) + acc_ob_x*pos_ob_x^2*yp_dot*cos(epsi) + acc_ob_x*pos_ob_y^2*yp_dot*cos(epsi) + acc_ob_y*pos_ob_x^2*yp_dot*cos(epsi) + acc_ob_y*pos_ob_y^2*yp_dot*cos(epsi) - acc_ob_y*s^2*xp_dot*cos(epsi) + acc_ob_x*s^2*yp_dot*cos(epsi) + acc_ob_y*s^2*yp_dot*cos(epsi) + acc_ob_x*ey^2*xp_dot*sin(epsi) + 2*ey*vel_ob_x^2*xp_dot*cos(epsi) - 2*ey*vel_ob_x^2*yp_dot*cos(epsi) + acc_ob_x*pos_ob_x^2*xp_dot*sin(epsi) + acc_ob_x*pos_ob_y^2*xp_dot*sin(epsi) + acc_ob_x*s^2*xp_dot*sin(epsi) - 2*pos_ob_y*vel_ob_x^2*xp_dot*cos(epsi) + 2*pos_ob_x*vel_ob_y^2*yp_dot*cos(epsi) + 2*pos_ob_y*vel_ob_x^2*yp_dot*cos(epsi) - 2*s*vel_ob_y^2*yp_dot*cos(epsi) + 2*pos_ob_x*vel_ob_y^2*xp_dot*sin(epsi) - 2*s*vel_ob_y^2*xp_dot*sin(epsi) - 2*s*vel_ob_x*vel_ob_y*xp_dot*cos(epsi) + 2*s*vel_ob_x*vel_ob_y*yp_dot*cos(epsi) + 2*ey*vel_ob_x*vel_ob_y*xp_dot*sin(epsi) - 2*pos_ob_y*vel_ob_x*vel_ob_y*xp_dot*sin(epsi) + 2*ey*vel_ob_x*xp_dot*yp_dot*cos(epsi)^2 + 2*pos_ob_x*vel_ob_y*xp_dot*yp_dot*cos(epsi)^2 - 2*pos_ob_y*vel_ob_x*xp_dot*yp_dot*cos(epsi)^2 - 2*s*vel_ob_y*xp_dot*yp_dot*cos(epsi)^2 - ey*vel_ob_x*xp_dot*yp_dot*sin(2*epsi) - pos_ob_x*vel_ob_y*xp_dot*yp_dot*sin(2*epsi) + pos_ob_y*vel_ob_x*xp_dot*yp_dot*sin(2*epsi) + s*vel_ob_y*xp_dot*yp_dot*sin(2*epsi) + 2*acc_ob_y*ey*pos_ob_y*xp_dot*cos(epsi) - 2*acc_ob_x*ey*pos_ob_y*yp_dot*cos(epsi) - 2*acc_ob_y*ey*pos_ob_y*yp_dot*cos(epsi) + 2*acc_ob_y*pos_ob_x*s*xp_dot*cos(epsi) - 2*acc_ob_x*pos_ob_x*s*yp_dot*cos(epsi) - 2*acc_ob_y*pos_ob_x*s*yp_dot*cos(epsi) - 2*acc_ob_x*ey*pos_ob_y*xp_dot*sin(epsi) + 2*ey*vel_ob_x*vel_ob_y*yp_dot*cos(epsi) - 2*acc_ob_x*pos_ob_x*s*xp_dot*sin(epsi) + 2*pos_ob_x*vel_ob_x*vel_ob_y*xp_dot*cos(epsi) - 2*pos_ob_x*vel_ob_x*vel_ob_y*yp_dot*cos(epsi) - 2*pos_ob_y*vel_ob_x*vel_ob_y*yp_dot*cos(epsi)))/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(3/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,296" id="srcline296">296</a></span><span class="line"><span class="comment">%         L_g_h_ang_part1 = (2*cf*cos(epsi)*(vel_ob_x + vel_ob_y - xp_dot*cos(epsi) - xp_dot*sin(epsi))*(ey*vel_ob_x + pos_ob_x*vel_ob_y - pos_ob_y*vel_ob_x - s*vel_ob_y - ey*xp_dot*cos(epsi) + ey*yp_dot*cos(epsi) + pos_ob_y*xp_dot*cos(epsi) - pos_ob_x*yp_dot*cos(epsi) - pos_ob_y*yp_dot*cos(epsi) + s*yp_dot*cos(epsi) - pos_ob_x*xp_dot*sin(epsi) + s*xp_dot*sin(epsi)))/(m*((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)^(1/2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)^(3/2)*(1 - ((pos_ob_x - s)*(vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi)) + (ey - pos_ob_y)*(yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi)))^2/(((pos_ob_x - s)^2 + (ey - pos_ob_y)^2)*((vel_ob_x - xp_dot*cos(epsi) + yp_dot*cos(epsi))^2 + (yp_dot*cos(epsi) - vel_ob_y + xp_dot*sin(epsi))^2)))^(1/2)); </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,297" id="srcline297">297</a></span><span class="line">       </span></span>
<span class="srcline"><span class="lineno"><a href="1,298" id="srcline298">298</a></span><span class="line">        <span class="mxinfo " id="T1:U1033"><span class="var type1" id="S82T1U1365">L_f_h_ang_part1</span> = <span class="mxinfo " id="T1:U1035"><span class="mxinfo " id="T1:U1036"><span class="mxinfo " id="T1:U1037"><span class="mxinfo " id="T1:U1038"><span class="mxinfo " id="T1:U1039">- (<span class="mxinfo " id="T1:U1040"><span class="mxinfo " id="T1:U1041">(<span class="mxinfo " id="T1:U1042"><span class="var type1" id="S8T1U1376">psi_dot</span> - <span class="var type1" id="S62T1U1377">psi_dot_com</span></span>)*(<span class="mxinfo " id="T1:U1045"><span class="mxinfo " id="T1:U1046"><span class="mxinfo " id="T1:U1047"><span class="mxinfo " id="T1:U1048"><span class="mxinfo " id="T1:U1049"><span class="mxinfo " id="T1:U1050"><span class="var type1" id="S6T1U1385">xp_dot</span>^2</span> + <span class="mxinfo " id="T1:U1052"><span class="var type1" id="S7T1U1388">yp_dot</span>^2</span></span> - <span class="mxinfo " id="T1:U1054"><span class="mxinfo " id="T1:U1055"><span class="var type1" id="S36T1U1392">vel_ob_x</span>*<span class="var type1" id="S6T1U1393">xp_dot</span></span>*<span class="mxinfo " id="T1:U1058">cos(<span class="var type1" id="S9T1U1396">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1060"><span class="mxinfo " id="T1:U1061"><span class="var type1" id="S37T1U1399">vel_ob_y</span>*<span class="var type1" id="S7T1U1400">yp_dot</span></span>*<span class="mxinfo " id="T1:U1064">cos(<span class="var type1" id="S9T1U1403">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1066"><span class="mxinfo " id="T1:U1067"><span class="var type1" id="S37T1U1406">vel_ob_y</span>*<span class="var type1" id="S6T1U1407">xp_dot</span></span>*<span class="mxinfo " id="T1:U1070">sin(<span class="var type1" id="S9T1U1410">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1072"><span class="mxinfo " id="T1:U1073"><span class="var type1" id="S36T1U1413">vel_ob_x</span>*<span class="var type1" id="S7T1U1414">yp_dot</span></span>*<span class="mxinfo " id="T1:U1076">sin(<span class="var type1" id="S9T1U1417">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1078"><span class="mxinfo " id="T1:U1079"><span class="mxinfo " id="T1:U1080"><span class="mxinfo " id="T1:U1081"><span class="mxinfo " id="T1:U1082"><span class="mxinfo " id="T1:U1083"><span class="mxinfo " id="T1:U1084"><span class="mxinfo " id="T1:U1085"><span class="mxinfo " id="T1:U1086"><span class="mxinfo " id="T1:U1087"><span class="mxinfo " id="T1:U1088"><span class="mxinfo " id="T1:U1089"><span class="var type1" id="S10T1U1431">ey</span>*<span class="var type1" id="S36T1U1432">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1092"><span class="var type1" id="S34T1U1434">pos_ob_x</span>*<span class="var type1" id="S37T1U1435">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1095"><span class="var type1" id="S35T1U1437">pos_ob_y</span>*<span class="var type1" id="S36T1U1438">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1098"><span class="var type1" id="S2T1U1440">s</span>*<span class="var type1" id="S37T1U1441">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1101"><span class="mxinfo " id="T1:U1102"><span class="var type1" id="S10T1U1444">ey</span>*<span class="var type1" id="S6T1U1445">xp_dot</span></span>*<span class="mxinfo " id="T1:U1105">cos(<span class="var type1" id="S9T1U1448">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1107"><span class="mxinfo " id="T1:U1108"><span class="var type1" id="S35T1U1451">pos_ob_y</span>*<span class="var type1" id="S6T1U1452">xp_dot</span></span>*<span class="mxinfo " id="T1:U1111">cos(<span class="var type1" id="S9T1U1455">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1113"><span class="mxinfo " id="T1:U1114"><span class="var type1" id="S34T1U1458">pos_ob_x</span>*<span class="var type1" id="S7T1U1459">yp_dot</span></span>*<span class="mxinfo " id="T1:U1117">cos(<span class="var type1" id="S9T1U1462">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1119"><span class="mxinfo " id="T1:U1120"><span class="var type1" id="S2T1U1465">s</span>*<span class="var type1" id="S7T1U1466">yp_dot</span></span>*<span class="mxinfo " id="T1:U1123">cos(<span class="var type1" id="S9T1U1469">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1125"><span class="mxinfo " id="T1:U1126"><span class="var type1" id="S10T1U1472">ey</span>*<span class="var type1" id="S7T1U1473">yp_dot</span></span>*<span class="mxinfo " id="T1:U1129">sin(<span class="var type1" id="S9T1U1476">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1131"><span class="mxinfo " id="T1:U1132"><span class="var type1" id="S34T1U1479">pos_ob_x</span>*<span class="var type1" id="S6T1U1480">xp_dot</span></span>*<span class="mxinfo " id="T1:U1135">sin(<span class="var type1" id="S9T1U1483">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1137"><span class="mxinfo " id="T1:U1138"><span class="var type1" id="S35T1U1486">pos_ob_y</span>*<span class="var type1" id="S7T1U1487">yp_dot</span></span>*<span class="mxinfo " id="T1:U1141">sin(<span class="var type1" id="S9T1U1490">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1143"><span class="mxinfo " id="T1:U1144"><span class="var type1" id="S2T1U1493">s</span>*<span class="var type1" id="S6T1U1494">xp_dot</span></span>*<span class="mxinfo " id="T1:U1147">sin(<span class="var type1" id="S9T1U1497">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U1149"><span class="mxinfo " id="T1:U1150"><span class="mxinfo " id="T1:U1151">(<span class="mxinfo " id="T1:U1152"><span class="mxinfo " id="T1:U1153">1</span> - <span class="mxinfo " id="T1:U1154"><span class="mxinfo " id="T1:U1155">(<span class="mxinfo " id="T1:U1156"><span class="mxinfo " id="T1:U1157">(<span class="mxinfo " id="T1:U1158"><span class="var type1" id="S34T1U1512">pos_ob_x</span> - <span class="var type1" id="S2T1U1513">s</span></span>)*(<span class="mxinfo " id="T1:U1161"><span class="mxinfo " id="T1:U1162"><span class="var type1" id="S36T1U1517">vel_ob_x</span> - <span class="mxinfo " id="T1:U1164"><span class="var type1" id="S6T1U1519">xp_dot</span>*<span class="mxinfo " id="T1:U1166">cos(<span class="var type1" id="S9T1U1522">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1168"><span class="var type1" id="S7T1U1524">yp_dot</span>*<span class="mxinfo " id="T1:U1170">sin(<span class="var type1" id="S9T1U1527">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1172">(<span class="mxinfo " id="T1:U1173"><span class="var type1" id="S10T1U1531">ey</span> - <span class="var type1" id="S35T1U1532">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1176"><span class="mxinfo " id="T1:U1177"><span class="mxinfo " id="T1:U1178"><span class="var type1" id="S7T1U1537">yp_dot</span>*<span class="mxinfo " id="T1:U1180">cos(<span class="var type1" id="S9T1U1540">epsi</span>)</span></span> - <span class="var type1" id="S37T1U1541">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1183"><span class="var type1" id="S6T1U1543">xp_dot</span>*<span class="mxinfo " id="T1:U1185">sin(<span class="var type1" id="S9T1U1546">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1187">(<span class="mxinfo " id="T1:U1188"><span class="mxinfo " id="T1:U1189">(<span class="mxinfo " id="T1:U1190"><span class="var type1" id="S34T1U1555">pos_ob_x</span> - <span class="var type1" id="S2T1U1556">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1193">(<span class="mxinfo " id="T1:U1194"><span class="var type1" id="S10T1U1561">ey</span> - <span class="var type1" id="S35T1U1562">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1197"><span class="mxinfo " id="T1:U1198">(<span class="mxinfo " id="T1:U1199"><span class="mxinfo " id="T1:U1200"><span class="var type1" id="S36T1U1570">vel_ob_x</span> - <span class="mxinfo " id="T1:U1202"><span class="var type1" id="S6T1U1572">xp_dot</span>*<span class="mxinfo " id="T1:U1204">cos(<span class="var type1" id="S9T1U1575">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1206"><span class="var type1" id="S7T1U1577">yp_dot</span>*<span class="mxinfo " id="T1:U1208">sin(<span class="var type1" id="S9T1U1580">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1210">(<span class="mxinfo " id="T1:U1211"><span class="mxinfo " id="T1:U1212"><span class="mxinfo " id="T1:U1213"><span class="var type1" id="S7T1U1587">yp_dot</span>*<span class="mxinfo " id="T1:U1215">cos(<span class="var type1" id="S9T1U1590">epsi</span>)</span></span> - <span class="var type1" id="S37T1U1591">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1218"><span class="var type1" id="S6T1U1593">xp_dot</span>*<span class="mxinfo " id="T1:U1220">sin(<span class="var type1" id="S9T1U1596">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U1222">(<span class="mxinfo " id="T1:U1223"><span class="mxinfo " id="T1:U1224">(<span class="mxinfo " id="T1:U1225"><span class="var type1" id="S34T1U1608">pos_ob_x</span> - <span class="var type1" id="S2T1U1609">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1228">(<span class="mxinfo " id="T1:U1229"><span class="var type1" id="S10T1U1614">ey</span> - <span class="var type1" id="S35T1U1615">pos_ob_y</span></span>)^2</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U1232">(<span class="mxinfo " id="T1:U1233"><span class="mxinfo " id="T1:U1234">(<span class="mxinfo " id="T1:U1235"><span class="mxinfo " id="T1:U1236"><span class="var type1" id="S36T1U1628">vel_ob_x</span> - <span class="mxinfo " id="T1:U1238"><span class="var type1" id="S6T1U1630">xp_dot</span>*<span class="mxinfo " id="T1:U1240">cos(<span class="var type1" id="S9T1U1633">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1242"><span class="var type1" id="S7T1U1635">yp_dot</span>*<span class="mxinfo " id="T1:U1244">sin(<span class="var type1" id="S9T1U1638">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1246">(<span class="mxinfo " id="T1:U1247"><span class="mxinfo " id="T1:U1248"><span class="mxinfo " id="T1:U1249"><span class="var type1" id="S7T1U1645">yp_dot</span>*<span class="mxinfo " id="T1:U1251">cos(<span class="var type1" id="S9T1U1648">epsi</span>)</span></span> - <span class="var type1" id="S37T1U1649">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1254"><span class="var type1" id="S6T1U1651">xp_dot</span>*<span class="mxinfo " id="T1:U1256">sin(<span class="var type1" id="S9T1U1654">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span> - <span class="mxinfo " id="T1:U1258">(<span class="mxinfo " id="T1:U1259"><span class="mxinfo " id="T1:U1260">(<span class="mxinfo " id="T1:U1261"><span class="var type1" id="S10T1U1666">ey</span> - <span class="var type1" id="S35T1U1667">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1264"><span class="mxinfo " id="T1:U1265"><span class="var type1" id="S6T1U1671">xp_dot</span>*<span class="mxinfo " id="T1:U1267">cos(<span class="var type1" id="S9T1U1674">epsi</span>)</span></span> - <span class="mxinfo " id="T1:U1269"><span class="var type1" id="S7T1U1676">yp_dot</span>*<span class="mxinfo " id="T1:U1271">sin(<span class="var type1" id="S9T1U1679">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1273"><span class="mxinfo " id="T1:U1274"><span class="mxinfo " id="T1:U1275"><span class="mxinfo " id="T1:U1276"><span class="mxinfo " id="T1:U1277"><span class="mxinfo " id="T1:U1278"><span class="mxinfo " id="T1:U1279"><span class="mxinfo " id="T1:U1280"><span class="mxinfo " id="T1:U1281"><span class="mxinfo " id="T1:U1282"><span class="mxinfo " id="T1:U1283"><span class="mxinfo " id="T1:U1284"><span class="var type1" id="S10T1U1693">ey</span>*<span class="var type1" id="S36T1U1694">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1287"><span class="var type1" id="S34T1U1696">pos_ob_x</span>*<span class="var type1" id="S37T1U1697">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1290"><span class="var type1" id="S35T1U1699">pos_ob_y</span>*<span class="var type1" id="S36T1U1700">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1293"><span class="var type1" id="S2T1U1702">s</span>*<span class="var type1" id="S37T1U1703">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1296"><span class="mxinfo " id="T1:U1297"><span class="var type1" id="S10T1U1706">ey</span>*<span class="var type1" id="S6T1U1707">xp_dot</span></span>*<span class="mxinfo " id="T1:U1300">cos(<span class="var type1" id="S9T1U1710">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1302"><span class="mxinfo " id="T1:U1303"><span class="var type1" id="S35T1U1713">pos_ob_y</span>*<span class="var type1" id="S6T1U1714">xp_dot</span></span>*<span class="mxinfo " id="T1:U1306">cos(<span class="var type1" id="S9T1U1717">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1308"><span class="mxinfo " id="T1:U1309"><span class="var type1" id="S34T1U1720">pos_ob_x</span>*<span class="var type1" id="S7T1U1721">yp_dot</span></span>*<span class="mxinfo " id="T1:U1312">cos(<span class="var type1" id="S9T1U1724">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1314"><span class="mxinfo " id="T1:U1315"><span class="var type1" id="S2T1U1727">s</span>*<span class="var type1" id="S7T1U1728">yp_dot</span></span>*<span class="mxinfo " id="T1:U1318">cos(<span class="var type1" id="S9T1U1731">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1320"><span class="mxinfo " id="T1:U1321"><span class="var type1" id="S10T1U1734">ey</span>*<span class="var type1" id="S7T1U1735">yp_dot</span></span>*<span class="mxinfo " id="T1:U1324">sin(<span class="var type1" id="S9T1U1738">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1326"><span class="mxinfo " id="T1:U1327"><span class="var type1" id="S34T1U1741">pos_ob_x</span>*<span class="var type1" id="S6T1U1742">xp_dot</span></span>*<span class="mxinfo " id="T1:U1330">sin(<span class="var type1" id="S9T1U1745">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1332"><span class="mxinfo " id="T1:U1333"><span class="var type1" id="S35T1U1748">pos_ob_y</span>*<span class="var type1" id="S7T1U1749">yp_dot</span></span>*<span class="mxinfo " id="T1:U1336">sin(<span class="var type1" id="S9T1U1752">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1338"><span class="mxinfo " id="T1:U1339"><span class="var type1" id="S2T1U1755">s</span>*<span class="var type1" id="S6T1U1756">xp_dot</span></span>*<span class="mxinfo " id="T1:U1342">sin(<span class="var type1" id="S9T1U1759">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U1344"><span class="mxinfo " id="T1:U1345"><span class="mxinfo " id="T1:U1346">(<span class="mxinfo " id="T1:U1347"><span class="mxinfo " id="T1:U1348">1</span> - <span class="mxinfo " id="T1:U1349"><span class="mxinfo " id="T1:U1350">(<span class="mxinfo " id="T1:U1351"><span class="mxinfo " id="T1:U1352">(<span class="mxinfo " id="T1:U1353"><span class="var type1" id="S34T1U1774">pos_ob_x</span> - <span class="var type1" id="S2T1U1775">s</span></span>)*(<span class="mxinfo " id="T1:U1356"><span class="mxinfo " id="T1:U1357"><span class="var type1" id="S36T1U1779">vel_ob_x</span> - <span class="mxinfo " id="T1:U1359"><span class="var type1" id="S6T1U1781">xp_dot</span>*<span class="mxinfo " id="T1:U1361">cos(<span class="var type1" id="S9T1U1784">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1363"><span class="var type1" id="S7T1U1786">yp_dot</span>*<span class="mxinfo " id="T1:U1365">sin(<span class="var type1" id="S9T1U1789">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1367">(<span class="mxinfo " id="T1:U1368"><span class="var type1" id="S10T1U1793">ey</span> - <span class="var type1" id="S35T1U1794">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1371"><span class="mxinfo " id="T1:U1372"><span class="mxinfo " id="T1:U1373"><span class="var type1" id="S7T1U1799">yp_dot</span>*<span class="mxinfo " id="T1:U1375">cos(<span class="var type1" id="S9T1U1802">epsi</span>)</span></span> - <span class="var type1" id="S37T1U1803">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1378"><span class="var type1" id="S6T1U1805">xp_dot</span>*<span class="mxinfo " id="T1:U1380">sin(<span class="var type1" id="S9T1U1808">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1382">(<span class="mxinfo " id="T1:U1383"><span class="mxinfo " id="T1:U1384">(<span class="mxinfo " id="T1:U1385"><span class="var type1" id="S34T1U1817">pos_ob_x</span> - <span class="var type1" id="S2T1U1818">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1388">(<span class="mxinfo " id="T1:U1389"><span class="var type1" id="S10T1U1823">ey</span> - <span class="var type1" id="S35T1U1824">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1392"><span class="mxinfo " id="T1:U1393">(<span class="mxinfo " id="T1:U1394"><span class="mxinfo " id="T1:U1395"><span class="var type1" id="S36T1U1832">vel_ob_x</span> - <span class="mxinfo " id="T1:U1397"><span class="var type1" id="S6T1U1834">xp_dot</span>*<span class="mxinfo " id="T1:U1399">cos(<span class="var type1" id="S9T1U1837">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1401"><span class="var type1" id="S7T1U1839">yp_dot</span>*<span class="mxinfo " id="T1:U1403">sin(<span class="var type1" id="S9T1U1842">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1405">(<span class="mxinfo " id="T1:U1406"><span class="mxinfo " id="T1:U1407"><span class="mxinfo " id="T1:U1408"><span class="var type1" id="S7T1U1849">yp_dot</span>*<span class="mxinfo " id="T1:U1410">cos(<span class="var type1" id="S9T1U1852">epsi</span>)</span></span> - <span class="var type1" id="S37T1U1853">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1413"><span class="var type1" id="S6T1U1855">xp_dot</span>*<span class="mxinfo " id="T1:U1415">sin(<span class="var type1" id="S9T1U1858">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U1417">(<span class="mxinfo " id="T1:U1418"><span class="mxinfo " id="T1:U1419">(<span class="mxinfo " id="T1:U1420"><span class="var type1" id="S34T1U1870">pos_ob_x</span> - <span class="var type1" id="S2T1U1871">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1423">(<span class="mxinfo " id="T1:U1424"><span class="var type1" id="S10T1U1876">ey</span> - <span class="var type1" id="S35T1U1877">pos_ob_y</span></span>)^2</span></span>)^(3/2)</span></span>*<span class="mxinfo " id="T1:U1427">(<span class="mxinfo " id="T1:U1428"><span class="mxinfo " id="T1:U1429">(<span class="mxinfo " id="T1:U1430"><span class="mxinfo " id="T1:U1431"><span class="var type1" id="S36T1U1890">vel_ob_x</span> - <span class="mxinfo " id="T1:U1433"><span class="var type1" id="S6T1U1892">xp_dot</span>*<span class="mxinfo " id="T1:U1435">cos(<span class="var type1" id="S9T1U1895">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1437"><span class="var type1" id="S7T1U1897">yp_dot</span>*<span class="mxinfo " id="T1:U1439">sin(<span class="var type1" id="S9T1U1900">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1441">(<span class="mxinfo " id="T1:U1442"><span class="mxinfo " id="T1:U1443"><span class="mxinfo " id="T1:U1444"><span class="var type1" id="S7T1U1907">yp_dot</span>*<span class="mxinfo " id="T1:U1446">cos(<span class="var type1" id="S9T1U1910">epsi</span>)</span></span> - <span class="var type1" id="S37T1U1911">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1449"><span class="var type1" id="S6T1U1913">xp_dot</span>*<span class="mxinfo " id="T1:U1451">sin(<span class="var type1" id="S9T1U1916">epsi</span>)</span></span></span>)^2</span></span>)^(1/2)</span></span>)</span></span> - <span class="mxinfo " id="T1:U1453">(<span class="mxinfo " id="T1:U1454"><span class="mxinfo " id="T1:U1455">(<span class="mxinfo " id="T1:U1456"><span class="var type1" id="S34T1U1928">pos_ob_x</span> - <span class="var type1" id="S2T1U1929">s</span></span>)*(<span class="mxinfo " id="T1:U1459"><span class="mxinfo " id="T1:U1460"><span class="var type1" id="S7T1U1933">yp_dot</span>*<span class="mxinfo " id="T1:U1462">cos(<span class="var type1" id="S9T1U1936">epsi</span>)</span></span> + <span class="mxinfo " id="T1:U1464"><span class="var type1" id="S6T1U1938">xp_dot</span>*<span class="mxinfo " id="T1:U1466">sin(<span class="var type1" id="S9T1U1941">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1468"><span class="mxinfo " id="T1:U1469"><span class="mxinfo " id="T1:U1470"><span class="mxinfo " id="T1:U1471"><span class="mxinfo " id="T1:U1472"><span class="mxinfo " id="T1:U1473"><span class="mxinfo " id="T1:U1474"><span class="mxinfo " id="T1:U1475"><span class="mxinfo " id="T1:U1476"><span class="mxinfo " id="T1:U1477"><span class="mxinfo " id="T1:U1478"><span class="mxinfo " id="T1:U1479"><span class="var type1" id="S10T1U1955">ey</span>*<span class="var type1" id="S36T1U1956">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1482"><span class="var type1" id="S34T1U1958">pos_ob_x</span>*<span class="var type1" id="S37T1U1959">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1485"><span class="var type1" id="S35T1U1961">pos_ob_y</span>*<span class="var type1" id="S36T1U1962">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1488"><span class="var type1" id="S2T1U1964">s</span>*<span class="var type1" id="S37T1U1965">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1491"><span class="mxinfo " id="T1:U1492"><span class="var type1" id="S10T1U1968">ey</span>*<span class="var type1" id="S6T1U1969">xp_dot</span></span>*<span class="mxinfo " id="T1:U1495">cos(<span class="var type1" id="S9T1U1972">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1497"><span class="mxinfo " id="T1:U1498"><span class="var type1" id="S35T1U1975">pos_ob_y</span>*<span class="var type1" id="S6T1U1976">xp_dot</span></span>*<span class="mxinfo " id="T1:U1501">cos(<span class="var type1" id="S9T1U1979">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1503"><span class="mxinfo " id="T1:U1504"><span class="var type1" id="S34T1U1982">pos_ob_x</span>*<span class="var type1" id="S7T1U1983">yp_dot</span></span>*<span class="mxinfo " id="T1:U1507">cos(<span class="var type1" id="S9T1U1986">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1509"><span class="mxinfo " id="T1:U1510"><span class="var type1" id="S2T1U1989">s</span>*<span class="var type1" id="S7T1U1990">yp_dot</span></span>*<span class="mxinfo " id="T1:U1513">cos(<span class="var type1" id="S9T1U1993">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1515"><span class="mxinfo " id="T1:U1516"><span class="var type1" id="S10T1U1996">ey</span>*<span class="var type1" id="S7T1U1997">yp_dot</span></span>*<span class="mxinfo " id="T1:U1519">sin(<span class="var type1" id="S9T1U2000">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1521"><span class="mxinfo " id="T1:U1522"><span class="var type1" id="S34T1U2003">pos_ob_x</span>*<span class="var type1" id="S6T1U2004">xp_dot</span></span>*<span class="mxinfo " id="T1:U1525">sin(<span class="var type1" id="S9T1U2007">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1527"><span class="mxinfo " id="T1:U1528"><span class="var type1" id="S35T1U2010">pos_ob_y</span>*<span class="var type1" id="S7T1U2011">yp_dot</span></span>*<span class="mxinfo " id="T1:U1531">sin(<span class="var type1" id="S9T1U2014">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1533"><span class="mxinfo " id="T1:U1534"><span class="var type1" id="S2T1U2017">s</span>*<span class="var type1" id="S6T1U2018">xp_dot</span></span>*<span class="mxinfo " id="T1:U1537">sin(<span class="var type1" id="S9T1U2021">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U1539"><span class="mxinfo " id="T1:U1540"><span class="mxinfo " id="T1:U1541">(<span class="mxinfo " id="T1:U1542"><span class="mxinfo " id="T1:U1543">1</span> - <span class="mxinfo " id="T1:U1544"><span class="mxinfo " id="T1:U1545">(<span class="mxinfo " id="T1:U1546"><span class="mxinfo " id="T1:U1547">(<span class="mxinfo " id="T1:U1548"><span class="var type1" id="S34T1U2036">pos_ob_x</span> - <span class="var type1" id="S2T1U2037">s</span></span>)*(<span class="mxinfo " id="T1:U1551"><span class="mxinfo " id="T1:U1552"><span class="var type1" id="S36T1U2041">vel_ob_x</span> - <span class="mxinfo " id="T1:U1554"><span class="var type1" id="S6T1U2043">xp_dot</span>*<span class="mxinfo " id="T1:U1556">cos(<span class="var type1" id="S9T1U2046">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1558"><span class="var type1" id="S7T1U2048">yp_dot</span>*<span class="mxinfo " id="T1:U1560">sin(<span class="var type1" id="S9T1U2051">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1562">(<span class="mxinfo " id="T1:U1563"><span class="var type1" id="S10T1U2055">ey</span> - <span class="var type1" id="S35T1U2056">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1566"><span class="mxinfo " id="T1:U1567"><span class="mxinfo " id="T1:U1568"><span class="var type1" id="S7T1U2061">yp_dot</span>*<span class="mxinfo " id="T1:U1570">cos(<span class="var type1" id="S9T1U2064">epsi</span>)</span></span> - <span class="var type1" id="S37T1U2065">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1573"><span class="var type1" id="S6T1U2067">xp_dot</span>*<span class="mxinfo " id="T1:U1575">sin(<span class="var type1" id="S9T1U2070">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1577">(<span class="mxinfo " id="T1:U1578"><span class="mxinfo " id="T1:U1579">(<span class="mxinfo " id="T1:U1580"><span class="var type1" id="S34T1U2079">pos_ob_x</span> - <span class="var type1" id="S2T1U2080">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1583">(<span class="mxinfo " id="T1:U1584"><span class="var type1" id="S10T1U2085">ey</span> - <span class="var type1" id="S35T1U2086">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1587"><span class="mxinfo " id="T1:U1588">(<span class="mxinfo " id="T1:U1589"><span class="mxinfo " id="T1:U1590"><span class="var type1" id="S36T1U2094">vel_ob_x</span> - <span class="mxinfo " id="T1:U1592"><span class="var type1" id="S6T1U2096">xp_dot</span>*<span class="mxinfo " id="T1:U1594">cos(<span class="var type1" id="S9T1U2099">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1596"><span class="var type1" id="S7T1U2101">yp_dot</span>*<span class="mxinfo " id="T1:U1598">sin(<span class="var type1" id="S9T1U2104">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1600">(<span class="mxinfo " id="T1:U1601"><span class="mxinfo " id="T1:U1602"><span class="mxinfo " id="T1:U1603"><span class="var type1" id="S7T1U2111">yp_dot</span>*<span class="mxinfo " id="T1:U1605">cos(<span class="var type1" id="S9T1U2114">epsi</span>)</span></span> - <span class="var type1" id="S37T1U2115">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1608"><span class="var type1" id="S6T1U2117">xp_dot</span>*<span class="mxinfo " id="T1:U1610">sin(<span class="var type1" id="S9T1U2120">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U1612">(<span class="mxinfo " id="T1:U1613"><span class="mxinfo " id="T1:U1614">(<span class="mxinfo " id="T1:U1615"><span class="var type1" id="S34T1U2132">pos_ob_x</span> - <span class="var type1" id="S2T1U2133">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1618">(<span class="mxinfo " id="T1:U1619"><span class="var type1" id="S10T1U2138">ey</span> - <span class="var type1" id="S35T1U2139">pos_ob_y</span></span>)^2</span></span>)^(3/2)</span></span>*<span class="mxinfo " id="T1:U1622">(<span class="mxinfo " id="T1:U1623"><span class="mxinfo " id="T1:U1624">(<span class="mxinfo " id="T1:U1625"><span class="mxinfo " id="T1:U1626"><span class="var type1" id="S36T1U2152">vel_ob_x</span> - <span class="mxinfo " id="T1:U1628"><span class="var type1" id="S6T1U2154">xp_dot</span>*<span class="mxinfo " id="T1:U1630">cos(<span class="var type1" id="S9T1U2157">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1632"><span class="var type1" id="S7T1U2159">yp_dot</span>*<span class="mxinfo " id="T1:U1634">sin(<span class="var type1" id="S9T1U2162">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1636">(<span class="mxinfo " id="T1:U1637"><span class="mxinfo " id="T1:U1638"><span class="mxinfo " id="T1:U1639"><span class="var type1" id="S7T1U2169">yp_dot</span>*<span class="mxinfo " id="T1:U1641">cos(<span class="var type1" id="S9T1U2172">epsi</span>)</span></span> - <span class="var type1" id="S37T1U2173">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1644"><span class="var type1" id="S6T1U2175">xp_dot</span>*<span class="mxinfo " id="T1:U1646">sin(<span class="var type1" id="S9T1U2178">epsi</span>)</span></span></span>)^2</span></span>)^(1/2)</span></span>)</span></span> - <span class="mxinfo " id="T1:U1648">(<span class="mxinfo " id="T1:U1649"><span class="mxinfo " id="T1:U1650">(<span class="mxinfo " id="T1:U1651"><span class="mxinfo " id="T1:U1652"><span class="mxinfo " id="T1:U1653"><span class="var type1" id="S36T1U2192">vel_ob_x</span>*<span class="mxinfo " id="T1:U1655">cos(<span class="var type1" id="S9T1U2195">epsi</span>)</span></span> - <span class="var type1" id="S6T1U2196">xp_dot</span></span> + <span class="mxinfo " id="T1:U1658"><span class="var type1" id="S37T1U2198">vel_ob_y</span>*<span class="mxinfo " id="T1:U1660">sin(<span class="var type1" id="S9T1U2201">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U1662"><span class="mxinfo " id="T1:U1663"><span class="mxinfo " id="T1:U1664"><span class="mxinfo " id="T1:U1665"><span class="mxinfo " id="T1:U1666"><span class="mxinfo " id="T1:U1667"><span class="var type1" id="S60T1U2209">m</span>*<span class="var type1" id="S8T1U2210">psi_dot</span></span>*<span class="mxinfo " id="T1:U1670"><span class="var type1" id="S6T1U2212">xp_dot</span>^2</span></span> + <span class="mxinfo " id="T1:U1672"><span class="mxinfo " id="T1:U1673"><span class="mxinfo " id="T1:U1674">2</span>*<span class="var type1" id="S58T1U2217">cf</span></span>*<span class="var type1" id="S7T1U2218">yp_dot</span></span></span> + <span class="mxinfo " id="T1:U1677"><span class="mxinfo " id="T1:U1678"><span class="mxinfo " id="T1:U1679">2</span>*<span class="var type1" id="S59T1U2222">cr</span></span>*<span class="var type1" id="S7T1U2223">yp_dot</span></span></span> + <span class="mxinfo " id="T1:U1682"><span class="mxinfo " id="T1:U1683"><span class="mxinfo " id="T1:U1684"><span class="mxinfo " id="T1:U1685">2</span>*<span class="var type1" id="S53T1U2228">a</span></span>*<span class="var type1" id="S58T1U2229">cf</span></span>*<span class="var type1" id="S8T1U2230">psi_dot</span></span></span> - <span class="mxinfo " id="T1:U1689"><span class="mxinfo " id="T1:U1690"><span class="mxinfo " id="T1:U1691"><span class="mxinfo " id="T1:U1692">2</span>*<span class="var type1" id="S54T1U2235">b</span></span>*<span class="var type1" id="S59T1U2236">cr</span></span>*<span class="var type1" id="S8T1U2237">psi_dot</span></span></span>)</span>*(<span class="mxinfo " id="T1:U1696"><span class="mxinfo " id="T1:U1697"><span class="mxinfo " id="T1:U1698"><span class="mxinfo " id="T1:U1699"><span class="mxinfo " id="T1:U1700"><span class="mxinfo " id="T1:U1701"><span class="mxinfo " id="T1:U1702"><span class="mxinfo " id="T1:U1703"><span class="mxinfo " id="T1:U1704"><span class="mxinfo " id="T1:U1705"><span class="mxinfo " id="T1:U1706"><span class="mxinfo " id="T1:U1707"><span class="var type1" id="S10T1U2251">ey</span>*<span class="var type1" id="S36T1U2252">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1710"><span class="var type1" id="S34T1U2254">pos_ob_x</span>*<span class="var type1" id="S37T1U2255">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1713"><span class="var type1" id="S35T1U2257">pos_ob_y</span>*<span class="var type1" id="S36T1U2258">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1716"><span class="var type1" id="S2T1U2260">s</span>*<span class="var type1" id="S37T1U2261">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1719"><span class="mxinfo " id="T1:U1720"><span class="var type1" id="S10T1U2264">ey</span>*<span class="var type1" id="S6T1U2265">xp_dot</span></span>*<span class="mxinfo " id="T1:U1723">cos(<span class="var type1" id="S9T1U2268">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1725"><span class="mxinfo " id="T1:U1726"><span class="var type1" id="S35T1U2271">pos_ob_y</span>*<span class="var type1" id="S6T1U2272">xp_dot</span></span>*<span class="mxinfo " id="T1:U1729">cos(<span class="var type1" id="S9T1U2275">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1731"><span class="mxinfo " id="T1:U1732"><span class="var type1" id="S34T1U2278">pos_ob_x</span>*<span class="var type1" id="S7T1U2279">yp_dot</span></span>*<span class="mxinfo " id="T1:U1735">cos(<span class="var type1" id="S9T1U2282">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1737"><span class="mxinfo " id="T1:U1738"><span class="var type1" id="S2T1U2285">s</span>*<span class="var type1" id="S7T1U2286">yp_dot</span></span>*<span class="mxinfo " id="T1:U1741">cos(<span class="var type1" id="S9T1U2289">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1743"><span class="mxinfo " id="T1:U1744"><span class="var type1" id="S10T1U2292">ey</span>*<span class="var type1" id="S7T1U2293">yp_dot</span></span>*<span class="mxinfo " id="T1:U1747">sin(<span class="var type1" id="S9T1U2296">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1749"><span class="mxinfo " id="T1:U1750"><span class="var type1" id="S34T1U2299">pos_ob_x</span>*<span class="var type1" id="S6T1U2300">xp_dot</span></span>*<span class="mxinfo " id="T1:U1753">sin(<span class="var type1" id="S9T1U2303">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1755"><span class="mxinfo " id="T1:U1756"><span class="var type1" id="S35T1U2306">pos_ob_y</span>*<span class="var type1" id="S7T1U2307">yp_dot</span></span>*<span class="mxinfo " id="T1:U1759">sin(<span class="var type1" id="S9T1U2310">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1761"><span class="mxinfo " id="T1:U1762"><span class="var type1" id="S2T1U2313">s</span>*<span class="var type1" id="S6T1U2314">xp_dot</span></span>*<span class="mxinfo " id="T1:U1765">sin(<span class="var type1" id="S9T1U2317">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U1767"><span class="mxinfo " id="T1:U1768"><span class="mxinfo " id="T1:U1769"><span class="mxinfo " id="T1:U1770"><span class="var type1" id="S60T1U2323">m</span>*<span class="var type1" id="S6T1U2324">xp_dot</span></span>*<span class="mxinfo " id="T1:U1773">(<span class="mxinfo " id="T1:U1774"><span class="mxinfo " id="T1:U1775">1</span> - <span class="mxinfo " id="T1:U1776"><span class="mxinfo " id="T1:U1777">(<span class="mxinfo " id="T1:U1778"><span class="mxinfo " id="T1:U1779">(<span class="mxinfo " id="T1:U1780"><span class="var type1" id="S34T1U2336">pos_ob_x</span> - <span class="var type1" id="S2T1U2337">s</span></span>)*(<span class="mxinfo " id="T1:U1783"><span class="mxinfo " id="T1:U1784"><span class="var type1" id="S36T1U2341">vel_ob_x</span> - <span class="mxinfo " id="T1:U1786"><span class="var type1" id="S6T1U2343">xp_dot</span>*<span class="mxinfo " id="T1:U1788">cos(<span class="var type1" id="S9T1U2346">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1790"><span class="var type1" id="S7T1U2348">yp_dot</span>*<span class="mxinfo " id="T1:U1792">sin(<span class="var type1" id="S9T1U2351">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U1794">(<span class="mxinfo " id="T1:U1795"><span class="var type1" id="S10T1U2355">ey</span> - <span class="var type1" id="S35T1U2356">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U1798"><span class="mxinfo " id="T1:U1799"><span class="mxinfo " id="T1:U1800"><span class="var type1" id="S7T1U2361">yp_dot</span>*<span class="mxinfo " id="T1:U1802">cos(<span class="var type1" id="S9T1U2364">epsi</span>)</span></span> - <span class="var type1" id="S37T1U2365">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1805"><span class="var type1" id="S6T1U2367">xp_dot</span>*<span class="mxinfo " id="T1:U1807">sin(<span class="var type1" id="S9T1U2370">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U1809">(<span class="mxinfo " id="T1:U1810"><span class="mxinfo " id="T1:U1811">(<span class="mxinfo " id="T1:U1812"><span class="var type1" id="S34T1U2379">pos_ob_x</span> - <span class="var type1" id="S2T1U2380">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1815">(<span class="mxinfo " id="T1:U1816"><span class="var type1" id="S10T1U2385">ey</span> - <span class="var type1" id="S35T1U2386">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U1819"><span class="mxinfo " id="T1:U1820">(<span class="mxinfo " id="T1:U1821"><span class="mxinfo " id="T1:U1822"><span class="var type1" id="S36T1U2394">vel_ob_x</span> - <span class="mxinfo " id="T1:U1824"><span class="var type1" id="S6T1U2396">xp_dot</span>*<span class="mxinfo " id="T1:U1826">cos(<span class="var type1" id="S9T1U2399">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1828"><span class="var type1" id="S7T1U2401">yp_dot</span>*<span class="mxinfo " id="T1:U1830">sin(<span class="var type1" id="S9T1U2404">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1832">(<span class="mxinfo " id="T1:U1833"><span class="mxinfo " id="T1:U1834"><span class="mxinfo " id="T1:U1835"><span class="var type1" id="S7T1U2411">yp_dot</span>*<span class="mxinfo " id="T1:U1837">cos(<span class="var type1" id="S9T1U2414">epsi</span>)</span></span> - <span class="var type1" id="S37T1U2415">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1840"><span class="var type1" id="S6T1U2417">xp_dot</span>*<span class="mxinfo " id="T1:U1842">sin(<span class="var type1" id="S9T1U2420">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U1844">(<span class="mxinfo " id="T1:U1845"><span class="mxinfo " id="T1:U1846">(<span class="mxinfo " id="T1:U1847"><span class="var type1" id="S34T1U2432">pos_ob_x</span> - <span class="var type1" id="S2T1U2433">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U1850">(<span class="mxinfo " id="T1:U1851"><span class="var type1" id="S10T1U2438">ey</span> - <span class="var type1" id="S35T1U2439">pos_ob_y</span></span>)^2</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U1854">(<span class="mxinfo " id="T1:U1855"><span class="mxinfo " id="T1:U1856">(<span class="mxinfo " id="T1:U1857"><span class="mxinfo " id="T1:U1858"><span class="var type1" id="S36T1U2452">vel_ob_x</span> - <span class="mxinfo " id="T1:U1860"><span class="var type1" id="S6T1U2454">xp_dot</span>*<span class="mxinfo " id="T1:U1862">cos(<span class="var type1" id="S9T1U2457">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1864"><span class="var type1" id="S7T1U2459">yp_dot</span>*<span class="mxinfo " id="T1:U1866">sin(<span class="var type1" id="S9T1U2462">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U1868">(<span class="mxinfo " id="T1:U1869"><span class="mxinfo " id="T1:U1870"><span class="mxinfo " id="T1:U1871"><span class="var type1" id="S7T1U2469">yp_dot</span>*<span class="mxinfo " id="T1:U1873">cos(<span class="var type1" id="S9T1U2472">epsi</span>)</span></span> - <span class="var type1" id="S37T1U2473">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U1876"><span class="var type1" id="S6T1U2475">xp_dot</span>*<span class="mxinfo " id="T1:U1878">sin(<span class="var type1" id="S9T1U2478">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,299" id="srcline299">299</a></span><span class="line">        <span class="mxinfo " id="T1:U1880"><span class="var type1" id="S83T1U2486">L_t_h_ang_part1</span> = <span class="mxinfo " id="T1:U1882"><span class="mxinfo " id="T1:U1883">-(<span class="mxinfo " id="T1:U1884">(<span class="mxinfo " id="T1:U1885"><span class="mxinfo " id="T1:U1886"><span class="mxinfo " id="T1:U1887"><span class="mxinfo " id="T1:U1888"><span class="mxinfo " id="T1:U1889"><span class="mxinfo " id="T1:U1890"><span class="mxinfo " id="T1:U1891"><span class="mxinfo " id="T1:U1892"><span class="mxinfo " id="T1:U1893"><span class="mxinfo " id="T1:U1894"><span class="mxinfo " id="T1:U1895"><span class="mxinfo " id="T1:U1896"><span class="var type1" id="S10T1U2504">ey</span>*<span class="var type1" id="S36T1U2505">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U1899"><span class="var type1" id="S34T1U2507">pos_ob_x</span>*<span class="var type1" id="S37T1U2508">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1902"><span class="var type1" id="S35T1U2510">pos_ob_y</span>*<span class="var type1" id="S36T1U2511">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U1905"><span class="var type1" id="S2T1U2513">s</span>*<span class="var type1" id="S37T1U2514">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U1908"><span class="mxinfo " id="T1:U1909"><span class="var type1" id="S10T1U2517">ey</span>*<span class="var type1" id="S6T1U2518">xp_dot</span></span>*<span class="mxinfo " id="T1:U1912">cos(<span class="var type1" id="S9T1U2521">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1914"><span class="mxinfo " id="T1:U1915"><span class="var type1" id="S35T1U2524">pos_ob_y</span>*<span class="var type1" id="S6T1U2525">xp_dot</span></span>*<span class="mxinfo " id="T1:U1918">cos(<span class="var type1" id="S9T1U2528">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1920"><span class="mxinfo " id="T1:U1921"><span class="var type1" id="S34T1U2531">pos_ob_x</span>*<span class="var type1" id="S7T1U2532">yp_dot</span></span>*<span class="mxinfo " id="T1:U1924">cos(<span class="var type1" id="S9T1U2535">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1926"><span class="mxinfo " id="T1:U1927"><span class="var type1" id="S2T1U2538">s</span>*<span class="var type1" id="S7T1U2539">yp_dot</span></span>*<span class="mxinfo " id="T1:U1930">cos(<span class="var type1" id="S9T1U2542">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1932"><span class="mxinfo " id="T1:U1933"><span class="var type1" id="S10T1U2545">ey</span>*<span class="var type1" id="S7T1U2546">yp_dot</span></span>*<span class="mxinfo " id="T1:U1936">sin(<span class="var type1" id="S9T1U2549">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1938"><span class="mxinfo " id="T1:U1939"><span class="var type1" id="S34T1U2552">pos_ob_x</span>*<span class="var type1" id="S6T1U2553">xp_dot</span></span>*<span class="mxinfo " id="T1:U1942">sin(<span class="var type1" id="S9T1U2556">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U1944"><span class="mxinfo " id="T1:U1945"><span class="var type1" id="S35T1U2559">pos_ob_y</span>*<span class="var type1" id="S7T1U2560">yp_dot</span></span>*<span class="mxinfo " id="T1:U1948">sin(<span class="var type1" id="S9T1U2563">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U1950"><span class="mxinfo " id="T1:U1951"><span class="var type1" id="S2T1U2566">s</span>*<span class="var type1" id="S6T1U2567">xp_dot</span></span>*<span class="mxinfo " id="T1:U1954">sin(<span class="var type1" id="S9T1U2570">epsi</span>)</span></span></span>)*(<span class="mxinfo " id="T1:U1956"><span class="mxinfo " id="T1:U1957"><span class="mxinfo " id="T1:U1958"><span class="mxinfo " id="T1:U1959"><span class="mxinfo " id="T1:U1960"><span class="mxinfo " id="T1:U1961"><span class="mxinfo " id="T1:U1962"><span class="mxinfo " id="T1:U1963"><span class="mxinfo " id="T1:U1964"><span class="mxinfo " id="T1:U1965"><span class="mxinfo " id="T1:U1966"><span class="mxinfo " id="T1:U1967"><span class="mxinfo " id="T1:U1968"><span class="mxinfo " id="T1:U1969"><span class="mxinfo " id="T1:U1970"><span class="mxinfo " id="T1:U1971"><span class="mxinfo " id="T1:U1972"><span class="mxinfo " id="T1:U1973"><span class="mxinfo " id="T1:U1974"><span class="mxinfo " id="T1:U1975"><span class="mxinfo " id="T1:U1976"><span class="mxinfo " id="T1:U1977"><span class="mxinfo " id="T1:U1978"><span class="mxinfo " id="T1:U1979"><span class="mxinfo " id="T1:U1980"><span class="mxinfo " id="T1:U1981"><span class="mxinfo " id="T1:U1982"><span class="mxinfo " id="T1:U1983"><span class="mxinfo " id="T1:U1984"><span class="mxinfo " id="T1:U1985"><span class="mxinfo " id="T1:U1986"><span class="mxinfo " id="T1:U1987"><span class="mxinfo " id="T1:U1988"><span class="mxinfo " id="T1:U1989"><span class="mxinfo " id="T1:U1990"><span class="mxinfo " id="T1:U1991"><span class="mxinfo " id="T1:U1992"><span class="mxinfo " id="T1:U1993"><span class="mxinfo " id="T1:U1994"><span class="mxinfo " id="T1:U1995"><span class="mxinfo " id="T1:U1996"><span class="mxinfo " id="T1:U1997"><span class="mxinfo " id="T1:U1998"><span class="mxinfo " id="T1:U1999"><span class="mxinfo " id="T1:U2000"><span class="mxinfo " id="T1:U2001"><span class="mxinfo " id="T1:U2002"><span class="mxinfo " id="T1:U2003"><span class="mxinfo " id="T1:U2004"><span class="mxinfo " id="T1:U2005"><span class="mxinfo " id="T1:U2006"><span class="mxinfo " id="T1:U2007"><span class="mxinfo " id="T1:U2008"><span class="mxinfo " id="T1:U2009"><span class="mxinfo " id="T1:U2010"><span class="mxinfo " id="T1:U2011"><span class="mxinfo " id="T1:U2012"><span class="mxinfo " id="T1:U2013"><span class="mxinfo " id="T1:U2014"><span class="mxinfo " id="T1:U2015"><span class="mxinfo " id="T1:U2016"><span class="mxinfo " id="T1:U2017"><span class="mxinfo " id="T1:U2018"><span class="mxinfo " id="T1:U2019"><span class="mxinfo " id="T1:U2020"><span class="mxinfo " id="T1:U2021"><span class="mxinfo " id="T1:U2022"><span class="mxinfo " id="T1:U2023"><span class="var type1" id="S35T1U2640">pos_ob_y</span>*<span class="mxinfo " id="T1:U2025"><span class="var type1" id="S36T1U2642">vel_ob_x</span>^3</span></span> - <span class="mxinfo " id="T1:U2027"><span class="var type1" id="S34T1U2645">pos_ob_x</span>*<span class="mxinfo " id="T1:U2029"><span class="var type1" id="S37T1U2647">vel_ob_y</span>^3</span></span></span> - <span class="mxinfo " id="T1:U2031"><span class="var type1" id="S10T1U2650">ey</span>*<span class="mxinfo " id="T1:U2033"><span class="var type1" id="S36T1U2652">vel_ob_x</span>^3</span></span></span> + <span class="mxinfo " id="T1:U2035"><span class="var type1" id="S2T1U2655">s</span>*<span class="mxinfo " id="T1:U2037"><span class="var type1" id="S37T1U2657">vel_ob_y</span>^3</span></span></span> - <span class="mxinfo " id="T1:U2039"><span class="mxinfo " id="T1:U2040"><span class="var type1" id="S38T1U2661">acc_ob_x</span>*<span class="mxinfo " id="T1:U2042"><span class="var type1" id="S34T1U2663">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S37T1U2665">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2045"><span class="mxinfo " id="T1:U2046"><span class="var type1" id="S39T1U2668">acc_ob_y</span>*<span class="mxinfo " id="T1:U2048"><span class="var type1" id="S34T1U2670">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S36T1U2672">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2051"><span class="mxinfo " id="T1:U2052"><span class="var type1" id="S38T1U2675">acc_ob_x</span>*<span class="mxinfo " id="T1:U2054"><span class="var type1" id="S35T1U2677">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S37T1U2679">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2057"><span class="mxinfo " id="T1:U2058"><span class="var type1" id="S39T1U2682">acc_ob_y</span>*<span class="mxinfo " id="T1:U2060"><span class="var type1" id="S35T1U2684">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S36T1U2686">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2063"><span class="mxinfo " id="T1:U2064"><span class="var type1" id="S38T1U2689">acc_ob_x</span>*<span class="mxinfo " id="T1:U2066"><span class="var type1" id="S2T1U2691">s</span>^2</span></span>*<span class="var type1" id="S37T1U2693">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2069"><span class="mxinfo " id="T1:U2070"><span class="var type1" id="S39T1U2696">acc_ob_y</span>*<span class="mxinfo " id="T1:U2072"><span class="var type1" id="S2T1U2698">s</span>^2</span></span>*<span class="var type1" id="S36T1U2700">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2075"><span class="mxinfo " id="T1:U2076"><span class="var type1" id="S10T1U2703">ey</span>*<span class="var type1" id="S36T1U2704">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2079"><span class="var type1" id="S37T1U2706">vel_ob_y</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2081"><span class="mxinfo " id="T1:U2082"><span class="var type1" id="S10T1U2710">ey</span>*<span class="var type1" id="S36T1U2711">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2085"><span class="var type1" id="S6T1U2713">xp_dot</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2087"><span class="mxinfo " id="T1:U2088"><span class="var type1" id="S10T1U2717">ey</span>*<span class="var type1" id="S36T1U2718">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2091"><span class="var type1" id="S7T1U2720">yp_dot</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2093"><span class="mxinfo " id="T1:U2094"><span class="var type1" id="S34T1U2724">pos_ob_x</span>*<span class="mxinfo " id="T1:U2096"><span class="var type1" id="S36T1U2726">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S37T1U2728">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2099"><span class="mxinfo " id="T1:U2100"><span class="var type1" id="S35T1U2731">pos_ob_y</span>*<span class="var type1" id="S36T1U2732">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2103"><span class="var type1" id="S37T1U2734">vel_ob_y</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2105"><span class="mxinfo " id="T1:U2106"><span class="var type1" id="S34T1U2738">pos_ob_x</span>*<span class="var type1" id="S37T1U2739">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2109"><span class="var type1" id="S6T1U2741">xp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2111"><span class="mxinfo " id="T1:U2112"><span class="var type1" id="S35T1U2745">pos_ob_y</span>*<span class="var type1" id="S36T1U2746">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2115"><span class="var type1" id="S6T1U2748">xp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2117"><span class="mxinfo " id="T1:U2118"><span class="var type1" id="S2T1U2752">s</span>*<span class="mxinfo " id="T1:U2120"><span class="var type1" id="S36T1U2754">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S37T1U2756">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2123"><span class="mxinfo " id="T1:U2124"><span class="var type1" id="S34T1U2759">pos_ob_x</span>*<span class="var type1" id="S37T1U2760">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2127"><span class="var type1" id="S7T1U2762">yp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2129"><span class="mxinfo " id="T1:U2130"><span class="var type1" id="S35T1U2766">pos_ob_y</span>*<span class="var type1" id="S36T1U2767">vel_ob_x</span></span>*<span class="mxinfo " id="T1:U2133"><span class="var type1" id="S7T1U2769">yp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2135"><span class="mxinfo " id="T1:U2136"><span class="var type1" id="S2T1U2773">s</span>*<span class="var type1" id="S37T1U2774">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2139"><span class="var type1" id="S6T1U2776">xp_dot</span>^2</span></span></span> + <span class="mxinfo " id="T1:U2141"><span class="mxinfo " id="T1:U2142"><span class="var type1" id="S2T1U2780">s</span>*<span class="var type1" id="S37T1U2781">vel_ob_y</span></span>*<span class="mxinfo " id="T1:U2145"><span class="var type1" id="S7T1U2783">yp_dot</span>^2</span></span></span> - <span class="mxinfo " id="T1:U2147"><span class="mxinfo " id="T1:U2148"><span class="var type1" id="S38T1U2787">acc_ob_x</span>*<span class="mxinfo " id="T1:U2150"><span class="var type1" id="S10T1U2789">ey</span>^2</span></span>*<span class="var type1" id="S37T1U2791">vel_ob_y</span></span></span> + <span class="mxinfo " id="T1:U2153"><span class="mxinfo " id="T1:U2154"><span class="var type1" id="S39T1U2794">acc_ob_y</span>*<span class="mxinfo " id="T1:U2156"><span class="var type1" id="S10T1U2796">ey</span>^2</span></span>*<span class="var type1" id="S36T1U2798">vel_ob_x</span></span></span> + <span class="mxinfo " id="T1:U2159"><span class="mxinfo " id="T1:U2160"><span class="mxinfo " id="T1:U2161"><span class="mxinfo " id="T1:U2162"><span class="mxinfo " id="T1:U2163">2</span>*<span class="var type1" id="S38T1U2804">acc_ob_x</span></span>*<span class="var type1" id="S10T1U2805">ey</span></span>*<span class="var type1" id="S35T1U2806">pos_ob_y</span></span>*<span class="var type1" id="S37T1U2807">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2168"><span class="mxinfo " id="T1:U2169"><span class="mxinfo " id="T1:U2170"><span class="mxinfo " id="T1:U2171"><span class="mxinfo " id="T1:U2172">2</span>*<span class="var type1" id="S39T1U2813">acc_ob_y</span></span>*<span class="var type1" id="S10T1U2814">ey</span></span>*<span class="var type1" id="S35T1U2815">pos_ob_y</span></span>*<span class="var type1" id="S36T1U2816">vel_ob_x</span></span></span> + <span class="mxinfo " id="T1:U2177"><span class="mxinfo " id="T1:U2178"><span class="mxinfo " id="T1:U2179"><span class="mxinfo " id="T1:U2180"><span class="mxinfo " id="T1:U2181">2</span>*<span class="var type1" id="S38T1U2822">acc_ob_x</span></span>*<span class="var type1" id="S34T1U2823">pos_ob_x</span></span>*<span class="var type1" id="S2T1U2824">s</span></span>*<span class="var type1" id="S37T1U2825">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2186"><span class="mxinfo " id="T1:U2187"><span class="mxinfo " id="T1:U2188"><span class="mxinfo " id="T1:U2189"><span class="mxinfo " id="T1:U2190">2</span>*<span class="var type1" id="S39T1U2831">acc_ob_y</span></span>*<span class="var type1" id="S34T1U2832">pos_ob_x</span></span>*<span class="var type1" id="S2T1U2833">s</span></span>*<span class="var type1" id="S36T1U2834">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2195"><span class="mxinfo " id="T1:U2196"><span class="mxinfo " id="T1:U2197"><span class="var type1" id="S39T1U2838">acc_ob_y</span>*<span class="mxinfo " id="T1:U2199"><span class="var type1" id="S10T1U2840">ey</span>^2</span></span>*<span class="var type1" id="S6T1U2842">xp_dot</span></span>*<span class="mxinfo " id="T1:U2202">cos(<span class="var type1" id="S9T1U2845">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2204"><span class="mxinfo " id="T1:U2205"><span class="mxinfo " id="T1:U2206"><span class="var type1" id="S38T1U2849">acc_ob_x</span>*<span class="mxinfo " id="T1:U2208"><span class="var type1" id="S10T1U2851">ey</span>^2</span></span>*<span class="var type1" id="S7T1U2853">yp_dot</span></span>*<span class="mxinfo " id="T1:U2211">cos(<span class="var type1" id="S9T1U2856">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2213"><span class="mxinfo " id="T1:U2214"><span class="mxinfo " id="T1:U2215"><span class="var type1" id="S39T1U2860">acc_ob_y</span>*<span class="mxinfo " id="T1:U2217"><span class="var type1" id="S34T1U2862">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U2864">xp_dot</span></span>*<span class="mxinfo " id="T1:U2220">cos(<span class="var type1" id="S9T1U2867">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2222"><span class="mxinfo " id="T1:U2223"><span class="mxinfo " id="T1:U2224"><span class="var type1" id="S39T1U2871">acc_ob_y</span>*<span class="mxinfo " id="T1:U2226"><span class="var type1" id="S35T1U2873">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U2875">xp_dot</span></span>*<span class="mxinfo " id="T1:U2229">cos(<span class="var type1" id="S9T1U2878">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2231"><span class="mxinfo " id="T1:U2232"><span class="mxinfo " id="T1:U2233"><span class="var type1" id="S38T1U2882">acc_ob_x</span>*<span class="mxinfo " id="T1:U2235"><span class="var type1" id="S34T1U2884">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U2886">yp_dot</span></span>*<span class="mxinfo " id="T1:U2238">cos(<span class="var type1" id="S9T1U2889">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2240"><span class="mxinfo " id="T1:U2241"><span class="mxinfo " id="T1:U2242"><span class="var type1" id="S38T1U2893">acc_ob_x</span>*<span class="mxinfo " id="T1:U2244"><span class="var type1" id="S35T1U2895">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U2897">yp_dot</span></span>*<span class="mxinfo " id="T1:U2247">cos(<span class="var type1" id="S9T1U2900">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2249"><span class="mxinfo " id="T1:U2250"><span class="mxinfo " id="T1:U2251"><span class="var type1" id="S39T1U2904">acc_ob_y</span>*<span class="mxinfo " id="T1:U2253"><span class="var type1" id="S2T1U2906">s</span>^2</span></span>*<span class="var type1" id="S6T1U2908">xp_dot</span></span>*<span class="mxinfo " id="T1:U2256">cos(<span class="var type1" id="S9T1U2911">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2258"><span class="mxinfo " id="T1:U2259"><span class="mxinfo " id="T1:U2260"><span class="var type1" id="S38T1U2915">acc_ob_x</span>*<span class="mxinfo " id="T1:U2262"><span class="var type1" id="S2T1U2917">s</span>^2</span></span>*<span class="var type1" id="S7T1U2919">yp_dot</span></span>*<span class="mxinfo " id="T1:U2265">cos(<span class="var type1" id="S9T1U2922">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2267"><span class="mxinfo " id="T1:U2268"><span class="mxinfo " id="T1:U2269"><span class="var type1" id="S38T1U2926">acc_ob_x</span>*<span class="mxinfo " id="T1:U2271"><span class="var type1" id="S10T1U2928">ey</span>^2</span></span>*<span class="var type1" id="S6T1U2930">xp_dot</span></span>*<span class="mxinfo " id="T1:U2274">sin(<span class="var type1" id="S9T1U2933">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2276"><span class="mxinfo " id="T1:U2277"><span class="mxinfo " id="T1:U2278"><span class="var type1" id="S39T1U2937">acc_ob_y</span>*<span class="mxinfo " id="T1:U2280"><span class="var type1" id="S10T1U2939">ey</span>^2</span></span>*<span class="var type1" id="S7T1U2941">yp_dot</span></span>*<span class="mxinfo " id="T1:U2283">sin(<span class="var type1" id="S9T1U2944">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2285"><span class="mxinfo " id="T1:U2286"><span class="mxinfo " id="T1:U2287"><span class="mxinfo " id="T1:U2288"><span class="mxinfo " id="T1:U2289">2</span>*<span class="var type1" id="S10T1U2950">ey</span></span>*<span class="mxinfo " id="T1:U2291"><span class="var type1" id="S36T1U2952">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U2954">xp_dot</span></span>*<span class="mxinfo " id="T1:U2294">cos(<span class="var type1" id="S9T1U2957">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2296"><span class="mxinfo " id="T1:U2297"><span class="mxinfo " id="T1:U2298"><span class="var type1" id="S38T1U2961">acc_ob_x</span>*<span class="mxinfo " id="T1:U2300"><span class="var type1" id="S34T1U2963">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U2965">xp_dot</span></span>*<span class="mxinfo " id="T1:U2303">sin(<span class="var type1" id="S9T1U2968">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2305"><span class="mxinfo " id="T1:U2306"><span class="mxinfo " id="T1:U2307"><span class="var type1" id="S38T1U2972">acc_ob_x</span>*<span class="mxinfo " id="T1:U2309"><span class="var type1" id="S35T1U2974">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U2976">xp_dot</span></span>*<span class="mxinfo " id="T1:U2312">sin(<span class="var type1" id="S9T1U2979">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2314"><span class="mxinfo " id="T1:U2315"><span class="mxinfo " id="T1:U2316"><span class="var type1" id="S39T1U2983">acc_ob_y</span>*<span class="mxinfo " id="T1:U2318"><span class="var type1" id="S34T1U2985">pos_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U2987">yp_dot</span></span>*<span class="mxinfo " id="T1:U2321">sin(<span class="var type1" id="S9T1U2990">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2323"><span class="mxinfo " id="T1:U2324"><span class="mxinfo " id="T1:U2325"><span class="var type1" id="S39T1U2994">acc_ob_y</span>*<span class="mxinfo " id="T1:U2327"><span class="var type1" id="S35T1U2996">pos_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U2998">yp_dot</span></span>*<span class="mxinfo " id="T1:U2330">sin(<span class="var type1" id="S9T1U3001">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2332"><span class="mxinfo " id="T1:U2333"><span class="mxinfo " id="T1:U2334"><span class="var type1" id="S38T1U3005">acc_ob_x</span>*<span class="mxinfo " id="T1:U2336"><span class="var type1" id="S2T1U3007">s</span>^2</span></span>*<span class="var type1" id="S6T1U3009">xp_dot</span></span>*<span class="mxinfo " id="T1:U2339">sin(<span class="var type1" id="S9T1U3012">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2341"><span class="mxinfo " id="T1:U2342"><span class="mxinfo " id="T1:U2343"><span class="var type1" id="S39T1U3016">acc_ob_y</span>*<span class="mxinfo " id="T1:U2345"><span class="var type1" id="S2T1U3018">s</span>^2</span></span>*<span class="var type1" id="S7T1U3020">yp_dot</span></span>*<span class="mxinfo " id="T1:U2348">sin(<span class="var type1" id="S9T1U3023">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2350"><span class="mxinfo " id="T1:U2351"><span class="mxinfo " id="T1:U2352"><span class="mxinfo " id="T1:U2353"><span class="mxinfo " id="T1:U2354">2</span>*<span class="var type1" id="S35T1U3029">pos_ob_y</span></span>*<span class="mxinfo " id="T1:U2356"><span class="var type1" id="S36T1U3031">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S6T1U3033">xp_dot</span></span>*<span class="mxinfo " id="T1:U2359">cos(<span class="var type1" id="S9T1U3036">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2361"><span class="mxinfo " id="T1:U2362"><span class="mxinfo " id="T1:U2363"><span class="mxinfo " id="T1:U2364"><span class="mxinfo " id="T1:U2365">2</span>*<span class="var type1" id="S34T1U3042">pos_ob_x</span></span>*<span class="mxinfo " id="T1:U2367"><span class="var type1" id="S37T1U3044">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U3046">yp_dot</span></span>*<span class="mxinfo " id="T1:U2370">cos(<span class="var type1" id="S9T1U3049">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2372"><span class="mxinfo " id="T1:U2373"><span class="mxinfo " id="T1:U2374"><span class="mxinfo " id="T1:U2375"><span class="mxinfo " id="T1:U2376">2</span>*<span class="var type1" id="S2T1U3055">s</span></span>*<span class="mxinfo " id="T1:U2378"><span class="var type1" id="S37T1U3057">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S7T1U3059">yp_dot</span></span>*<span class="mxinfo " id="T1:U2381">cos(<span class="var type1" id="S9T1U3062">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2383"><span class="mxinfo " id="T1:U2384"><span class="mxinfo " id="T1:U2385"><span class="mxinfo " id="T1:U2386"><span class="mxinfo " id="T1:U2387">2</span>*<span class="var type1" id="S10T1U3068">ey</span></span>*<span class="mxinfo " id="T1:U2389"><span class="var type1" id="S36T1U3070">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U3072">yp_dot</span></span>*<span class="mxinfo " id="T1:U2392">sin(<span class="var type1" id="S9T1U3075">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2394"><span class="mxinfo " id="T1:U2395"><span class="mxinfo " id="T1:U2396"><span class="mxinfo " id="T1:U2397"><span class="mxinfo " id="T1:U2398">2</span>*<span class="var type1" id="S34T1U3081">pos_ob_x</span></span>*<span class="mxinfo " id="T1:U2400"><span class="var type1" id="S37T1U3083">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U3085">xp_dot</span></span>*<span class="mxinfo " id="T1:U2403">sin(<span class="var type1" id="S9T1U3088">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2405"><span class="mxinfo " id="T1:U2406"><span class="mxinfo " id="T1:U2407"><span class="mxinfo " id="T1:U2408"><span class="mxinfo " id="T1:U2409">2</span>*<span class="var type1" id="S35T1U3094">pos_ob_y</span></span>*<span class="mxinfo " id="T1:U2411"><span class="var type1" id="S36T1U3096">vel_ob_x</span>^2</span></span>*<span class="var type1" id="S7T1U3098">yp_dot</span></span>*<span class="mxinfo " id="T1:U2414">sin(<span class="var type1" id="S9T1U3101">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2416"><span class="mxinfo " id="T1:U2417"><span class="mxinfo " id="T1:U2418"><span class="mxinfo " id="T1:U2419"><span class="mxinfo " id="T1:U2420">2</span>*<span class="var type1" id="S2T1U3107">s</span></span>*<span class="mxinfo " id="T1:U2422"><span class="var type1" id="S37T1U3109">vel_ob_y</span>^2</span></span>*<span class="var type1" id="S6T1U3111">xp_dot</span></span>*<span class="mxinfo " id="T1:U2425">sin(<span class="var type1" id="S9T1U3114">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2427"><span class="mxinfo " id="T1:U2428"><span class="mxinfo " id="T1:U2429"><span class="mxinfo " id="T1:U2430"><span class="mxinfo " id="T1:U2431"><span class="mxinfo " id="T1:U2432">2</span>*<span class="var type1" id="S2T1U3121">s</span></span>*<span class="var type1" id="S36T1U3122">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3123">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3124">xp_dot</span></span>*<span class="mxinfo " id="T1:U2437">cos(<span class="var type1" id="S9T1U3127">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2439"><span class="mxinfo " id="T1:U2440"><span class="mxinfo " id="T1:U2441"><span class="mxinfo " id="T1:U2442"><span class="mxinfo " id="T1:U2443"><span class="mxinfo " id="T1:U2444">2</span>*<span class="var type1" id="S10T1U3134">ey</span></span>*<span class="var type1" id="S36T1U3135">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3136">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3137">xp_dot</span></span>*<span class="mxinfo " id="T1:U2449">sin(<span class="var type1" id="S9T1U3140">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2451"><span class="mxinfo " id="T1:U2452"><span class="mxinfo " id="T1:U2453"><span class="mxinfo " id="T1:U2454"><span class="mxinfo " id="T1:U2455"><span class="mxinfo " id="T1:U2456">2</span>*<span class="var type1" id="S35T1U3147">pos_ob_y</span></span>*<span class="var type1" id="S36T1U3148">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3149">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3150">xp_dot</span></span>*<span class="mxinfo " id="T1:U2461">sin(<span class="var type1" id="S9T1U3153">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2463"><span class="mxinfo " id="T1:U2464"><span class="mxinfo " id="T1:U2465"><span class="mxinfo " id="T1:U2466"><span class="mxinfo " id="T1:U2467"><span class="mxinfo " id="T1:U2468">2</span>*<span class="var type1" id="S34T1U3160">pos_ob_x</span></span>*<span class="var type1" id="S36T1U3161">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3162">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3163">yp_dot</span></span>*<span class="mxinfo " id="T1:U2473">sin(<span class="var type1" id="S9T1U3166">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2475"><span class="mxinfo " id="T1:U2476"><span class="mxinfo " id="T1:U2477"><span class="mxinfo " id="T1:U2478"><span class="mxinfo " id="T1:U2479"><span class="mxinfo " id="T1:U2480">2</span>*<span class="var type1" id="S2T1U3173">s</span></span>*<span class="var type1" id="S36T1U3174">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3175">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3176">yp_dot</span></span>*<span class="mxinfo " id="T1:U2485">sin(<span class="var type1" id="S9T1U3179">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2487"><span class="mxinfo " id="T1:U2488"><span class="mxinfo " id="T1:U2489"><span class="mxinfo " id="T1:U2490"><span class="mxinfo " id="T1:U2491"><span class="mxinfo " id="T1:U2492">2</span>*<span class="var type1" id="S39T1U3186">acc_ob_y</span></span>*<span class="var type1" id="S10T1U3187">ey</span></span>*<span class="var type1" id="S35T1U3188">pos_ob_y</span></span>*<span class="var type1" id="S6T1U3189">xp_dot</span></span>*<span class="mxinfo " id="T1:U2497">cos(<span class="var type1" id="S9T1U3192">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2499"><span class="mxinfo " id="T1:U2500"><span class="mxinfo " id="T1:U2501"><span class="mxinfo " id="T1:U2502"><span class="mxinfo " id="T1:U2503"><span class="mxinfo " id="T1:U2504">2</span>*<span class="var type1" id="S38T1U3199">acc_ob_x</span></span>*<span class="var type1" id="S10T1U3200">ey</span></span>*<span class="var type1" id="S35T1U3201">pos_ob_y</span></span>*<span class="var type1" id="S7T1U3202">yp_dot</span></span>*<span class="mxinfo " id="T1:U2509">cos(<span class="var type1" id="S9T1U3205">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2511"><span class="mxinfo " id="T1:U2512"><span class="mxinfo " id="T1:U2513"><span class="mxinfo " id="T1:U2514"><span class="mxinfo " id="T1:U2515"><span class="mxinfo " id="T1:U2516">2</span>*<span class="var type1" id="S39T1U3212">acc_ob_y</span></span>*<span class="var type1" id="S34T1U3213">pos_ob_x</span></span>*<span class="var type1" id="S2T1U3214">s</span></span>*<span class="var type1" id="S6T1U3215">xp_dot</span></span>*<span class="mxinfo " id="T1:U2521">cos(<span class="var type1" id="S9T1U3218">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2523"><span class="mxinfo " id="T1:U2524"><span class="mxinfo " id="T1:U2525"><span class="mxinfo " id="T1:U2526"><span class="mxinfo " id="T1:U2527"><span class="mxinfo " id="T1:U2528">2</span>*<span class="var type1" id="S38T1U3225">acc_ob_x</span></span>*<span class="var type1" id="S34T1U3226">pos_ob_x</span></span>*<span class="var type1" id="S2T1U3227">s</span></span>*<span class="var type1" id="S7T1U3228">yp_dot</span></span>*<span class="mxinfo " id="T1:U2533">cos(<span class="var type1" id="S9T1U3231">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2535"><span class="mxinfo " id="T1:U2536"><span class="mxinfo " id="T1:U2537"><span class="mxinfo " id="T1:U2538"><span class="mxinfo " id="T1:U2539"><span class="mxinfo " id="T1:U2540">2</span>*<span class="var type1" id="S38T1U3238">acc_ob_x</span></span>*<span class="var type1" id="S10T1U3239">ey</span></span>*<span class="var type1" id="S35T1U3240">pos_ob_y</span></span>*<span class="var type1" id="S6T1U3241">xp_dot</span></span>*<span class="mxinfo " id="T1:U2545">sin(<span class="var type1" id="S9T1U3244">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2547"><span class="mxinfo " id="T1:U2548"><span class="mxinfo " id="T1:U2549"><span class="mxinfo " id="T1:U2550"><span class="mxinfo " id="T1:U2551"><span class="mxinfo " id="T1:U2552">2</span>*<span class="var type1" id="S39T1U3251">acc_ob_y</span></span>*<span class="var type1" id="S10T1U3252">ey</span></span>*<span class="var type1" id="S35T1U3253">pos_ob_y</span></span>*<span class="var type1" id="S7T1U3254">yp_dot</span></span>*<span class="mxinfo " id="T1:U2557">sin(<span class="var type1" id="S9T1U3257">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2559"><span class="mxinfo " id="T1:U2560"><span class="mxinfo " id="T1:U2561"><span class="mxinfo " id="T1:U2562"><span class="mxinfo " id="T1:U2563"><span class="mxinfo " id="T1:U2564">2</span>*<span class="var type1" id="S10T1U3264">ey</span></span>*<span class="var type1" id="S36T1U3265">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3266">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3267">yp_dot</span></span>*<span class="mxinfo " id="T1:U2569">cos(<span class="var type1" id="S9T1U3270">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2571"><span class="mxinfo " id="T1:U2572"><span class="mxinfo " id="T1:U2573"><span class="mxinfo " id="T1:U2574"><span class="mxinfo " id="T1:U2575"><span class="mxinfo " id="T1:U2576">2</span>*<span class="var type1" id="S38T1U3277">acc_ob_x</span></span>*<span class="var type1" id="S34T1U3278">pos_ob_x</span></span>*<span class="var type1" id="S2T1U3279">s</span></span>*<span class="var type1" id="S6T1U3280">xp_dot</span></span>*<span class="mxinfo " id="T1:U2581">sin(<span class="var type1" id="S9T1U3283">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2583"><span class="mxinfo " id="T1:U2584"><span class="mxinfo " id="T1:U2585"><span class="mxinfo " id="T1:U2586"><span class="mxinfo " id="T1:U2587"><span class="mxinfo " id="T1:U2588">2</span>*<span class="var type1" id="S39T1U3290">acc_ob_y</span></span>*<span class="var type1" id="S34T1U3291">pos_ob_x</span></span>*<span class="var type1" id="S2T1U3292">s</span></span>*<span class="var type1" id="S7T1U3293">yp_dot</span></span>*<span class="mxinfo " id="T1:U2593">sin(<span class="var type1" id="S9T1U3296">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2595"><span class="mxinfo " id="T1:U2596"><span class="mxinfo " id="T1:U2597"><span class="mxinfo " id="T1:U2598"><span class="mxinfo " id="T1:U2599"><span class="mxinfo " id="T1:U2600">2</span>*<span class="var type1" id="S34T1U3303">pos_ob_x</span></span>*<span class="var type1" id="S36T1U3304">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3305">vel_ob_y</span></span>*<span class="var type1" id="S6T1U3306">xp_dot</span></span>*<span class="mxinfo " id="T1:U2605">cos(<span class="var type1" id="S9T1U3309">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2607"><span class="mxinfo " id="T1:U2608"><span class="mxinfo " id="T1:U2609"><span class="mxinfo " id="T1:U2610"><span class="mxinfo " id="T1:U2611"><span class="mxinfo " id="T1:U2612">2</span>*<span class="var type1" id="S35T1U3316">pos_ob_y</span></span>*<span class="var type1" id="S36T1U3317">vel_ob_x</span></span>*<span class="var type1" id="S37T1U3318">vel_ob_y</span></span>*<span class="var type1" id="S7T1U3319">yp_dot</span></span>*<span class="mxinfo " id="T1:U2617">cos(<span class="var type1" id="S9T1U3322">epsi</span>)</span></span></span>)</span>)</span>/(<span class="mxinfo " id="T1:U2619"><span class="mxinfo " id="T1:U2620"><span class="mxinfo " id="T1:U2621">(<span class="mxinfo " id="T1:U2622"><span class="mxinfo " id="T1:U2623">1</span> - <span class="mxinfo " id="T1:U2624"><span class="mxinfo " id="T1:U2625">(<span class="mxinfo " id="T1:U2626"><span class="mxinfo " id="T1:U2627">(<span class="mxinfo " id="T1:U2628"><span class="var type1" id="S34T1U3337">pos_ob_x</span> - <span class="var type1" id="S2T1U3338">s</span></span>)*(<span class="mxinfo " id="T1:U2631"><span class="mxinfo " id="T1:U2632"><span class="var type1" id="S36T1U3342">vel_ob_x</span> - <span class="mxinfo " id="T1:U2634"><span class="var type1" id="S6T1U3344">xp_dot</span>*<span class="mxinfo " id="T1:U2636">cos(<span class="var type1" id="S9T1U3347">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2638"><span class="var type1" id="S7T1U3349">yp_dot</span>*<span class="mxinfo " id="T1:U2640">sin(<span class="var type1" id="S9T1U3352">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U2642">(<span class="mxinfo " id="T1:U2643"><span class="var type1" id="S10T1U3356">ey</span> - <span class="var type1" id="S35T1U3357">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U2646"><span class="mxinfo " id="T1:U2647"><span class="mxinfo " id="T1:U2648"><span class="var type1" id="S7T1U3362">yp_dot</span>*<span class="mxinfo " id="T1:U2650">cos(<span class="var type1" id="S9T1U3365">epsi</span>)</span></span> - <span class="var type1" id="S37T1U3366">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2653"><span class="var type1" id="S6T1U3368">xp_dot</span>*<span class="mxinfo " id="T1:U2655">sin(<span class="var type1" id="S9T1U3371">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U2657">(<span class="mxinfo " id="T1:U2658"><span class="mxinfo " id="T1:U2659">(<span class="mxinfo " id="T1:U2660"><span class="var type1" id="S34T1U3380">pos_ob_x</span> - <span class="var type1" id="S2T1U3381">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2663">(<span class="mxinfo " id="T1:U2664"><span class="var type1" id="S10T1U3386">ey</span> - <span class="var type1" id="S35T1U3387">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U2667"><span class="mxinfo " id="T1:U2668">(<span class="mxinfo " id="T1:U2669"><span class="mxinfo " id="T1:U2670"><span class="var type1" id="S36T1U3395">vel_ob_x</span> - <span class="mxinfo " id="T1:U2672"><span class="var type1" id="S6T1U3397">xp_dot</span>*<span class="mxinfo " id="T1:U2674">cos(<span class="var type1" id="S9T1U3400">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2676"><span class="var type1" id="S7T1U3402">yp_dot</span>*<span class="mxinfo " id="T1:U2678">sin(<span class="var type1" id="S9T1U3405">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2680">(<span class="mxinfo " id="T1:U2681"><span class="mxinfo " id="T1:U2682"><span class="mxinfo " id="T1:U2683"><span class="var type1" id="S7T1U3412">yp_dot</span>*<span class="mxinfo " id="T1:U2685">cos(<span class="var type1" id="S9T1U3415">epsi</span>)</span></span> - <span class="var type1" id="S37T1U3416">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2688"><span class="var type1" id="S6T1U3418">xp_dot</span>*<span class="mxinfo " id="T1:U2690">sin(<span class="var type1" id="S9T1U3421">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span>*<span class="mxinfo " id="T1:U2692">(<span class="mxinfo " id="T1:U2693"><span class="mxinfo " id="T1:U2694">(<span class="mxinfo " id="T1:U2695"><span class="var type1" id="S34T1U3433">pos_ob_x</span> - <span class="var type1" id="S2T1U3434">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2698">(<span class="mxinfo " id="T1:U2699"><span class="var type1" id="S10T1U3439">ey</span> - <span class="var type1" id="S35T1U3440">pos_ob_y</span></span>)^2</span></span>)^(3/2)</span></span>*<span class="mxinfo " id="T1:U2702">(<span class="mxinfo " id="T1:U2703"><span class="mxinfo " id="T1:U2704">(<span class="mxinfo " id="T1:U2705"><span class="mxinfo " id="T1:U2706"><span class="var type1" id="S36T1U3453">vel_ob_x</span> - <span class="mxinfo " id="T1:U2708"><span class="var type1" id="S6T1U3455">xp_dot</span>*<span class="mxinfo " id="T1:U2710">cos(<span class="var type1" id="S9T1U3458">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2712"><span class="var type1" id="S7T1U3460">yp_dot</span>*<span class="mxinfo " id="T1:U2714">sin(<span class="var type1" id="S9T1U3463">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2716">(<span class="mxinfo " id="T1:U2717"><span class="mxinfo " id="T1:U2718"><span class="mxinfo " id="T1:U2719"><span class="var type1" id="S7T1U3470">yp_dot</span>*<span class="mxinfo " id="T1:U2721">cos(<span class="var type1" id="S9T1U3473">epsi</span>)</span></span> - <span class="var type1" id="S37T1U3474">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2724"><span class="var type1" id="S6T1U3476">xp_dot</span>*<span class="mxinfo " id="T1:U2726">sin(<span class="var type1" id="S9T1U3479">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,300" id="srcline300">300</a></span><span class="line">        <span class="mxinfo " id="T1:U2728"><span class="var type1" id="S84T1U3487">L_g_h_ang_part1</span> = <span class="mxinfo " id="T1:U2730">(<span class="mxinfo " id="T1:U2731"><span class="mxinfo " id="T1:U2732"><span class="mxinfo " id="T1:U2733"><span class="mxinfo " id="T1:U2734">2</span>*<span class="var type1" id="S58T1U3494">cf</span></span>*(<span class="mxinfo " id="T1:U2736"><span class="mxinfo " id="T1:U2737"><span class="mxinfo " id="T1:U2738"><span class="var type1" id="S36T1U3499">vel_ob_x</span>*<span class="mxinfo " id="T1:U2740">cos(<span class="var type1" id="S9T1U3502">epsi</span>)</span></span> - <span class="var type1" id="S6T1U3503">xp_dot</span></span> + <span class="mxinfo " id="T1:U2743"><span class="var type1" id="S37T1U3505">vel_ob_y</span>*<span class="mxinfo " id="T1:U2745">sin(<span class="var type1" id="S9T1U3508">epsi</span>)</span></span></span>)</span>*(<span class="mxinfo " id="T1:U2747"><span class="mxinfo " id="T1:U2748"><span class="mxinfo " id="T1:U2749"><span class="mxinfo " id="T1:U2750"><span class="mxinfo " id="T1:U2751"><span class="mxinfo " id="T1:U2752"><span class="mxinfo " id="T1:U2753"><span class="mxinfo " id="T1:U2754"><span class="mxinfo " id="T1:U2755"><span class="mxinfo " id="T1:U2756"><span class="mxinfo " id="T1:U2757"><span class="mxinfo " id="T1:U2758"><span class="var type1" id="S10T1U3522">ey</span>*<span class="var type1" id="S36T1U3523">vel_ob_x</span></span> + <span class="mxinfo " id="T1:U2761"><span class="var type1" id="S34T1U3525">pos_ob_x</span>*<span class="var type1" id="S37T1U3526">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2764"><span class="var type1" id="S35T1U3528">pos_ob_y</span>*<span class="var type1" id="S36T1U3529">vel_ob_x</span></span></span> - <span class="mxinfo " id="T1:U2767"><span class="var type1" id="S2T1U3531">s</span>*<span class="var type1" id="S37T1U3532">vel_ob_y</span></span></span> - <span class="mxinfo " id="T1:U2770"><span class="mxinfo " id="T1:U2771"><span class="var type1" id="S10T1U3535">ey</span>*<span class="var type1" id="S6T1U3536">xp_dot</span></span>*<span class="mxinfo " id="T1:U2774">cos(<span class="var type1" id="S9T1U3539">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2776"><span class="mxinfo " id="T1:U2777"><span class="var type1" id="S35T1U3542">pos_ob_y</span>*<span class="var type1" id="S6T1U3543">xp_dot</span></span>*<span class="mxinfo " id="T1:U2780">cos(<span class="var type1" id="S9T1U3546">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2782"><span class="mxinfo " id="T1:U2783"><span class="var type1" id="S34T1U3549">pos_ob_x</span>*<span class="var type1" id="S7T1U3550">yp_dot</span></span>*<span class="mxinfo " id="T1:U2786">cos(<span class="var type1" id="S9T1U3553">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2788"><span class="mxinfo " id="T1:U2789"><span class="var type1" id="S2T1U3556">s</span>*<span class="var type1" id="S7T1U3557">yp_dot</span></span>*<span class="mxinfo " id="T1:U2792">cos(<span class="var type1" id="S9T1U3560">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2794"><span class="mxinfo " id="T1:U2795"><span class="var type1" id="S10T1U3563">ey</span>*<span class="var type1" id="S7T1U3564">yp_dot</span></span>*<span class="mxinfo " id="T1:U2798">sin(<span class="var type1" id="S9T1U3567">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2800"><span class="mxinfo " id="T1:U2801"><span class="var type1" id="S34T1U3570">pos_ob_x</span>*<span class="var type1" id="S6T1U3571">xp_dot</span></span>*<span class="mxinfo " id="T1:U2804">sin(<span class="var type1" id="S9T1U3574">epsi</span>)</span></span></span> - <span class="mxinfo " id="T1:U2806"><span class="mxinfo " id="T1:U2807"><span class="var type1" id="S35T1U3577">pos_ob_y</span>*<span class="var type1" id="S7T1U3578">yp_dot</span></span>*<span class="mxinfo " id="T1:U2810">sin(<span class="var type1" id="S9T1U3581">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2812"><span class="mxinfo " id="T1:U2813"><span class="var type1" id="S2T1U3584">s</span>*<span class="var type1" id="S6T1U3585">xp_dot</span></span>*<span class="mxinfo " id="T1:U2816">sin(<span class="var type1" id="S9T1U3588">epsi</span>)</span></span></span>)</span>)/(<span class="mxinfo " id="T1:U2818"><span class="mxinfo " id="T1:U2819"><span class="mxinfo " id="T1:U2820"><span class="var type1" id="S60T1U3593">m</span>*<span class="mxinfo " id="T1:U2822">(<span class="mxinfo " id="T1:U2823"><span class="mxinfo " id="T1:U2824">1</span> - <span class="mxinfo " id="T1:U2825"><span class="mxinfo " id="T1:U2826">(<span class="mxinfo " id="T1:U2827"><span class="mxinfo " id="T1:U2828">(<span class="mxinfo " id="T1:U2829"><span class="var type1" id="S34T1U3605">pos_ob_x</span> - <span class="var type1" id="S2T1U3606">s</span></span>)*(<span class="mxinfo " id="T1:U2832"><span class="mxinfo " id="T1:U2833"><span class="var type1" id="S36T1U3610">vel_ob_x</span> - <span class="mxinfo " id="T1:U2835"><span class="var type1" id="S6T1U3612">xp_dot</span>*<span class="mxinfo " id="T1:U2837">cos(<span class="var type1" id="S9T1U3615">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2839"><span class="var type1" id="S7T1U3617">yp_dot</span>*<span class="mxinfo " id="T1:U2841">sin(<span class="var type1" id="S9T1U3620">epsi</span>)</span></span></span>)</span> + <span class="mxinfo " id="T1:U2843">(<span class="mxinfo " id="T1:U2844"><span class="var type1" id="S10T1U3624">ey</span> - <span class="var type1" id="S35T1U3625">pos_ob_y</span></span>)*(<span class="mxinfo " id="T1:U2847"><span class="mxinfo " id="T1:U2848"><span class="mxinfo " id="T1:U2849"><span class="var type1" id="S7T1U3630">yp_dot</span>*<span class="mxinfo " id="T1:U2851">cos(<span class="var type1" id="S9T1U3633">epsi</span>)</span></span> - <span class="var type1" id="S37T1U3634">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2854"><span class="var type1" id="S6T1U3636">xp_dot</span>*<span class="mxinfo " id="T1:U2856">sin(<span class="var type1" id="S9T1U3639">epsi</span>)</span></span></span>)</span></span>)^2</span>/(<span class="mxinfo " id="T1:U2858">(<span class="mxinfo " id="T1:U2859"><span class="mxinfo " id="T1:U2860">(<span class="mxinfo " id="T1:U2861"><span class="var type1" id="S34T1U3648">pos_ob_x</span> - <span class="var type1" id="S2T1U3649">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2864">(<span class="mxinfo " id="T1:U2865"><span class="var type1" id="S10T1U3654">ey</span> - <span class="var type1" id="S35T1U3655">pos_ob_y</span></span>)^2</span></span>)*(<span class="mxinfo " id="T1:U2868"><span class="mxinfo " id="T1:U2869">(<span class="mxinfo " id="T1:U2870"><span class="mxinfo " id="T1:U2871"><span class="var type1" id="S36T1U3663">vel_ob_x</span> - <span class="mxinfo " id="T1:U2873"><span class="var type1" id="S6T1U3665">xp_dot</span>*<span class="mxinfo " id="T1:U2875">cos(<span class="var type1" id="S9T1U3668">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2877"><span class="var type1" id="S7T1U3670">yp_dot</span>*<span class="mxinfo " id="T1:U2879">sin(<span class="var type1" id="S9T1U3673">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2881">(<span class="mxinfo " id="T1:U2882"><span class="mxinfo " id="T1:U2883"><span class="mxinfo " id="T1:U2884"><span class="var type1" id="S7T1U3680">yp_dot</span>*<span class="mxinfo " id="T1:U2886">cos(<span class="var type1" id="S9T1U3683">epsi</span>)</span></span> - <span class="var type1" id="S37T1U3684">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2889"><span class="var type1" id="S6T1U3686">xp_dot</span>*<span class="mxinfo " id="T1:U2891">sin(<span class="var type1" id="S9T1U3689">epsi</span>)</span></span></span>)^2</span></span>)</span>)</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U2893">(<span class="mxinfo " id="T1:U2894"><span class="mxinfo " id="T1:U2895">(<span class="mxinfo " id="T1:U2896"><span class="var type1" id="S34T1U3701">pos_ob_x</span> - <span class="var type1" id="S2T1U3702">s</span></span>)^2</span> + <span class="mxinfo " id="T1:U2899">(<span class="mxinfo " id="T1:U2900"><span class="var type1" id="S10T1U3707">ey</span> - <span class="var type1" id="S35T1U3708">pos_ob_y</span></span>)^2</span></span>)^(1/2)</span></span>*<span class="mxinfo " id="T1:U2903">(<span class="mxinfo " id="T1:U2904"><span class="mxinfo " id="T1:U2905">(<span class="mxinfo " id="T1:U2906"><span class="mxinfo " id="T1:U2907"><span class="var type1" id="S36T1U3721">vel_ob_x</span> - <span class="mxinfo " id="T1:U2909"><span class="var type1" id="S6T1U3723">xp_dot</span>*<span class="mxinfo " id="T1:U2911">cos(<span class="var type1" id="S9T1U3726">epsi</span>)</span></span></span> + <span class="mxinfo " id="T1:U2913"><span class="var type1" id="S7T1U3728">yp_dot</span>*<span class="mxinfo " id="T1:U2915">sin(<span class="var type1" id="S9T1U3731">epsi</span>)</span></span></span>)^2</span> + <span class="mxinfo " id="T1:U2917">(<span class="mxinfo " id="T1:U2918"><span class="mxinfo " id="T1:U2919"><span class="mxinfo " id="T1:U2920"><span class="var type1" id="S7T1U3738">yp_dot</span>*<span class="mxinfo " id="T1:U2922">cos(<span class="var type1" id="S9T1U3741">epsi</span>)</span></span> - <span class="var type1" id="S37T1U3742">vel_ob_y</span></span> + <span class="mxinfo " id="T1:U2925"><span class="var type1" id="S6T1U3744">xp_dot</span>*<span class="mxinfo " id="T1:U2927">sin(<span class="var type1" id="S9T1U3747">epsi</span>)</span></span></span>)^2</span></span>)^(3/2)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,301" id="srcline301">301</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="1,302" id="srcline302">302</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,303" id="srcline303">303</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,304" id="srcline304">304</a></span><span class="line"><span class="comment">%% output, notice the define of the output variables: </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,305" id="srcline305">305</a></span><span class="line">   <span class="comment">%out = L_f_h_ang_part1;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,306" id="srcline306">306</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,307" id="srcline307">307</a></span><span class="line"><span class="comment">%     %test:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,308" id="srcline308">308</a></span><span class="line"><span class="comment">%     out(i_ob).h_angle_moving= NaN;  %cannot be 0?</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,309" id="srcline309">309</a></span><span class="line"><span class="comment">%     out(i_ob).A_n_angle_moving  = A_n_anglemoving; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,310" id="srcline310">310</a></span><span class="line"><span class="comment">%     out(i_ob).B_n_angle_moving = B_n_anglemoving;    </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,311" id="srcline311">311</a></span><span class="line"><span class="comment">%     out(i_ob).h_angle_fix =  h_ang; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,312" id="srcline312">312</a></span><span class="line"><span class="comment">%     out(i_ob).A_n_angle_fix=  A_n_angle_fix; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,313" id="srcline313">313</a></span><span class="line"><span class="comment">%     out(i_ob).B_n_angle_fix = b_n_angle_fix;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,314" id="srcline314">314</a></span><span class="line"><span class="comment">%     out(i_ob).h_dis = h_vel; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,315" id="srcline315">315</a></span><span class="line"><span class="comment">%     out(i_ob).A_n_dis = A_n_vel; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,316" id="srcline316">316</a></span><span class="line"><span class="comment">%     out(i_ob).B_n_dis = b_n_vel; </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,317" id="srcline317">317</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,318" id="srcline318">318</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,319" id="srcline319">319</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,320" id="srcline320">320</a></span><span class="line"></span></span>
</pre>
